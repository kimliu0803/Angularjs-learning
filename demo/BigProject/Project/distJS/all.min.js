"use strict";function Controller(e,t,i,n,o,a,r,s,l,c){function E(){window.onscroll=function(){if(0!==document.getElementsByTagName("md-sidenav").length){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.getElementsByTagName("md-sidenav")[0].offsetLeft,i=document.getElementsByTagName("md-sidenav").length;if(e>204)for(var n=0;i>n;n++)document.getElementsByClassName("sidenavDiv")[n].style.display="block",document.getElementsByTagName("md-sidenav")[n].style.position="fixed",document.getElementsByTagName("md-sidenav")[n].style.top="0",document.getElementsByTagName("md-sidenav")[n].style.marginTop="0",document.getElementsByTagName("md-sidenav")[n].style.left=t+300*n+"px";else for(var n=0;i>n;n++)document.getElementsByClassName("sidenavDiv")[n].style.display="none",document.getElementsByTagName("md-sidenav")[n].removeAttribute("style")}}}var _=this;return e.handleMessage=function(e,t,i){e.success?t(e.value):(e.errCode&&e.message?console.info("errCode:"+e.errCode+","+e.message+"."):e.errCode?console.info("errCode:"+e.errCode+"."):console.info(e.message+"."),i(e))},e.isShow=function(e){var t=!0;if("debug"!==c.runMode){t=!1;var i=s.get("loginInfo");i&&i.authorities&&i.authorities.length>0&&angular.forEach(i.authorities,function(i){return i.jurisdictionCode===e?(t=!0,!1):void 0})}return t},e.checkAuth=function(e){if("debug"===c.runMode)return!0;for(var t="/"+e.replace(/\./g,"/"),i=s.get("loginInfo"),n=0;n<i.resources.length;n++){if(i.resources[n].resourcePath===t)return!0;if(i.resources[n].hcrmGpDetailResource)for(var o=0;o<i.resources[n].hcrmGpDetailResource.length;o++)if(i.resources[n].hcrmGpDetailResource[o].resourcePath===t)return!0}return!1},e.isContains=function(e,t){return e.indexOf(t)>=0},e.isDetailView=function(){return-1!==t.current.name.indexOf("detail")},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.selectIndex=function(e,t,i){for(var n=-1,o=e.length,a=0;o>a;a++)if(e[a][t]===i)return n=a;return n},e.selectItem=function(e,t,i){for(var n=e.length,o=0;n>o;o++)if(e[o][t]===i)return e[o]},e.removeByValue=function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t){e.splice(i,1);break}},e.alertDialog=function(e){return a.show(a.alert().clickOutsideToClose(!0).title("提示").textContent(e).ok("确定"))},e.confirmDialog=function(e,t,i){var n=a.confirm().title("提示").textContent(e).ok("确定").cancel("取消");a.show(n).then(t,i)},e.showToast=function(e,t,i,n,o){var a={vertical:t||"v-center",horizonal:i||"h-center"},s=r.simple().textContent(e).action(n).hideDelay(1500).theme(o).position(a.vertical+" "+a.horizonal);r.show(s)},e.getCurrentDate=function(t){return e.getCurrentTime(function(e){t(i("commonDate")(e))})},e.getCurrentDateTime=function(t){return e.getCurrentTime(function(e){t(new Date(e))})},e.getCurrentTime=function(t){l.getCurrentTime({}).$promise.then(function(i){e.handleMessage(i,function(e){t(e)},function(){e.alertDialog("获取服务器时间失败")})},function(){e.alertDialog("获取服务器时间失败")})},e.commonService=function(e,t,i,n){return l[e](JSON.stringify(t)).$promise.then(i,n)},e.calculateHypertensionEvaluation=function(e){function t(e,t){e>=180||t>=110?o=s[4]:e>=160&&179>=e||t>=100&&109>=t?o=s[3]:e>=140&&159>=e||t>=90&&99>=t?o=s[2]:e>=120&&139>=e||t>=80&&89>=t?o=s[1]:120>e&&80>t&&(o=s[0])}function i(e){angular.forEach(e,function(e){E+=e})}function n(){o===s[0]||o===s[1]&&0===E?(a=c[0],r=l[0]):o===s[1]&&E>=1?(a=c[0],r=l[1]):o===s[2]&&0===E?(a=c[1],r=l[2]):o===s[3]&&E>=0&&2>=E||o===s[2]&&E>=1&&2>=E?(a=c[2],r=l[3]):(o===s[4]||o===s[3]&&E>=3||o===s[2]&&E>=3)&&(a=c[3],r=l[4])}var o,a,r,s=["0028000010","0028000020","0028000030","0028000040","0028000050"],l=["0029000010","0029000020","0029000030","0029000040","0029000050"],c=["0030000010","0030000020","0030000030","0030000040"],E=0;return t(e.SYSTOLIC_PRESSURE,e.DIASTOLIC_PRESSURE),i(e.lengthArray),n(),{bloodPressureGradingCount:o,criticalityGradingCount:a,gradingManagementCount:r}},e.isSuperManager=function(){return s.get("loginInfo").organizationKeyId?!1:!0},e.check=function(t){function i(t){if(t.$invalid){for(var n in t)if(void 0!==t[n]&&void 0!==t[n].$invalid&&t[n].$invalid){var o=t[n].$name;if(t[n].$$renameControl&&"$$parentForm"!==n){if(i(t[n]))continue;return!1}if("$$parentForm"===n)continue;var a=document.querySelector("#"+o);e.scrollTo(o),"INPUT"===a.tagName||"MD-SELECT"===a.tagName||"MD-DATEPICKER"===a.tagName||"TEXTAREA"===a.tagName?t[o].$setTouched(!0):e.alertDialog("请选择相应的选项");break}return!1}return!0}return i(t)},e.scrollTo=function(e){n.hash(e),o()},E(),_}function loginCtrl(e,t,i,n,o,a,r){var s=this;return s.random=0,o.remove("loginInfo"),s.getCode=function(){s.codeUrl=r.urlBase+"/getcode?"+s.random,s.random=s.random+1},s.login=function(){function i(){a.login(s.params,function(i){e.handleMessage(i,function(i){o.set("loginInfo",i),e.previousState_name&&e.lastUserName===i.username&&e.checkAuth(e.previousState_name)?e.back():(e.lastUserName=i.username,t.go("main"))},function(t){var i=n("logMessage")(t.message);e.alertDialog(i)})},function(){e.alertDialog("登录失败")})}s.username=s.name+"#0003000010","debug"===r.runMode?s.params={HOSPITAL_ID:"1",ID_NO:"310102195407043250"}:s.params="username="+s.username+"&password="+s.password,a.checkCode({code:s.code},function(t){e.handleMessage(t,function(t){t?i():(e.alertDialog("验证码错误。"),s.getCode())},function(){e.alertDialog("验证码错误。"),s.getCode()})},function(){e.alertDialog("验证码校验失败")})},s.getCode(),s}function loginService(e,t){var i=this;return"debug"===t.runMode?i.login=function(t,i,n){return e.debugLogin(JSON.stringify(t)).$promise.then(i,n)}:i.login=function(t,i,n){return e.login(t).$promise.then(i,n)},i.logout=function(t,i,n){return e.logout(JSON.stringify(t)).$promise.then(i,n)},i.modifyPass=function(t,i,n){return e.modifyPass(JSON.stringify(t)).$promise.then(i,n)},i.getCode=function(t,i,n){return e.getCode().$promise.then(i,n)},i.checkCode=function(t,i,n){return e.checkCode(JSON.stringify(t)).$promise.then(i,n)},i}function mainCtrl(e,t,i,n,o,a,r,s,l){function c(){e.alertDialog("登陆超时，请重新登陆").then(function(){i.go("login")})}var E=this;return E.runMode="debug"===l.runMode,E.loginInfo=a.get("loginInfo"),E.showModifyPass=function(){function e(e,t,i){t.$on("panelClose",function(){i.close()}),t.cancel=function(){i.close()},t.answer=function(){var n={OLDPASSWORD:t.oldPassword,NEWPASSWORD:t.newPassword,REPASSWORD:t.rePassword};s.modifyPass(n,function(t){e.handleMessage(t,function(){E.logout(i)},function(t){e.alertDialog(t.message)})},function(){e.alertDialog("修改密码失败")})}}SMS.CONTROLLERS.controller("DialogController",e),e.$inject=["$rootScope","$scope","mdPanelRef"];var t=o.newPanelPosition().absolute().center(),i=o.newPanelAnimation().withAnimation(o.animation.FADE),n={animation:i,attachTo:angular.element(document.body),controller:e,templateUrl:"template/login/edit.html",position:t,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:E.customFullscreen};o.open(n)},E.showLogout=function(){e.confirmDialog("您确定要退出登录吗?",function(){E.logout()},function(){})},E.logout=function(t){s.logout({},function(n){e.handleMessage(n,function(){t&&t.close(),a.remove("loginInfo"),i.go("login")},function(){e.alertDialog("退出登录失败")})},function(){e.alertDialog("退出登录失败")})},E.stateGo=function(e){i.go(e)},E.isSelectedMenu=function(e){return"/main"===e?"/main"===i.current.naviPath:i.current.naviPath.indexOf(e)>=0},t.$on("auth-loginRequired",c),t.$on("auth-forbidden",c),E}function mainService(){var e=this;return e}function organizationAddCtrl(e,t,i,n,o){function a(t){angular.forEach(_,function(i){r[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}var r=this,s=null,l=null,c=null,E=null;r.organization_level="-1",r.organizParentOrder="-1",r.organizParent="-1",r.organizAddressProvince="-1",r.organizAddressCity="-1",r.organizAddressCounty="-1",r.organizAddressStreet="-1",r.isOnlin="1",r.editOranginze=!0,r.showHospitalLevel=!0,r.required=!0;var _=[{DICT_TYPE_CODE:"0019",LIST_NAME:"organizationTypeArr"},{DICT_TYPE_CODE:"0004",LIST_NAME:"hospital_level_arr"}];return e.commonService("getDictList",{DICT_TYPE_CODE_LIST:_},function(t){e.handleMessage(t,function(e){a(e),r.organizationType=r.organizationTypeArr[0]},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")}),r.organizationTypeChange=function(){"0019000010"===r.organizationType.DICT_VALUE_CODE?(r.showHospitalLevel=!0,r.required=!0):(r.showHospitalLevel=!1,r.required=!1,r.hospital_level=void 0)},r.closeAddOrangize=function(e){i.closeAddOrangize(e,n,function(){t.go("main.baseData.organizationList")},function(){})},r.returnToOrganiz=function(){t.go("main.baseData.organizationList")},r.initParentOrder=function(t){t||i.getOrganizationLevelList("",function(t){e.handleMessage(t,function(e){r.organizParentOrders=e},function(){r.organizParentOrders=[],e.alertDialog("获取机构等级失败")})},function(){e.alertDialog("获取机构等级失败")})},r.initProvinceList=function(t){t||(o.get("loginInfo").organizationKeyId?i.getProvinceList("",function(t){e.handleMessage(t,function(e){r.organizAddressProvinces=e},function(){r.organizAddressProvinces=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")}):e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(e){r.organizAddressProvinces=e},function(){r.organizAddressProvinces=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")}))},r.initCertainLevelOrganization=function(){if("-1"===r.organizParentOrder||"0"===r.organizParentOrder)return void(r.organizParents=[]);if(!E||E!==r.organizParentOrder.LEVEL){var t={ORGANIZATION_LEVEL:r.organizParentOrder.LEVEL};E=r.organizParentOrder.LEVEL,i.getCertainLevelOrganization(t,function(t){e.handleMessage(t,function(e){r.organizParents=e},function(){r.organizParents=[],e.alertDialog("获取上级机构失败")})},function(){e.alertDialog("获取上级机构失败")})}},r.initCityListOfCertainProvince=function(t){if(t.organizAddressProvince.$dirty){if(!r.organizAddressProvince)return void(r.organizAddressCitys=[]);if(!s||l!==r.organizAddressProvince.PROVINCE_CODE){var n={PROVINCE_CODE:r.organizAddressProvince.PROVINCE_CODE};s=r.organizAddressProvince.PROVINCE_CODE,o.get("loginInfo").organizationKeyId?i.getCityListOfCertainProvince(n,function(t){e.handleMessage(t,function(e){r.organizAddressCitys=e},function(){r.organizAddressCitys=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")}):e.commonService("getCityListOfCertainProvince",n,function(t){e.handleMessage(t,function(e){r.organizAddressCitys=e},function(){r.organizAddressCitys=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})}}},r.initCountyListOfCertainCity=function(t){if(t.organizAddressCity.$dirty){if("-1"===r.organizAddressCity)return void(r.organizAddressCountys=[]);if(!l||l!==r.organizAddressCity.CITY_CODE){var n={CITY_CODE:r.organizAddressCity.CITY_CODE};l=r.organizAddressCity.CITY_CODE,o.get("loginInfo").organizationKeyId?i.getCountyListOfCertainCity(n,function(t){e.handleMessage(t,function(e){r.organizAddressCountys=e},function(){r.organizAddressCountys=[],e.alertDialog("获取区/县列表失败")})},function(){e.alertDialog("获取区/县列表失败")}):e.commonService("getCountyListOfCertainCity",n,function(t){e.handleMessage(t,function(e){r.organizAddressCountys=e},function(){r.organizAddressCountys=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})}}},r.initSubdistrictListOfCertainCounty=function(t){if(t.organizAddressCounty.$dirty){if("-1"===r.organizAddressCounty)return void(r.organizAddressStreets=[]);if(!c||c!==r.organizAddressCounty.COUNTY_DISTRICT_CODE){var n={COUNTY_DISTRICT_CODE:r.organizAddressCounty.COUNTY_DISTRICT_CODE};c=r.organizAddressCounty.COUNTY_DISTRICT_CODE,o.get("loginInfo").organizationKeyId?i.getSubdistrictListOfCertainCounty(n,function(t){e.handleMessage(t,function(e){r.organizAddressStreets=e},function(){r.organizAddressStreets=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")}):e.commonService("getSubdistrictListOfCertainCounty",n,function(t){e.handleMessage(t,function(e){r.organizAddressStreets=e},function(){r.organizAddressStreets=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})}}},r.saveAddOrangize=function(o){if(e.check(o)){var a={PARENT_ORGANIZATION_ID:"-1"===r.organizParent?null:r.organizParent.ORGANIZATION_KEY_ID,ORGANIZATION_LEVEL:"-1"===r.organizParentOrder||"0"===r.organizParentOrder?1:parseInt(r.organizParentOrder.LEVEL)+1,PARENT_ORGANIZATION_CODE:"-1"===r.organizParent?null:r.organizParent.ORGANIZATION_CODE,ORGANIZATION_NAME:r.organizName,PARENT_ORGANIZATION_NAME:"-1"===r.organizParent?null:r.organizParent.ORGANIZATION_NAME,PROVINCE_CODE:"-1"===r.organizAddressProvince?null:r.organizAddressProvince.PROVINCE_CODE,PROVINCE_NAME:"-1"===r.organizAddressProvince?null:r.organizAddressProvince.PROVINCE_NAME,CITY_CODE:"-1"===r.organizAddressCity?null:r.organizAddressCity.CITY_CODE,CITY_NAME:"-1"===r.organizAddressCity?null:r.organizAddressCity.CITY_NAME,COUNTY_DISTRICT_CODE:"-1"===r.organizAddressCounty?null:r.organizAddressCounty.COUNTY_DISTRICT_CODE,COUNTY_DISTRICT_NAME:"-1"===r.organizAddressCounty?null:r.organizAddressCounty.COUNTY_DISTRICT_NAME,STREET_TOWNSHIP_CODE:"-1"===r.organizAddressStreet?null:r.organizAddressStreet.STREET_TOWNSHIP_CODE,STREET_TOWNSHIP_NAME:"-1"===r.organizAddressStreet?null:r.organizAddressStreet.STREET_TOWNSHIP_NAME,ORGANIZATION_ADDRESS:r.organizAddressDetail||null,ORGANIZATION_SUMMARY:r.organizIntroduce||null,OPERATOR_ID:1,OPERATOR_NAME:"OP",IS_ONLINE:parseInt(r.isOnlin),ORGANIZATION_CONTACTS:r.organization_contacts||null,ORGANIZATION_CONTACTS_PHONE:r.organization_contacts_phone||null,HOSPITAL_LEVEL_CODE:r.hospital_level?r.hospital_level.DICT_VALUE_CODE:null,HOSPITAL_LEVEL_NAME:r.hospital_level?r.hospital_level.DICT_VALUE_NAME:null,ORGANIZATION_TYPE_CODE:r.organizationType.DICT_VALUE_CODE,ORGANIZATION_TYPE_NAME:r.organizationType.DICT_VALUE_NAME};i.isOrganizationExist(a,function(r){0!==r.value.IS_EXIST?e.alertDialog("机构名已存在"):i.saveAddOrangize(o,n,a,function(i){e.handleMessage(i,function(){e.alertDialog("保存成功"),t.go("main.baseData.organizationList")},function(){e.alertDialog("保存失败")})},function(t){t||(t="保存失败"),e.alertDialog(t)})},function(){e.alertDialog("机构名查重失败，无法保存")})}},r.changeAddress=function(e){switch(e){case 1:r.organizAddressCity="-1",r.organizAddressCounty="-1",r.organizAddressStreet="-1";break;case 2:r.organizAddressCounty="-1",r.organizAddressStreet="-1";break;case 3:r.organizAddressStreet="-1";break;case 4:break;case 5:r.organizParent="-1"}},r}function organizationEditCtrl(e,t,i,n,o,a){function r(t){angular.forEach(L,function(i){d[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}function s(){n.getOrganizationInfo(i,function(t){e.handleMessage(t,function(){c(t)},function(){e.alertDialog("获取机构信息失败")})},function(){e.alertDialog("获取机构信息失败")})}function l(e,t,i){if(t){for(var n=0;n<t.length;n++)if(t[n][i]===e[i])return t[n];return t[t.length]=e,t[t.length-1]}return t=[e],t[0]}function c(t){d.organizName=t.value.ORGANIZATION_NAME,D=d.organizName,T=t.value.PARENT_ORGANIZATION_CODE?t.value.PARENT_ORGANIZATION_CODE:null,d.isOnlin=t.value.IS_ONLINE,d.organizIntroduce=t.value.ORGANIZATION_SUMMARY||"",I=t.value.ORGANIZATION_CODE,E(t),_(t),d.organization_contacts=t.value.ORGANIZATION_CONTACTS||"",d.organization_contacts_phone=t.value.ORGANIZATION_CONTACTS_PHONE||"",d.organizationType=e.selectItem(d.organizationTypeArr,"DICT_VALUE_CODE",t.value.ORGANIZATION_TYPE_CODE),d.hospital_level=e.selectItem(d.hospital_level_arr,"DICT_VALUE_NAME",t.value.HOSPITAL_LEVEL_NAME),d.organizationTypeChange()}function E(t){n.getOrganizationLevelList("",function(i){e.handleMessage(i,function(){if(d.organizParentOrders=i.value,1!==t.value.ORGANIZATION_LEVEL){var e={LEVEL:t.value.ORGANIZATION_LEVEL-1,LEVEL_CN:t.value.PARENT_ORGANIZATION_LEVEL_CN};u=t.value.ORGANIZATION_LEVEL-1,d.organizParentOrder=l(e,d.organizParentOrders,"LEVEL")}},function(){e.alertDialog("查询机构级别列表失败")})},function(){e.alertDialog("查询机构级别列表失败")}),1!==t.value.ORGANIZATION_LEVEL&&n.getCertainLevelOrganization({ORGANIZATION_LEVEL:t.value.ORGANIZATION_LEVEL-1,ORGANIZATION_KEY_ID:i.ORGANIZATION_KEY_ID,ORGANIZATION_CODE:t.value.ORGANIZATION_CODE},function(i){e.handleMessage(i,function(){d.organizParents=i.value;var e={ORGANIZATION_CODE:t.value.PARENT_ORGANIZATION_CODE,ORGANIZATION_KEY_ID:t.value.PARENT_ORGANIZATION_ID,ORGANIZATION_NAME:t.value.PARENT_ORGANIZATION_NAME};d.organizParent=l(e,d.organizParents,"ORGANIZATION_KEY_ID")},function(){d.organizParents=[],e.alertDialog("查询上级机构列表失败")})},function(){e.alertDialog("查询上级机构列表失败")})}function _(t){t.value.ORGANIZATION_ADDRESS?(O=t.value.PROVINCE_CODE,g=t.value.CITY_CODE,S=t.value.COUNTY_DISTRICT_CODE,a.get("loginInfo").organizationKeyId?(n.getProvinceList("",function(i){e.handleMessage(i,function(){d.organizAddressProvinces=i.value;var e={PROVINCE_CODE:t.value.PROVINCE_CODE,PROVINCE_NAME:t.value.PROVINCE_NAME};d.organizAddressProvince=l(e,d.organizAddressProvinces,"PROVINCE_CODE")},function(){d.organizAddressProvinces=[],e.alertDialog("查询省列表失败")})},function(){e.alertDialog("查询省列表失败")}),n.getCityListOfCertainProvince({PROVINCE_CODE:t.value.PROVINCE_CODE},function(i){e.handleMessage(i,function(){d.organizAddressCitys=i.value;var e={CITY_CODE:t.value.CITY_CODE,CITY_NAME:t.value.CITY_NAME};d.organizAddressCity=l(e,d.organizAddressCitys,"CITY_CODE")},function(){d.organizAddressCitys=[],e.alertDialog("查询市列表失败")})},function(){e.alertDialog("查询市列表失败")}),n.getCountyListOfCertainCity({CITY_CODE:t.value.CITY_CODE},function(i){e.handleMessage(i,function(){d.organizAddressCountys=i.value;var e={COUNTY_DISTRICT_CODE:t.value.COUNTY_DISTRICT_CODE,COUNTY_DISTRICT_NAME:t.value.COUNTY_DISTRICT_NAME};d.organizAddressCounty=l(e,d.organizAddressCountys,"COUNTY_DISTRICT_CODE")},function(){d.organizAddressCountys=[],e.alertDialog("查询区/县列表失败")})},function(){e.alertDialog("查询区/县列表失败")}),n.getSubdistrictListOfCertainCounty({COUNTY_DISTRICT_CODE:t.value.COUNTY_DISTRICT_CODE},function(i){e.handleMessage(i,function(){d.organizAddressStreets=i.value;var e={STREET_TOWNSHIP_CODE:t.value.STREET_TOWNSHIP_CODE,STREET_TOWNSHIP_NAME:t.value.STREET_TOWNSHIP_NAME};d.organizAddressStreet=l(e,d.organizAddressStreets,"STREET_TOWNSHIP_CODE")},function(){d.organizAddressStreets=[],e.alertDialog("查询街道列表失败")})},function(){e.alertDialog("查询街道列表失败")})):(e.commonService("getProvinceList","",function(i){e.handleMessage(i,function(e){d.organizAddressProvinces=e;var i={PROVINCE_CODE:t.value.PROVINCE_CODE,PROVINCE_NAME:t.value.PROVINCE_NAME};d.organizAddressProvince=l(i,d.organizAddressProvinces,"PROVINCE_CODE")},function(){d.organizAddressProvinces=[],e.alertDialog("查询省列表失败")})},function(){e.alertDialog("查询省列表失败")}),e.commonService("getCityListOfCertainProvince",{PROVINCE_CODE:t.value.PROVINCE_CODE},function(i){e.handleMessage(i,function(e){d.organizAddressCitys=e;var i={CITY_CODE:t.value.CITY_CODE,CITY_NAME:t.value.CITY_NAME};d.organizAddressCity=l(i,d.organizAddressCitys,"CITY_CODE")},function(){d.organizAddressProvinces=[],e.alertDialog("查询市列表失败")})},function(){e.alertDialog("查询市列表失败")}),e.commonService("getCountyListOfCertainCity",{CITY_CODE:t.value.CITY_CODE},function(i){e.handleMessage(i,function(e){d.organizAddressCountys=e;var i={COUNTY_DISTRICT_CODE:t.value.COUNTY_DISTRICT_CODE,COUNTY_DISTRICT_NAME:t.value.COUNTY_DISTRICT_NAME};d.organizAddressCounty=l(i,d.organizAddressCountys,"COUNTY_DISTRICT_CODE")},function(){d.organizAddressProvinces=[],e.alertDialog("查询区/县列表失败")})},function(){e.alertDialog("查询区/县列表失败")}),e.commonService("getSubdistrictListOfCertainCounty",{COUNTY_DISTRICT_CODE:t.value.COUNTY_DISTRICT_CODE},function(i){e.handleMessage(i,function(e){d.organizAddressStreets=e;var i={STREET_TOWNSHIP_CODE:t.value.STREET_TOWNSHIP_CODE,STREET_TOWNSHIP_NAME:t.value.STREET_TOWNSHIP_NAME};d.organizAddressStreet=l(i,d.organizAddressStreets,"STREET_TOWNSHIP_CODE")},function(){d.organizAddressProvinces=[],e.alertDialog("查询街道列表失败")})},function(){e.alertDialog("查询街道列表失败")})),d.organizAddressDetail=t.value.ORGANIZATION_ADDRESS):a.get("loginInfo").organizationKeyId?n.getProvinceList("",function(t){e.handleMessage(t,function(){d.organizAddressProvinces=t.value},function(){d.organizAddressProvinces=[],e.alertDialog("查询省列表失败")})},function(){e.alertDialog("查询省列表失败")}):e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(e){d.organizAddressProvinces=e},function(){d.organizAddressProvinces=[],e.alertDialog("查询省列表失败")})},function(){e.alertDialog("查询省列表失败")})}var d=this;d.organizParentOrder=e.isSuperManager()?"0":"-1",d.organizParent="-1",d.organizAddressProvince="-1",d.organizAddressCity="-1",d.organizAddressCounty="-1",d.organizAddressStreet="-1",d.editOranginze=!1,d.showHospitalLevel=!0,d.required=!0,d.isEdit=!0,d.isSelf=a.get("loginInfo").organizationKeyId&&a.get("loginInfo").organizationKeyId+""===i.ORGANIZATION_KEY_ID;var I=null,D=null,T=null,u=null,O=null,g=null,S=null;d.edit=function(e){e.$setPristine(),e.$setUntouched(),d.editOranginze=!0};var L=[{DICT_TYPE_CODE:"0019",LIST_NAME:"organizationTypeArr"},{DICT_TYPE_CODE:"0004",LIST_NAME:"hospital_level_arr"}];return e.commonService("getDictList",{DICT_TYPE_CODE_LIST:L},function(t){e.handleMessage(t,function(e){r(e),d.organizationType=d.organizationTypeArr[0],s()},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")}),d.organizationTypeChange=function(){d.organizationType.DICT_VALUE_CODE&&"0019000010"===d.organizationType.DICT_VALUE_CODE?(d.showHospitalLevel=!0,d.required=!0):(d.showHospitalLevel=!1,d.required=!1,d.hospital_level=void 0)},d.returnToOrganiz=function(){t.go("main.baseData.organizationList")},d.initCertainLevelOrganization=function(t){if(t.organizParentOrder.$dirty){if("-1"===d.organizParentOrder||"0"===d.organizParentOrder)return void(d.organizParents=[]);if(!u||u!==d.organizParentOrder.LEVEL){var o={ORGANIZATION_LEVEL:d.organizParentOrder.LEVEL,ORGANIZATION_KEY_ID:i.ORGANIZATION_KEY_ID,ORGANIZATION_CODE:I};u=d.organizParentOrder.LEVEL,n.getCertainLevelOrganization(o,function(t){e.handleMessage(t,function(e){d.organizParents=e},function(){d.organizParents=[],e.alertDialog("获取机构列表失败")})},function(){e.alertDialog("获取机构列表失败")})}}},d.initCityListOfCertainProvince=function(t){if(t.organizAddressProvince.$dirty){if(!d.organizAddressProvince)return void(d.organizAddressCitys=[]);if(!O||O!==d.organizAddressProvince.PROVINCE_CODE){var i={PROVINCE_CODE:d.organizAddressProvince.PROVINCE_CODE};O=d.organizAddressProvince.PROVINCE_CODE,a.get("loginInfo").organizationKeyId?n.getCityListOfCertainProvince(i,function(t){e.handleMessage(t,function(e){d.organizAddressCitys=e},function(){d.organizAddressCitys=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")}):e.commonService("getCityListOfCertainProvince",i,function(t){e.handleMessage(t,function(e){d.organizAddressCitys=e},function(){d.organizAddressCitys=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})}}},d.initCountyListOfCertainCity=function(t){if(t.organizAddressCity.$dirty){if("-1"===d.organizAddressCity)return void(d.organizAddressCountys=[]);if(!g||g!==d.organizAddressCity.CITY_CODE){var i={CITY_CODE:d.organizAddressCity.CITY_CODE};g=d.organizAddressCity.CITY_CODE,a.get("loginInfo").organizationKeyId?n.getCountyListOfCertainCity(i,function(t){e.handleMessage(t,function(e){d.organizAddressCountys=e},function(){d.organizAddressCountys=[],e.alertDialog("获取区/县列表失败")})},function(){e.alertDialog("获取区/县列表失败")}):e.commonService("getCountyListOfCertainCity",i,function(t){e.handleMessage(t,function(e){d.organizAddressCountys=e},function(){d.organizAddressCountys=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})}}},d.initSubdistrictListOfCertainCounty=function(t){if(t.organizAddressCounty.$dirty){if("-1"===d.organizAddressCounty)return void(d.organizAddressStreets=[]);if(!S||S!==d.organizAddressCounty.COUNTY_DISTRICT_CODE){var i={COUNTY_DISTRICT_CODE:d.organizAddressCounty.COUNTY_DISTRICT_CODE};S=d.organizAddressCounty.COUNTY_DISTRICT_CODE,a.get("loginInfo").organizationKeyId?n.getSubdistrictListOfCertainCounty(i,function(t){e.handleMessage(t,function(e){d.organizAddressStreets=e},function(){d.organizAddressStreets=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")}):e.commonService("getSubdistrictListOfCertainCounty",i,function(t){e.handleMessage(t,function(e){d.organizAddressStreets=e},function(){d.organizAddressStreets=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})}}},d.changeAddress=function(e){switch(e){case 1:d.organizAddressCity="-1",d.organizAddressCounty="-1",d.organizAddressStreet="-1";break;case 2:d.organizAddressCounty="-1",d.organizAddressStreet="-1";break;case 3:d.organizAddressStreet="-1";break;case 4:break;case 5:d.organizParent="-1"}},d.saveAddOrangize=function(t){if(e.check(t)){var a={ORGANIZATION_KEY_ID:i.ORGANIZATION_KEY_ID,ORGANIZATION_LEVEL:"-1"===d.organizParentOrder||"0"===d.organizParentOrder?1:parseInt(d.organizParentOrder.LEVEL)+1,PROVINCE_CODE:"-1"===d.organizAddressProvince?null:d.organizAddressProvince.PROVINCE_CODE,PROVINCE_NAME:"-1"===d.organizAddressProvince?null:d.organizAddressProvince.PROVINCE_NAME,CITY_CODE:"-1"===d.organizAddressCity?null:d.organizAddressCity.CITY_CODE,CITY_NAME:"-1"===d.organizAddressCity?null:d.organizAddressCity.CITY_NAME,COUNTY_DISTRICT_CODE:"-1"===d.organizAddressCounty?null:d.organizAddressCounty.COUNTY_DISTRICT_CODE,COUNTY_DISTRICT_NAME:"-1"===d.organizAddressCounty?null:d.organizAddressCounty.COUNTY_DISTRICT_NAME,STREET_TOWNSHIP_CODE:"-1"===d.organizAddressStreet?null:d.organizAddressStreet.STREET_TOWNSHIP_CODE,STREET_TOWNSHIP_NAME:"-1"===d.organizAddressStreet?null:d.organizAddressStreet.STREET_TOWNSHIP_NAME,ORGANIZATION_ADDRESS:d.organizAddressDetail||null,ORGANIZATION_SUMMARY:d.organizIntroduce||null,OPERATOR_ID:1,OPERATOR_NAME:"OP",IS_ONLINE:parseInt(d.isOnlin),ORGANIZATION_CONTACTS:d.organization_contacts||null,ORGANIZATION_CONTACTS_PHONE:d.organization_contacts_phone||null,HOSPITAL_LEVEL_CODE:d.hospital_level?d.hospital_level.DICT_VALUE_CODE:null,HOSPITAL_LEVEL_NAME:d.hospital_level?d.hospital_level.DICT_VALUE_NAME:null,ORGANIZATION_TYPE_CODE:d.organizationType.DICT_VALUE_CODE,ORGANIZATION_TYPE_NAME:d.organizationType.DICT_VALUE_NAME,NON_RECURSION:!0};a.PARENT_ORGANIZATION_ID="-1"===d.organizParent?null:d.organizParent.ORGANIZATION_KEY_ID,a.PARENT_ORGANIZATION_CODE="-1"===d.organizParent?null:d.organizParent.ORGANIZATION_CODE,a.PARENT_ORGANIZATION_NAME="-1"===d.organizParent?null:d.organizParent.ORGANIZATION_NAME,d.organizName!==D&&(a.ORGANIZATION_NAME=d.organizName),("-1"!==d.organizParent&&T+""!==d.organizParent.ORGANIZATION_CODE||"-1"===d.organizParent&&null!==T)&&(a.IS_PARENT_CHANGED=!0),d.organizName!==D?n.isOrganizationExist(a,function(i){0!==i.value.IS_EXIST?e.alertDialog("机构名已存在"):n.updateOrganization(t,o,a,function(t){e.handleMessage(t,function(){d.editOranginze=!1,T=d.organizParent.ORGANIZATION_CODE?d.organizParent.ORGANIZATION_CODE:null},function(){e.alertDialog("保存失败")})},function(t){t||(t="保存失败"),e.alertDialog(t)})},function(){e.alertDialog("机构名查重失败，无法保存")}):n.updateOrganization(t,o,a,function(t){e.handleMessage(t,function(){d.editOranginze=!1,T=d.organizParent.ORGANIZATION_CODE?d.organizParent.ORGANIZATION_CODE:null},function(){e.alertDialog("保存失败")})},function(t){t||(t="保存失败"),e.alertDialog(t)})}},d.closeAddOrangize=function(e){n.closeAddOrangize(e,o,function(){s(),d.editOranginze=!1},function(){d.editOranginze=!1})},d}function organizationListCtrl(e,t,i,n,o,a){var r=this,s=null,l=null,c=null,E=null;return r.isDownloading=!1,r.initParentOrder=function(t){t||(a.get("loginInfo").organizationKeyId?i.getOrganizationLevelList("",function(t){e.handleMessage(t,function(e){r.organizParentOrders=e},function(){r.organizParentOrders=[],e.alertDialog("获取机构等级失败")})},function(){e.alertDialog("获取机构等级失败")}):e.commonService("getOrganizationLevelList","",function(t){e.handleMessage(t,function(e){r.organizParentOrders=e},function(){r.organizParentOrders=[],e.alertDialog("获取机构等级失败")})},function(){e.alertDialog("获取机构等级失败")}))},r.initProvinceList=function(t){t||(a.get("loginInfo").organizationKeyId?i.getProvinceList("",function(t){e.handleMessage(t,function(e){r.organizAddressProvinces=e},function(){r.organizAddressProvinces=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")}):e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(e){r.organizAddressProvinces=e},function(){r.organizAddressProvinces=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")}))},r.initCityListOfCertainProvince=function(){if("-1"===r.organizAddressProvince)return void(r.organizAddressCitys=[]);if(!l||l!==r.organizAddressProvince.PROVINCE_CODE){var t={PROVINCE_CODE:r.organizAddressProvince.PROVINCE_CODE};l=r.organizAddressProvince.PROVINCE_CODE,a.get("loginInfo").organizationKeyId?i.getCityListOfCertainProvince(t,function(t){e.handleMessage(t,function(e){r.organizAddressCitys=e},function(){r.organizAddressCitys=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")}):e.commonService("getCityListOfCertainProvince",t,function(t){e.handleMessage(t,function(e){r.organizAddressCitys=e},function(){r.organizAddressCitys=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})}},r.initCountyListOfCertainCity=function(){if("-1"===r.organizAddressCity)return void(r.organizAddressCountys=[]);if(!c||c!==r.organizAddressCity.CITY_CODE){var t={CITY_CODE:r.organizAddressCity.CITY_CODE};c=r.organizAddressCity.CITY_CODE,a.get("loginInfo").organizationKeyId?i.getCountyListOfCertainCity(t,function(t){e.handleMessage(t,function(e){r.organizAddressCountys=e},function(){r.organizAddressCountys=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")}):e.commonService("getCountyListOfCertainCity",t,function(t){e.handleMessage(t,function(e){r.organizAddressCountys=e},function(){r.organizAddressCountys=[],e.alertDialog("获取区/县列表失败")})},function(){e.alertDialog("获取区/县列表失败")})}},r.initSubdistrictListOfCertainCounty=function(){if("-1"===r.organizAddressCounty)return void(r.organizAddressStreets=[]);if(!E||E!==r.organizAddressCounty.COUNTY_DISTRICT_CODE){var t={COUNTY_DISTRICT_CODE:r.organizAddressCounty.COUNTY_DISTRICT_CODE};E=r.organizAddressCounty.COUNTY_DISTRICT_CODE,a.get("loginInfo").organizationKeyId?i.getSubdistrictListOfCertainCounty(t,function(t){e.handleMessage(t,function(e){r.organizAddressStreets=e},function(){r.organizAddressStreets=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")}):e.commonService("getSubdistrictListOfCertainCounty",t,function(t){e.handleMessage(t,function(e){r.organizAddressStreets=e},function(){r.organizAddressStreets=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})}},r.tabledataHtml=function(){var e={ORGANIZATION_LEVEL:r.organizParentOrder&&"-1"!==r.organizParentOrder?r.organizParentOrder.LEVEL:null,PARENT_ORGANIZATION_NAME:r.searchParentText?r.searchParentText:null,ORGANIZATION_NAME:r.searchText?r.searchText:null,PROVINCE_CODE:r.organizAddressProvince&&"-1"!==r.organizAddressProvince?r.organizAddressProvince.PROVINCE_CODE:null,CITY_CODE:r.organizAddressCity&&"-1"!==r.organizAddressCity?r.organizAddressCity.CITY_CODE:null,COUNTY_DISTRICT_CODE:r.organizAddressCounty&&"-1"!==r.organizAddressCounty?r.organizAddressCounty.COUNTY_DISTRICT_CODE:null,STREET_TOWNSHIP_CODE:r.organizAddressStreet&&"-1"!==r.organizAddressStreet?r.organizAddressStreet.STREET_TOWNSHIP_CODE:null};s=e,i.getOrganizationListHtml(r,e,t)},r.tabledataHtml(),r.addOrangization=function(){t.go("main.baseData.organizationAdd")},r.searchTextChange=function(t){var o={ORGANIZATION_NAME:t},a=n.defer();return i.getOrganizationNameList(o,function(t){e.handleMessage(t,function(e){a.resolve(e)},function(){a.resolve([])})},function(){}),a.promise},r.searchParentTextChange=function(t){var o={PARENT_ORGANIZATION_NAME:t},a=n.defer();return i.getOrganizationNameList(o,function(t){e.handleMessage(t,function(e){a.resolve(e);
},function(){a.resolve([])})},function(){}),a.promise},r.changeAddress=function(e){switch(e){case 1:r.organizAddressCity="-1",r.organizAddressCounty="-1",r.organizAddressStreet="-1";break;case 2:r.organizAddressCounty="-1",r.organizAddressStreet="-1";break;case 3:r.organizAddressStreet="-1"}},r.downLoadFile=function(){r.isDownloading=!0,i.downloadOrganizationList(s,function(t){e.handleMessage(t,function(e){o.downloadFile(e.fileName,"组织机构信息.xls"),r.isDownloading=!1},function(){r.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){r.isDownloading=!1,e.alertDialog("信息导出失败")})},r}function organizationService(e,t,i){var n=this;return n.closeAddOrangize=function(t,i,n,o){return t.$dirty?void e.confirmDialog("如果取消则已输入内容会丢失？",n,o):void n()},n.saveAddOrangize=function(e,i,n,o,a){return e.organizName.$invalid?void a("组织机构名称不符合规范"):"-1"===e.organizParentOrder.$viewValue?void a("请选择上级机构级别"):"0"!==e.organizParentOrder.$viewValue&&"-1"===e.organizParent.$viewValue?void a("请选择上级机构"):"0019000010"===e.organizationType.$viewValue.DICT_VALUE_CODE&&"-1"===e.organizAddressProvince.$viewValue||"-1"!==e.organizAddressProvince.$viewValue&&("-1"===e.organizAddressCity.$viewValue||"-1"===e.organizAddressCounty.$viewValue||"-1"===e.organizAddressStreet.$viewValue||!e.organizAddressDetail.$viewValue)?void a("请填写完整的机构位置"):e.organizIntroduce.$invalid?void a("机构简介输入不符合规范"):void t.createOrganization(JSON.stringify(n)).$promise.then(o,a)},n.getOrganizationLevelList=function(e,i,n){t.getOrganizationLevelList(JSON.stringify(e)).$promise.then(i,n)},n.getCertainLevelOrganization=function(e,i,n){t.getCertainLevelOrganization(JSON.stringify(e)).$promise.then(i,n)},n.getProvinceList=function(e,i,n){t.getProvinceList(JSON.stringify(e)).$promise.then(i,n)},n.getCityListOfCertainProvince=function(e,i,n){t.getCityListOfCertainProvince(JSON.stringify(e)).$promise.then(i,n)},n.getCountyListOfCertainCity=function(e,i,n){t.getCountyListOfCertainCity(JSON.stringify(e)).$promise.then(i,n)},n.getSubdistrictListOfCertainCounty=function(e,i,n){t.getSubdistrictListOfCertainCounty(JSON.stringify(e)).$promise.then(i,n)},n.getOrganizationListHtml=function(n,o,a){function r(i,n,o){t.getOrganizationList(JSON.stringify(i)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:o,columns:[{field:"ORGANIZATION_NAME",title:"机构名称",align:"center",width:298,formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,t,i){a.go("main.baseData.organizationEdit",{ORGANIZATION_KEY_ID:i.ORGANIZATION_KEY_ID,ORGANIZATION_TYPE_CODE:i.ORGANIZATION_TYPE_CODE})}}},{field:"ORGANIZATION_LEVEL",title:"机构级别",width:238,align:"center"},{field:"ADDRESS",title:"机构地址",width:366,align:"center"},{field:"PARENT_ORGANIZATION_NAME",title:"上级机构",width:298,align:"center"},{field:"ORGANIZATION_TYPE_NAME",title:"机构性质",width:298,align:"center"}]};n.organizationTableData={bsTableControl:{options:i.initOption(s)}}},n.getOrganizationNameList=function(e,i,n){t.getOrganizationNameList(JSON.stringify(e)).$promise.then(i,n)},n.getOrganizationInfo=function(e,i,n){t.getOrganizationInfo(JSON.stringify(e)).$promise.then(i,n)},n.isOrganizationExist=function(e,i,n){t.isOrganizationExist(JSON.stringify(e)).$promise.then(i,n)},n.downloadOrganizationList=function(e,i,n){t.downloadOrganizationList(JSON.stringify(e)).$promise.then(i,n)},n.updateOrganization=function(e,i,n,o,a){return e.organizName.$invalid?void a("组织机构名称不符合规范"):"-1"===e.organizParentOrder.$viewValue?void a("请选择上级机构级别"):"0"!==e.organizParentOrder.$viewValue&&"-1"===e.organizParent.$viewValue?void a("请选择上级机构"):"-1"===e.organizAddressProvince.$viewValue||"-1"!==e.organizAddressCity.$viewValue&&"-1"!==e.organizAddressCounty.$viewValue&&"-1"!==e.organizAddressStreet.$viewValue&&e.organizAddressDetail.$viewValue?e.organizIntroduce.$invalid?void a("机构简介输入不符合规范"):void t.updateOrganization(JSON.stringify(n)).$promise.then(o,a):void a("请填写完整的机构位置")},n}function deptAddCtrl(e,t,i,n){var o=this;return o.add=!0,o.editable=!0,o.HOSPITAL_ID=i.HOSPITAL_ID,o.HOSPITAL_NAME=i.HOSPITAL_NAME,o.IS_ONLINE="1",o.createNewDept=function(i){if(e.check(i)){var a={HOSPITAL_ID:o.HOSPITAL_ID,DEPT_NAME:o.DEPT_NAME,IS_ONLINE:o.IS_ONLINE,DEPT_SUMMARY:o.DEPT_SUMMARY,SKILLED_PROJECT:o.SKILLED_PROJECT};n.addDept(a,function(i){e.handleMessage(i,function(){t.go("main.baseData.deptList",{HOSPITAL_ID:o.HOSPITAL_ID,HOSPITAL_NAME:o.HOSPITAL_NAME})},function(t){e.alertDialog(t.message)})},function(){e.alertDialog("创建科室失败")})}},o.cancel=function(i){i.$dirty?e.confirmDialog("您确定要放弃保存吗?",function(){t.go("main.baseData.deptList",{HOSPITAL_ID:o.HOSPITAL_ID,HOSPITAL_NAME:o.HOSPITAL_NAME})},function(){}):t.go("main.baseData.deptList",{HOSPITAL_ID:o.HOSPITAL_ID,HOSPITAL_NAME:o.HOSPITAL_NAME})},o}function deptEditCtrl(e,t,i,n){function o(){n.getDeptById({DEPT_ID:i.DEPT_ID},function(t){e.handleMessage(t,function(e){a.DEPT_NAME=e.DEPT_NAME,a.IS_ONLINE=e.IS_ONLINE,a.DEPT_SUMMARY=e.DEPT_SUMMARY,a.SKILLED_PROJECT=e.SKILLED_PROJECT,a.HAS_DOCTOR=e.HAS_DOCTOR},function(){e.alertDialog("查询科室数据失败")})},function(){e.alertDialog("查询科室数据失败")})}var a=this;a.edit=!0,a.editable=!1,a.HOSPITAL_ID=i.HOSPITAL_ID,a.HOSPITAL_NAME=i.HOSPITAL_NAME,a.DEPT_ID=i.DEPT_ID;var r,s,l,c,E;return o(),a.edit=function(e){r=angular.copy(a.HOSPITAL_ID),s=angular.copy(a.DEPT_NAME),l=angular.copy(a.IS_ONLINE),c=angular.copy(a.DEPT_SUMMARY),E=angular.copy(a.SKILLED_PROJECT),e.$setPristine(),e.$setUntouched(),a.editable=!0},a.createNewDept=function(t){if(e.check(t)){var i={DEPT_ID:a.DEPT_ID,HOSPITAL_ID:a.HOSPITAL_ID,DEPT_NAME:a.DEPT_NAME,IS_ONLINE:a.IS_ONLINE,DEPT_SUMMARY:a.DEPT_SUMMARY,SKILLED_PROJECT:a.SKILLED_PROJECT};n.updateDept(i,function(t){e.handleMessage(t,function(){a.editable=!1},function(){e.alertDialog(t.message)})},function(){e.alertDialog("更新科室信息失败")})}},a.changeOnline=function(){0!==a.IS_ONLINE&&"0"!==a.IS_ONLINE||1!==a.HAS_DOCTOR&&"1"!==a.HAS_DOCTOR||(e.alertDialog("科室下线前请更换该科室下的医生至其他科室"),a.IS_ONLINE=1)},a.cancel=function(t){function i(){a.HOSPITAL_ID=r,a.DEPT_NAME=s,a.IS_ONLINE=l,a.DEPT_SUMMARY=c,a.SKILLED_PROJECT=E,t.$setPristine(),t.$setUntouched()}t.$dirty?e.confirmDialog("您确定要放弃保存吗?",function(){i(),a.editable=!1},function(){}):a.editable=!1},a.goBack=function(){t.go("main.baseData.deptList",{HOSPITAL_ID:a.HOSPITAL_ID,HOSPITAL_NAME:a.HOSPITAL_NAME})},a}function deptListCtrl(e,t,i,n,o){var a=this;a.HOSPITAL_ID=i.HOSPITAL_ID,a.HOSPITAL_NAME=i.HOSPITAL_NAME,a.isDownloading=!1;var r=null;return a.getDeptList=function(){var e={HOSPITAL_ID:a.HOSPITAL_ID};r=e,n.getDeptListHtml(a,e,t)},a.getDeptList(),a.downLoadFile=function(){a.isDownloading=!0,n.downloadDeptList(r,function(t){e.handleMessage(t,function(e){o.downloadFile(e.fileName,"医院科室信息.xls"),a.isDownloading=!1},function(){a.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){a.isDownloading=!1,e.alertDialog("信息导出失败")})},a.addDept=function(){t.go("main.baseData.deptAdd",{HOSPITAL_ID:a.HOSPITAL_ID,HOSPITAL_NAME:a.HOSPITAL_NAME})},a.goBack=function(){t.go("main.baseData.hospitalDeptList")},a}function hospitalListCtrl(e,t,i,n,o,a,r){var s=this,l=null,c=null,E=null,_=null;return s.isDownloading=!1,a.getDictList({DICT_TYPE_CODE_LIST:[{DICT_TYPE_CODE:"0004"}]},function(t){e.handleMessage(t,function(e){s.hospitalLevels=e[0].DICT_CODE_LIST},function(){s.hospitalLevels=[],e.alertDialog("获取医院等级列表失败")})},function(){e.alertDialog("获取医院等级列表失败")}),s.initProvinceList=function(t){t||(o.get("loginInfo").organizationKeyId?i.getProvinceList("",function(t){e.handleMessage(t,function(e){s.hospitalAddressProvinces=e},function(){s.hospitalAddressProvinces=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")}):e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(e){s.hospitalAddressProvinces=e},function(){s.hospitalAddressProvinces=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")}))},s.initCityListOfCertainProvince=function(){if("-1"===s.hospitalAddressProvince)return void(s.hospitalAddressCitys=[]);if(!l||l!==s.hospitalAddressProvince.PROVINCE_CODE){var t={PROVINCE_CODE:s.hospitalAddressProvince.PROVINCE_CODE};l=s.hospitalAddressProvince.PROVINCE_CODE,o.get("loginInfo").organizationKeyId?i.getCityListOfCertainProvince(t,function(t){e.handleMessage(t,function(e){s.hospitalAddressCitys=e},function(){s.hospitalAddressCitys=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")}):e.commonService("getCityListOfCertainProvince",t,function(t){e.handleMessage(t,function(e){s.hospitalAddressCitys=e},function(){s.hospitalAddressCitys=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})}},s.initCountyListOfCertainCity=function(){if("-1"===s.hospitalAddressCity)return void(s.hospitalAddressCountys=[]);if(!c||c!==s.hospitalAddressCity.CITY_CODE){var t={CITY_CODE:s.hospitalAddressCity.CITY_CODE};c=s.hospitalAddressCity.CITY_CODE,o.get("loginInfo").organizationKeyId?i.getCountyListOfCertainCity(t,function(t){e.handleMessage(t,function(e){s.hospitalAddressCountys=e},function(){s.organizAddressCountys=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")}):e.commonService("getCountyListOfCertainCity",t,function(t){e.handleMessage(t,function(e){s.hospitalAddressCountys=e},function(){s.hospitalAddressCountys=[],e.alertDialog("获取区/县列表失败")})},function(){e.alertDialog("获取区/县列表失败")})}},s.initSubdistrictListOfCertainCounty=function(){if("-1"===s.hospitalAddressCounty)return void(s.hospitalAddressStreets=[]);if(!E||E!==s.hospitalAddressCounty.COUNTY_DISTRICT_CODE){var t={COUNTY_DISTRICT_CODE:s.hospitalAddressCounty.COUNTY_DISTRICT_CODE};E=s.hospitalAddressCounty.COUNTY_DISTRICT_CODE,o.get("loginInfo").organizationKeyId?i.getSubdistrictListOfCertainCounty(t,function(t){e.handleMessage(t,function(e){s.hospitalAddressStreets=e},function(){s.hospitalAddressStreets=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")}):e.commonService("getSubdistrictListOfCertainCounty",t,function(t){e.handleMessage(t,function(e){s.hospitalAddressStreets=e},function(){s.hospitalAddressStreets=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})}},s.changeAddress=function(e){switch(e){case 1:s.hospitalAddressCity="-1",s.hospitalAddressCounty="-1",s.hospitalAddressStreet="-1";break;case 2:s.hospitalAddressCounty="-1",s.hospitalAddressStreet="-1";break;case 3:s.hospitalAddressStreet="-1"}},s.searchTextChange=function(t){var o={ORGANIZATION_NAME:t},a=n.defer();return i.getHospitalNameList(o,function(t){e.handleMessage(t,function(e){a.resolve(e)},function(){a.resolve([]),e.alertDialog("根据名称搜索医院失败")})},function(){e.alertDialog("根据名称搜索医院失败")}),a.promise},s.tabledataHtml=function(){var e={EXPORT_HOSPITAL_DEPT:!0,PROVINCE_CODE:s.hospitalAddressProvince&&"-1"!==s.hospitalAddressProvince?s.hospitalAddressProvince.PROVINCE_CODE:null,CITY_CODE:s.hospitalAddressCity&&"-1"!==s.hospitalAddressCity?s.hospitalAddressCity.CITY_CODE:null,COUNTY_DISTRICT_CODE:s.hospitalAddressCounty&&"-1"!==s.hospitalAddressCounty?s.hospitalAddressCounty.COUNTY_DISTRICT_CODE:null,STREET_TOWNSHIP_CODE:s.hospitalAddressStreet&&"-1"!==s.hospitalAddressStreet?s.hospitalAddressStreet.STREET_TOWNSHIP_CODE:null,ORGANIZATION_NAME:s.searchText?s.searchText:null,DEPT_AMOUNT:!s.deptNumber||s.deptNumber?s.deptNumber:null,HOSPITAL_LEVEL_CODE:s.hospitalLevel&&"-1"!==s.hospitalLevel?s.hospitalLevel.DICT_VALUE_CODE:null,IS_ONLINE:s.isEnable&&"-1"!==s.isEnable?s.isEnable:null};_=e,i.getHospitalListHtml(s,e,t)},s.tabledataHtml(),s.downLoadFile=function(){s.isDownloading=!0,i.downloadHospitalList(_,function(t){e.handleMessage(t,function(e){r.downloadFile(e.fileName,"医院列表信息.xls"),s.isDownloading=!1},function(){s.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){s.isDownloading=!1,e.alertDialog("信息导出失败")})},s}function hospitalDeptService(e,t,i){var n=this,o=!0;return n.getProvinceList=function(t,i,n){e.getProvinceList(JSON.stringify(t)).$promise.then(i,n)},n.getCityListOfCertainProvince=function(t,i,n){e.getCityListOfCertainProvince(JSON.stringify(t)).$promise.then(i,n)},n.getCountyListOfCertainCity=function(t,i,n){e.getCountyListOfCertainCity(JSON.stringify(t)).$promise.then(i,n)},n.getSubdistrictListOfCertainCounty=function(t,i,n){e.getSubdistrictListOfCertainCounty(JSON.stringify(t)).$promise.then(i,n)},n.getHospitalNameList=function(t,i,n){e.getHospitalNameList(JSON.stringify(t)).$promise.then(i,n)},n.getHospitalLevelList=function(t,i,n){e.getHospitalLevelList(JSON.stringify(t)).$promise.then(i,n)},n.getDeptList=function(t,i,n){e.getDeptList(JSON.stringify(t)).$promise.then(i,n)},n.downloadDeptList=function(t,i,n){e.downloadDeptList(JSON.stringify(t)).$promise.then(i,n)},n.downloadHospitalList=function(t,i,n){e.downloadHospitalList(JSON.stringify(t)).$promise.then(i,n)},n.addDept=function(t,i,n){e.addDept(JSON.stringify(t)).$promise.then(i,n)},n.updateDept=function(t,i,n){e.updateDept(JSON.stringify(t)).$promise.then(i,n)},n.getDeptById=function(t,i,n){e.getDeptById(JSON.stringify(t)).$promise.then(i,n)},n.getHospitalListHtml=function(n,a,r){function s(t,n,a){e.getHospitalList(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(e){n(e||{total:0,rows:[]}),o&&0===e.total&&i.alertDialog("现在还没有建立医院，请去组织机构管理中建立"),o=!1},function(){i.alertDialog("获取列表信息失败")})},function(){i.alertDialog("获取列表信息失败"),a()})}var l={dataFunction:s,dataParams:a,columns:[{field:"ORGANIZATION_NAME",title:"医院名称",align:"center",formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,t,i){r.go("main.baseData.deptList",{HOSPITAL_ID:i.HOSPITAL_ID,HOSPITAL_NAME:i.ORGANIZATION_NAME})}}},{field:"HOSPITAL_LEVEL_NAME",title:"医院等级",align:"center"},{field:"HOSPITAL_ADDRESS",title:"机构地址",align:"center"},{field:"DEPT_AMOUNT",title:"科室数量",align:"center"},{field:"IS_ONLINE",title:"是否上线",align:"center"}]};n.hospitalTableData={bsTableControl:{options:t.initOption(l)}}},n.getDeptListHtml=function(n,o,a){function r(t,n,o){e.getDeptList(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(){n(e.value||{total:0,rows:[]})},function(){i.alertDialog("获取列表信息失败")})},function(){i.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:o,columns:[{field:"DEPT_NAME",title:"科室名称",align:"center",formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,t,i){a.go("main.baseData.deptEdit",{HOSPITAL_ID:i.HOSPITAL_ID,HOSPITAL_NAME:i.HOSPITAL_NAME,DEPT_ID:i.DEPT_ID})}}},{field:"HOSPITAL_NAME",title:"所属医院",align:"center"},{field:"IS_ONLINE",title:"是否上线",align:"center",formatter:function(e){return"1"===e||1===e?"是":"否"}}]};n.deptTableData={bsTableControl:{options:t.initOption(s)}}},n}function roleAddCtrl(e,t,i){var n=this;return n.add=!0,n.editable=!0,i.getJurisdictionsOfRole({},function(t){e.handleMessage(t,function(e){n.items=e},function(){e.alertDialog("查询角色数据失败")})},function(){e.alertDialog("查询角色数据失败")}),i.initJurisdictionList(),n.toggle=function(e,t,n){i.toggle(e,t,n)},n.createNewRole=function(o){if(e.check(o)){if(!n.isSelectOne(n.items))return void e.alertDialog("请至少选择一项功能");var a={ROLE_NAME:n.ROLE_NAME,JURISDICTION_LIST:i.getJurisdictionList()};i.createRole(a,function(i){e.handleMessage(i,function(){t.go("main.baseData.roleList")},function(){e.alertDialog("创建角色失败")})},function(){e.alertDialog("创建角色失败")})}},n.cancel=function(){n.ROLE_NAME||i.getJurisdictionList().length>0?e.confirmDialog("您确定要放弃保存吗?",function(){t.go("main.baseData.roleList")},function(){}):t.go("main.baseData.roleList")},n.isSelectOne=function(e){return i.isSelectOne(e)},n.isIndeterminate=function(e){if(e.SUBLIST&&e.SUBLIST.length>0){var t=!1;return angular.forEach(e.SUBLIST,function(e){return"1"===e.IS_SELECT||1===e.IS_SELECT?(t=!0,!1):void 0}),t}return!1},n}function roleEditCtrl(e,t,i){var n=this;n.edit=!0,n.editable=!1;var o,a=[];return n.ROLE_NAME=t.params.ROLE_NAME,i.getJurisdictionsOfRole({ROLE_KEY_ID:t.params.ROLE_KEY_ID},function(t){e.handleMessage(t,function(e){n.items=e},function(){e.alertDialog("查询角色数据失败")})},function(){e.alertDialog("查询角色数据失败")}),i.initJurisdictionList(),n.toggle=function(e,t,n){i.toggle(e,t,n)},n.edit=function(){o=angular.copy(n.ROLE_NAME),a=angular.copy(n.items),n.editable=!0},n.createNewRole=function(o){if(e.check(o)){if(!n.isSelectOne(n.items))return void e.alertDialog("请至少选择一项功能");var a={ROLE_KEY_ID:t.params.ROLE_KEY_ID,ROLE_NAME:n.ROLE_NAME,JURISDICTION_LIST:i.getJurisdictionList()};i.updateRole(a,function(t){e.handleMessage(t,function(){n.editable=!1,i.initJurisdictionList()},function(){e.alertDialog("更新角色失败")})},function(){e.alertDialog("更新角色失败")})}},n.deleteRole=function(){i.checkUser({ROLE_KEY_ID:t.params.ROLE_KEY_ID},function(n){e.handleMessage(n,function(){e.confirmDialog("是否确定删除该角色？",function(){i.deleteRole({ROLE_KEY_ID:t.params.ROLE_KEY_ID},function(i){e.handleMessage(i,function(){t.go("main.baseData.roleList")},function(t){e.alertDialog(t.message)})},function(){e.alertDialog("删除角色失败")})},function(){})},function(){e.alertDialog("查询用户是否关联角色失败")})},function(){e.alertDialog("查询用户是否关联角色失败")})},n.cancel=function(){function t(){n.ROLE_NAME=o,n.items=a,i.initJurisdictionList()}o!==n.ROLE_NAME||i.getJurisdictionList().length>0?e.confirmDialog("您确定要放弃保存吗?",function(){t(),n.editable=!1},function(){}):n.editable=!1},n.goBack=function(){t.go("main.baseData.roleList")},n.isSelectOne=function(e){return i.isSelectOne(e)},n}function roleListCtrl(e,t,i,n){var o=this;o.isDownloading=!1;var a=null;return o.getRoleList=function(){var e={};a=e,i.showTable(o,e,t)},o.getRoleList(),o.downLoadFile=function(){o.isDownloading=!0,i.downloadRoleList(a,function(t){e.handleMessage(t,function(e){n.downloadFile(e.fileName,"系统角色信息.xls"),o.isDownloading=!1},function(){o.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){o.isDownloading=!1,e.alertDialog("信息导出失败")})},o}function userAddCtrl(e,t,i){var n=this;return n.add=!0,n.editable=!0,n.canClearPassword=!1,i.getAllAccountRole({IS_LIMIT_AUTHORITY:0},function(t){e.handleMessage(t,function(e){n.items=e},function(){e.alertDialog("获取角色失败")})},function(){e.alertDialog("获取角色失败")}),n.selected=[],n.exists=function(e,t){return t.indexOf(e)>-1},n.toggle=function(e,t){var i=t.indexOf(e.ROLE_KEY_ID);i>-1?t.splice(i,1):t.push(e.ROLE_KEY_ID)},n.checkUserNameDuplicate=function(){i.checkUserNameDuplicate({USER_KEY_ID:"",USER_NAME:n.clientName},function(t){e.handleMessage(t,function(t){t&&(e.alertDialog("用户名重复"),n.clientName="")},function(){e.alertDialog("用户名查重失败")})},function(){e.alertDialog("用户名查重失败")})},n.clearPassword=function(){n.editable&&(n.password="")},n.email="",n.organization=[],n.getOrganizationList=function(){i.getOrganizationList({ORGANIZATION_NAME:n.searchTerm},function(t){e.handleMessage(t,function(e){n.organization=e},function(){e.alertDialog("获取机构失败")})},function(){e.alertDialog("获取机构失败")})},n.searchTerm,n.selectedOrganization={},n.clearSearchTerm=function(){if(n.searchTerm="",void 0!==n.selectedOrganization){var t=e.selectItem(n.organization,"ORGANIZATION_KEY_ID",n.selectedOrganization.ORGANIZATION_KEY_ID);void 0!==t?n.selectedOrganization=t:(n.organization=[],n.organization.push(t),n.selectedOrganization=n.organization[0])}},n.getSearchTerm=function(){void 0!==n.selectedOrganization&&(n.searchTerm=n.selectedOrganization.ORGANIZATION_NAME,n.searchTermChange())},angular.element('input[name="organization"]').on("keydown",function(e){e.stopPropagation()}),n.searchTermChange=function(){""!==n.searchTerm&&void 0!==n.searchTerm&&n.getOrganizationList()},n.selectState=1,n.createNewUser=function(o){if(e.check(o)){var a=[];if(angular.forEach(n.selected,function(e){a.push({ROLE_KEY_ID:e})}),i.validJudge(o,a,n.selectedOrganization.ORGANIZATION_KEY_ID,e.alertDialog)){var r={ACCOUNT:n.clientName,ORGANIZATION_KEY_ID:n.selectedOrganization.ORGANIZATION_KEY_ID,USER_NAME:n.clientName,PASSWORD:n.password,USER_MAILBOX:n.email,IS_ONLINE:n.selectState,ROLE_LIST:a};i.createNewUser(r,function(i){e.handleMessage(i,function(){t.go("main.baseData.userList")},function(){e.alertDialog("创建用户失败")})},function(){e.alertDialog("创建用户失败")})}}},n.cancel=function(){e.confirmDialog("确定放弃已填数据?",function(){t.go("main.baseData.userList")},function(){})},n}function userEditCtrl(e,t,i,n,o){function a(){o.getUserInfoByKeyId({USER_KEY_ID:r.USER_KEY_ID},function(t){e.handleMessage(t,function(e){r.userInfo=e,r.dealData(r.userInfo)},function(){e.alertDialog("获取用户信息失败")})},function(){e.alertDialog("获取用户信息失败")})}var r=this;return r.edit=!0,r.editable=!1,r.canClearPassword=!0,r.edit=function(){r.editable=!0},r.USER_KEY_ID=n.USER_KEY_ID,o.getAllAccountRole({IS_LIMIT_AUTHORITY:0},function(t){e.handleMessage(t,function(e){r.items=e,a()},function(){e.alertDialog("获取角色失败")})},function(){e.alertDialog("获取角色失败")}),r.dealData=function(e){r.originalUserRoleArr=e.USER_ROLE,r.selected=[],angular.forEach(r.originalUserRoleArr,function(e){r.selected.push(e.ROLE_KEY_ID)}),r.clientName=e.ACCOUNT,r.email=e.USER_MAILBOX,r.organization=[],r.originalOrganization={ORGANIZATION_KEY_ID:e.ORGANIZATION_KEY_ID,ORGANIZATION_NAME:e.ORGANIZATION_NAME},r.organization=o.merge(r.organization,r.originalOrganization),r.searchTerm=e.ORGANIZATION_NAME,r.selectedOrganization=r.originalOrganization,r.selectState=e.IS_ONLINE},r.items=[],r.selected=[],r.originalUserRoleArr=[],r.exists=function(e,t){return t.indexOf(e)>-1},r.toggle=function(e,t){if(r.editable){var i=t.indexOf(e.ROLE_KEY_ID);i>-1?t.splice(i,1):t.push(e.ROLE_KEY_ID)}},r.clientName="",r.checkUserNameDuplicate=function(){r.clientName!==r.userInfo.ACCOUNT&&o.checkUserNameDuplicate({USER_KEY_ID:r.USER_KEY_ID,USER_NAME:r.clientName},function(t){e.handleMessage(t,function(t){t&&(e.alertDialog("用户名重复"),r.clientName="")},function(){e.alertDialog("用户名查重失败")})},function(){e.alertDialog("用户名查重失败")})},r.defaultPassword="12345678",r.password=r.defaultPassword,r.clearPassword=function(){r.editable&&r.canClearPassword&&(r.password="")},r.email="",r.organization=[],r.getOrganizationList=function(){o.getOrganizationList({ORGANIZATION_NAME:r.searchTerm},function(t){e.handleMessage(t,function(e){r.organization=e},function(){e.alertDialog("获取机构失败")})},function(){e.alertDialog("获取机构失败")})},r.selectedOrganization={},r.clearSearchTerm=function(){if(r.searchTerm="",void 0!==r.selectedOrganization){var t=e.selectItem(r.organization,"ORGANIZATION_KEY_ID",r.selectedOrganization.ORGANIZATION_KEY_ID);void 0!==t?r.selectedOrganization=t:(r.organization=[],r.organization.push(t),r.selectedOrganization=r.organization[0])}},r.getSearchTerm=function(){void 0!==r.selectedOrganization&&(r.searchTerm=r.selectedOrganization.ORGANIZATION_NAME,r.searchTermChange())},angular.element('input[name="organization"]').on("keydown",function(e){e.stopPropagation()}),r.searchTermChange=function(){""!==r.searchTerm&&void 0!==r.searchTerm&&r.getOrganizationList()},r.createNewUser=function(t){if(e.check(t)){var i=[];if(angular.forEach(r.selected,function(e){i.push({ROLE_KEY_ID:e})}),o.validJudge(t,i,r.selectedOrganization.ORGANIZATION_KEY_ID,e.alertDialog)){var n={USER_KEY_ID:r.USER_KEY_ID,ACCOUNT:r.clientName,ORGANIZATION_KEY_ID:r.selectedOrganization.ORGANIZATION_KEY_ID,USER_NAME:r.clientName,USER_MAILBOX:r.email,IS_ONLINE:r.selectState,ROLE_LIST:i};r.password!==r.defaultPassword&&(n.PASSWORD=r.password),o.editUser(n,function(t){e.handleMessage(t,function(){r.editable=!1,a(),r.defaultPassword="12345678",r.password=r.defaultPassword},function(){e.alertDialog("保存失败")})},function(){e.alertDialog("保存失败")})}}},r.cancel=function(){var e=i.confirm().title("提示").textContent("是否丢弃已编辑信息？").ok("确定").cancel("取消");i.show(e).then(function(){r.dealData(r.userInfo),r.password=r.defaultPassword,r.editable=!r.editable},function(){})},r.deleteUser=function(){var n=i.confirm().title("提示").textContent("是否确定删除该用户？").ok("确定").cancel("取消");i.show(n).then(function(){o.deleteUser({USER_KEY_ID:r.USER_KEY_ID},function(i){e.handleMessage(i,function(){t.go("main.baseData.userList")},function(){e.alertDialog("删除用户失败")})},function(){e.alertDialog("删除用户失败")})},function(){})},r.goBack=function(){t.go("main.baseData.userList")},r}function userListCtrl(e,t,i,n){var o=this;return o.isDownloading=!1,o.roles=[],i.getAllAccountRole({IS_LIMIT_AUTHORITY:1},function(t){e.handleMessage(t,function(e){o.roles=e},function(){e.alertDialog("获取角色失败")})},function(){e.alertDialog("获取角色失败")}),o.selectedRoles=[],o.getOrganizationList=function(){i.getOrganizationList({ORGANIZATION_NAME:o.searchTerm},function(t){e.handleMessage(t,function(e){o.organization=e},function(){e.alertDialog("获取机构失败")})},function(){e.alertDialog("获取机构失败")})},o.searchTerm,o.selectedOrganization={},o.clearSearchTerm=function(){if(o.searchTerm="",void 0!==o.selectedOrganization&&void 0!==o.selectedOrganization.ORGANIZATION_KEY_ID){var t=e.selectItem(o.organization,"ORGANIZATION_KEY_ID",o.selectedOrganization.ORGANIZATION_KEY_ID);void 0!==t?o.selectedOrganization=t:(o.organization=[],o.organization.push(t),o.selectedOrganization=o.organization[0])}},o.getSearchTerm=function(){o.searchTerm=o.selectedOrganization?o.selectedOrganization.ORGANIZATION_NAME:void 0,o.searchTermChange()},angular.element('input[name="organization"]').on("keydown",function(e){e.stopPropagation()}),o.searchTermChange=function(){""!==o.searchTerm&&void 0!==o.searchTerm&&o.getOrganizationList()},o.selectState=1,o.account="",o.getUserList=function(){var e=[];angular.forEach(o.selectedRoles,function(t){e.push({ROLE_KEY_ID:t.ROLE_KEY_ID})});var n={ORGANIZATION_KEY_ID:o.selectedOrganization?o.selectedOrganization.ORGANIZATION_KEY_ID:"",IS_ONLINE:o.selectState,ACCOUNT:o.account,ROLE_KEY_ID_LIST:e};i.showTable(o,n,t),o.downLoadParam=n},o.create=function(){t.go("main.baseData.userAdd")},o.downLoadFile=function(){o.isDownloading=!0,i.downloadUserList(o.downLoadParam,function(t){e.handleMessage(t,function(e){n.downloadFile(e.fileName,"系统用户信息.xls"),o.isDownloading=!1},function(){o.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){o.isDownloading=!1,e.alertDialog("信息导出失败")})},o.getUserList(),o}function userService(e,t,i,n){function o(t,n,o){i.getUserList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var a=this;return a.getAllAccountRole=function(e,t,n){return i.getAllAccountRole(JSON.stringify(e)).$promise.then(t,n)},a.checkUserNameDuplicate=function(e,t,n){return i.checkUserNameDuplicate(JSON.stringify(e)).$promise.then(t,n)},a.getOrganizationList=function(e,t,n){return i.getOrganizationList(JSON.stringify(e)).$promise.then(t,n)},a.createNewUser=function(e,t,n){return i.createNewUser(JSON.stringify(e)).$promise.then(t,n)},a.getUserList=function(e,t,n){return i.getUserList(JSON.stringify(e)).$promise.then(t,n)},a.getUserInfoByKeyId=function(e,t,n){return i.getUserInfoByKeyId(JSON.stringify(e)).$promise.then(t,n)},a.deleteUser=function(e,t,n){return i.deleteUser(JSON.stringify(e)).$promise.then(t,n)},a.editUser=function(e,t,n){return i.editUser(JSON.stringify(e)).$promise.then(t,n)},a.merge=function(e,t){function i(e,t){var i=!0;return angular.forEach(e,function(e){return e.ORGANIZATION_KEY_ID===t.ORGANIZATION_KEY_ID||e.ORGANIZATION_NAME===t.ORGANIZATION_NAME?(i=!1,!1):void 0}),i}var n=[],o=[];return n=n.concat(e,t),angular.forEach(n,function(e){(i(o,e)||0===o.length)&&o.push(e)}),o},a.showTable=function(e,t,i){function a(e){return'<div class="flag" style="color: #428bca;">'+e+"</div>"}function r(e){for(var t=[],i=0;i<e.length;i++)t.push("<div>"+e[i].ROLE_NAME+"</div>");return t.join("")}function s(e){return 1===e?"是":"否"}var l={dataFunction:o,dataParams:t,columns:[{field:"ACCOUNT",title:"用户名",align:"center",valign:"middle",width:248,formatter:a,events:{"click .flag":function(e,t,n){i.go("main.baseData.userEdit",{USER_KEY_ID:n.USER_KEY_ID})}}},{field:"ORGANIZATION_NAME",title:"所属机构",width:298,align:"center",valign:"middle"},{field:"USER_ROLE",title:"用户所属角色",width:288,align:"center",valign:"middle",formatter:r},{field:"USER_MAILBOX",title:"用户邮箱",align:"center",width:198,valign:"middle"},{field:"IS_ONLINE",title:"是否上线",width:168,align:"center",valign:"middle",formatter:s}]};return e.tableData={bsTableControl:{options:n.initOption(l)}},e},a.isEmptyObject=function(e){for(var t in e)return!1;return!0},a.validJudge=function(e,t,i,n){return 0===t.length?(n("请选择至少一个账号角色"),!1):a.isEmptyObject(e.clientName.$error)?a.isEmptyObject(e.password.$error)?a.isEmptyObject(e.email.$error)?null===i||void 0===i?(n("请选择一个所属机构"),!1):!0:(e.email.$error&&n("账号邮箱不符合规则"),!1):(n(e.password.$error.required?"账号密码不能为空":"账号密码不符合规则"),!1):(n(e.clientName.$error.required?"用户名不能为空":"用户名不符合规则"),!1)},a.downloadUserList=function(e,t,n){return i.downloadUserList(JSON.stringify(e)).$promise.then(t,n)},a}function doctorIndividualAddCtrl(e,t,i,n){function o(t){angular.forEach(r,function(i){a[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}var a=this;a.editable=!0;var r=[{DICT_TYPE_CODE:"0009",LIST_NAME:"sexCodeName"},{DICT_TYPE_CODE:"0013",LIST_NAME:"titleCodeName"}];e.commonService("getDictList",{DICT_TYPE_CODE_LIST:r},function(t){e.handleMessage(t,function(e){a.dictList=e,o(e)},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")}),a.checkPhoneNumber=function(t){i.isEmptyObject(t.phone.$error)&&i.checkPhoneNumber({DOCTOR_PHONE_NUMBER:a.phone},function(t){e.handleMessage(t,function(t){t&&(e.alertDialog("手机号重复"),a.phone="")},function(){e.alertDialog("手机号查重失败")})},function(){e.alertDialog("手机号查重失败")})},a.hospital=[];var s=void 0;return a.getHospitalList=function(){i.getHospitalList({SEARCH_HOSPITAL:a.searchHospital},function(t){e.handleMessage(t,function(e){a.hospital=e},function(){e.alertDialog("获取医院失败")})},function(){e.alertDialog("获取医院失败")})},a.searchHospital,a.selectedHospital={},a.clearSearchHospital=function(){if(a.searchHospital="",void 0!==a.selectedHospital&&void 0!==a.selectedHospital.HOSPITAL_ID){var t=e.selectItem(a.hospital,"HOSPITAL_ID",a.selectedHospital.HOSPITAL_ID);void 0!==t?a.selectedHospital=t:(a.hospital=[],a.hospital.push(t),a.selectedHospital=a.hospital[0]),s!==a.selectedHospital.HOSPITAL_ID&&(a.deptArr=[],a.dept=void 0,a.getDeptList())}},a.getSearchHospital=function(){void 0!==a.selectedHospital&&(a.searchHospital=a.selectedHospital.HOSPITAL_NAME,a.searchHospitalChange())},angular.element('input[name="hospital"]').on("keydown",function(e){e.stopPropagation()}),a.searchHospitalChange=function(){""!==a.searchHospital&&void 0!==a.searchHospital&&a.getHospitalList()},a.deptArr=[],a.getDeptList=function(){i.getDeptList({HOSPITAL_ID:a.selectedHospital.HOSPITAL_ID},function(t){e.handleMessage(t,function(e){a.deptArr=e},function(){e.alertDialog("获取科室失败")})},function(){e.alertDialog("获取科室失败")})},a.sureDept=function(){if(void 0!==a.dept){var t=e.selectItem(a.deptArr,"DEPT_ID",a.dept.DEPT_ID);void 0!==t?a.dept=t:(a.deptArr=[],a.deptArr.push(t),a.dept=a.deptArr[0])}},a.cancel=function(){t.go("main.doctor.doctorIndividualList")},a.save=function(n){if(e.check(n)){var o=i.validJudge(n,a,0);o&&i.createDoctorAndUser(o,function(i){e.handleMessage(i,function(){t.go("main.doctor.doctorIndividualList")},function(){e.alertDialog("创建医生失败")})},function(){e.alertDialog("创建医生失败")})}},a.failedTip=function(e){n.show(n.alert().clickOutsideToClose(!0).title("提示").textContent(e).ok("确定"))},a.defaultPasswordState=!0,a.defaultPassword="123456",a.password=a.defaultPassword,a.canClearPassword=!0,a.clearPassword=function(){a.editable&&a.canClearPassword&&(a.password="")},a.showDefaultpasswordButton=!0,a.passwordSwitch=function(){a.defaultPasswordState?a.password="":a.password=a.defaultPassword},a.current="basic",a}function doctorIndividualEditCtrl(e,t,i,n,o,a){function r(t){angular.forEach(c,function(i){l[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}function s(){o.getDoctorInfoById({FAMILY_DOCTOR_KEY_ID:l.FAMILY_DOCTOR_KEY_ID
},function(t){e.handleMessage(t,function(e){l.doctorInfo=e,l.dealData(l.doctorInfo)},function(){e.alertDialog("获取医生信息失败")})},function(){e.alertDialog("获取医生信息失败")})}var l=this;l.editable=!1,l.hasSideNav=!0,l.FAMILY_DOCTOR_KEY_ID=n.FAMILY_DOCTOR_KEY_ID,l.back=function(){i.go("main.doctor.doctorIndividualList")},l.edit=function(e){e.$setPristine(),e.$setUntouched(),l.editable=!l.editable,l.defaultPasswordState=!l.defaultPasswordState},l.cancel=function(t){t.$dirty?e.confirmDialog("您确定要放弃保存吗?",function(){l.dealData(l.doctorInfo),l.editable=!l.editable,l.defaultPasswordState=!l.defaultPasswordState},function(){}):(l.editable=!l.editable,l.defaultPasswordState=!l.defaultPasswordState)},l.save=function(t){if(e.check(t)){var i=o.validJudge(t,l,1);i&&(i.FAMILY_DOCTOR_KEY_ID=l.FAMILY_DOCTOR_KEY_ID,o.editDoctorInfo(i,function(t){e.handleMessage(t,function(){l.editable=!l.editable,l.defaultPasswordState=!l.defaultPasswordState,s()},function(t){e.alertDialog(t.message)})},function(){e.alertDialog("保存失败")}))}},l.failedTip=function(e){a.show(a.alert().clickOutsideToClose(!0).title("提示").textContent(e).ok("确定"))};var c=[{DICT_TYPE_CODE:"0009",LIST_NAME:"sexCodeName"},{DICT_TYPE_CODE:"0013",LIST_NAME:"titleCodeName"}];e.commonService("getDictList",{DICT_TYPE_CODE_LIST:c},function(t){e.handleMessage(t,function(e){l.dictList=e,r(e),s()},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")}),l.dealData=function(e){l.phone=e.DOCTOR_PHONE_NUMBER,l.name=e.DOCTOR_NAME,l.sexIndex=o.findIndex(l.sexCodeName,"DICT_VALUE_CODE",e.DOCTOR_SEX_CODE),l.sexItem=l.sexCodeName[l.sexIndex],l.idNo=e.DOCTOR_ID_NO,l.titleIndex=o.findIndex(l.titleCodeName,"DICT_VALUE_CODE",e.DOCTOR_TITLE_CODE),l.title=l.titleCodeName[l.titleIndex],l.hospital=[{HOSPITAL_ID:e.HOSPITAL_ID,HOSPITAL_NAME:e.HOSPITAL_NAME}],l.selectedHospital=l.hospital[0],l.deptArr=[{DEPT_ID:e.DEPT_ID,DEPT_NAME:e.DEPT_NAME}],l.dept=l.deptArr[0],l.account=e.ACCOUNT,l.password=l.defaultPassword,l.email=e.PERSONAL_MAILBOX,l.skill=e.SKILLED_PROJECT,l.summary=e.DOCTOR_SUMMARY,l.certificateNo=e.DOCTOR_CERTIFICATE_NUMBER,l.isOnline=e.IS_ONLINE},l.checkPhoneNumber=function(t){o.isEmptyObject(t.phone.$error)&&l.phone!==l.doctorInfo.DOCTOR_PHONE_NUMBER&&o.checkPhoneNumber({DOCTOR_PHONE_NUMBER:l.phone},function(t){e.handleMessage(t,function(t){t&&(e.alertDialog("手机号重复"),l.phone="")},function(){e.alertDialog("手机号查重失败")})},function(){e.alertDialog("手机号查重失败")})},l.hospital=[];var E=void 0;return l.getHospitalList=function(){o.getHospitalList({SEARCH_HOSPITAL:l.searchHospital},function(t){e.handleMessage(t,function(e){l.hospital=e},function(){e.alertDialog("获取医院失败")})},function(){e.alertDialog("获取医院失败")})},l.searchHospital,l.selectedHospital={},l.clearSearchHospital=function(){if(l.searchHospital="",void 0!==l.selectedHospital&&void 0!==l.selectedHospital.HOSPITAL_ID){var t=e.selectItem(l.hospital,"HOSPITAL_ID",l.selectedHospital.HOSPITAL_ID);void 0!==t?l.selectedHospital=t:(l.hospital=[],l.hospital.push(t),l.selectedHospital=l.hospital[0]),E!==l.selectedHospital.HOSPITAL_ID&&(l.deptArr=[],l.dept=void 0,l.getDeptList())}},l.getSearchHospital=function(){void 0!==l.selectedHospital&&(E=l.selectedHospital.HOSPITAL_ID,l.searchHospital=l.selectedHospital.HOSPITAL_NAME,l.searchHospitalChange())},angular.element('input[name="hospital"]').on("keydown",function(e){e.stopPropagation()}),l.searchHospitalChange=function(){""!==l.searchHospital&&void 0!==l.searchHospital&&l.getHospitalList()},l.deptArr=[],l.getDeptList=function(){o.getDeptList({HOSPITAL_ID:l.selectedHospital.HOSPITAL_ID},function(t){e.handleMessage(t,function(e){l.deptArr=e},function(){e.alertDialog("获取科室失败")})},function(){e.alertDialog("获取科室失败")})},l.sureDept=function(){if(void 0!==l.dept){var t=e.selectItem(l.deptArr,"DEPT_ID",l.dept.DEPT_ID);void 0!==t?l.dept=t:(l.deptArr=[],l.deptArr.push(t),l.dept=l.deptArr[0])}},l.defaultPasswordState=!0,l.canClearPassword=!0,l.defaultPassword="123456",l.password=l.defaultPassword,l.clearPassword=function(){l.editable&&l.canClearPassword&&(l.password="")},l.showDefaultpasswordButton=!1,l}function doctorIndividualListCtrl(e,t,i,n,o){var a=this;return a.isDownloading=!1,i.getDoctorTitle({},function(t){e.handleMessage(t,function(e){a.titleCodeName=e},function(){e.alertDialog("获取职称失败")})},function(){e.alertDialog("获取职称失败")}),a.hospital=[],a.getHospitalList=function(){i.getHospitalList({SEARCH_HOSPITAL:a.searchHospital},function(t){e.handleMessage(t,function(e){a.hospital=e},function(){e.alertDialog("获取医院失败")})},function(){e.alertDialog("获取医院失败")})},a.searchHospital,a.selectedHospital={},a.clearSearchHospital=function(){if(a.searchHospital="",void 0!==a.selectedHospital){var t=e.selectItem(a.hospital,"HOSPITAL_ID",a.selectedHospital.HOSPITAL_ID);void 0!==t?a.selectedHospital=t:(a.hospital=[],a.hospital.push(t),a.selectedHospital=a.hospital[0])}},a.getSearchHospital=function(){void 0!==a.selectedHospital&&(a.searchHospital=a.selectedHospital.HOSPITAL_NAME,a.searchHospitalChange())},angular.element('input[name="hospital"]').on("keydown",function(e){e.stopPropagation()}),a.searchHospitalChange=function(){""!==a.searchHospital&&void 0!==a.searchHospital&&a.getHospitalList()},a.searchDoctorList=function(e){var n=i.filterValidJudge(e,a);n&&(i.showTable(a,n,t),a.downLoadParam=n)},a.create=function(){t.go("main.doctor.doctorIndividualAdd")},a.failedTip=function(e){o.show(o.alert().clickOutsideToClose(!0).title("提示").textContent(e).ok("确定"))},a.downLoadFile=function(){a.isDownloading=!0,i.downloadDoctorList(a.downLoadParam,function(t){e.handleMessage(t,function(e){n.downloadFile(e.fileName,"家庭医生信息.xls"),a.isDownloading=!1},function(){a.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){a.isDownloading=!1,e.alertDialog("信息导出失败")})},a.searchDoctorList(),a}function doctorIndividualSidebarCtrl(e,t){var i=this;return i.DOCTOR_NAME=t.params.DOCTOR_NAME,i.FAMILY_DOCTOR_KEY_ID=t.params.FAMILY_DOCTOR_KEY_ID,e.$on("url-change",function(){i.judgePage()}),i.judgePage=function(){e.isContains(t.current.name,"signedFamilyList")?i.currentPage="sign":e.isContains(t.current.name,"signRecord")?i.currentPage="record":i.currentPage="basic"},i.judgePage(),i.gotoBasicInfo=function(){i.currentPage="basic",t.go("main.doctor.doctorIndividualSidebar.detail.doctorIndividualEdit",{FAMILY_DOCTOR_KEY_ID:i.FAMILY_DOCTOR_KEY_ID})},i.signedFamilyList=function(){i.currentPage="sign",t.go("main.doctor.doctorIndividualSidebar.detail.signedFamilyList",{FAMILY_DOCTOR_KEY_ID:i.FAMILY_DOCTOR_KEY_ID})},i.signRecord=function(){i.currentPage="record",t.go("main.doctor.doctorIndividualSidebar.detail.signRecord",{FAMILY_DOCTOR_KEY_ID:i.FAMILY_DOCTOR_KEY_ID})},i}function doctorIndividualService(e,t,i,n,o){function a(t,i,o){e.searchDoctorList(JSON.stringify(t)).$promise.then(function(e){n.handleMessage(e,function(){i(e.value||{total:0,rows:[]})},function(){n.alertDialog("获取列表信息失败")})},function(){n.alertDialog("获取列表信息失败"),o()})}var r=this;return r.idNoValid=function(e){var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},i="",n=!0;if(e&&/^[1-9]\d{5}((1[89]|20)\d{2})(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])\d{3}[\dx]$/i.test(e))if(t[e.substr(0,2)]){if(18===e.length){e=e.split("");for(var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],a=["1","0","X","9","8","7","6","5","4","3","2"],r=0,s=0,l=0,c=0;17>c;c++)s=e[c],l=o[c],r+=s*l;var E=a[r%11];E!==e[17].toUpperCase()&&(i="身份证号格式错误:校验位错误",n=!1)}}else i="身份证号格式错误:地址编码错误",n=!1;else i="身份证号格式错误",n=!1;return n?n:i},r.checkPhoneNumber=function(t,i,n){return e.checkPhoneNumber(JSON.stringify(t)).$promise.then(i,n)},r.getSexType=function(t,i,n){return e.getSexType(JSON.stringify(t)).$promise.then(i,n)},r.getDoctorTitle=function(t,i,n){return e.getDoctorTitle(JSON.stringify(t)).$promise.then(i,n)},r.getOrganizationList=function(t,i,n){return e.getOrganizationList(JSON.stringify(t)).$promise.then(i,n)},r.getHospitalList=function(t,i,n){return e.getHospitalList(JSON.stringify(t)).$promise.then(i,n)},r.getDeptList=function(t,i,n){return e.getDeptList(JSON.stringify(t)).$promise.then(i,n)},r.createDoctorAndUser=function(t,i,n){return e.createDoctorAndUser(JSON.stringify(t)).$promise.then(i,n)},r.isEmptyObject=function(e){for(var t in e)return!1;return!0},r.validJudge=function(e,t,i){var n={};return r.isEmptyObject(e.phone.$error)?(n.DOCTOR_PHONE_NUMBER=t.phone,r.isEmptyObject(e.name.$error)?(n.DOCTOR_NAME=t.name,void 0===t.sexItem?(t.failedTip("性别必填"),!1):(n.DOCTOR_SEX_CODE=t.sexItem.DICT_VALUE_CODE,n.DOCTOR_SEX_NAME=t.sexItem.DICT_VALUE_NAME,r.isEmptyObject(e.idNo.$error)?(n.DOCTOR_ID_NO=t.idNo||"",void 0===t.title?(t.failedTip("医生职称必选"),!1):(n.DOCTOR_TITLE_CODE=t.title.DICT_VALUE_CODE,n.DOCTOR_TITLE_NAME=t.title.DICT_VALUE_NAME,void 0===t.selectedHospital.HOSPITAL_ID?(t.failedTip("所属医院必选"),!1):(n.HOSPITAL_ID=t.selectedHospital.HOSPITAL_ID,n.HOSPITAL_NAME=t.selectedHospital.HOSPITAL_NAME,void 0===t.dept?(t.failedTip("所属科室必选"),!1):(n.DEPT_NAME=t.dept.DEPT_NAME,n.DEPT_ID=t.dept.DEPT_ID,r.isEmptyObject(e.password.$error)?(1===i?"123456"!==t.password&&(n.PASSWORD=t.password):n.PASSWORD=t.password,r.isEmptyObject(e.email.$error)?(n.PERSONAL_MAILBOX=t.email||"",r.isEmptyObject(e.skill.$error)?(n.SKILLED_PROJECT=t.skill||"",r.isEmptyObject(e.summary.$error)?(n.DOCTOR_SUMMARY=t.summary||"",n.DOCTOR_CERTIFICATE_NUMBER=t.certificateNo,void 0===t.isOnline?(t.failedTip("是否上线必选"),!1):(n.IS_ONLINE=t.isOnline,n)):(t.failedTip("医生简介字数超出"),!1)):(t.failedTip("医生擅长字数超出"),!1)):(t.failedTip("输入的邮箱不符合规则"),!1)):(e.password.$error.required&&t.failedTip("密码必填"),e.password.$error.pattern&&t.failedTip("密码不符合规则"),!1))))):(t.failedTip("填入的身份证号不符合规则"),!1))):(e.name.$error.required&&t.failedTip("姓名必填"),!1)):(e.phone.$error.required?t.failedTip("手机号不能为空"):t.failedTip("手机号不符合规则"),!1)},r.filterValidJudge=function(e,t){var i={};return void 0===t.titleCode||-1===t.titleCode?i.DOCTOR_TITLE_NAME="":i.DOCTOR_TITLE_NAME=t.titleCode,void 0===t.isOnline||-1===t.isOnline?i.IS_ONLINE="":i.IS_ONLINE=t.isOnline,void 0===t.selectedHospital||void 0===t.selectedHospital.HOSPITAL_ID?i.HOSPITAL_ID="":i.HOSPITAL_ID=t.selectedHospital.HOSPITAL_ID,i.DOCTOR_NAME=t.name||"",e&&!r.isEmptyObject(e.phone.$error)?(e.phone.$error.pattern&&t.failedTip("手机号不符合规则"),!1):(i.DOCTOR_PHONE_NUMBER=t.phone||"",i)},r.showTable=function(e,t,n){function o(e){return'<div class="flag" style="color: #428bca">'+e+"</div>"}function r(e){return 1===e?"是":"否"}var s={dataFunction:a,dataParams:t,columns:[{field:"DOCTOR_NAME",title:"医生姓名",align:"center",valign:"middle",width:168,formatter:o,events:{"click .flag":function(e,t,i){n.go("main.doctor.doctorIndividualSidebar.detail.doctorIndividualEdit",{DOCTOR_NAME:i.DOCTOR_NAME,FAMILY_DOCTOR_KEY_ID:i.FAMILY_DOCTOR_KEY_ID})}}},{field:"DOCTOR_SEX_NAME",title:"性别",width:148,align:"center",valign:"middle"},{field:"DOCTOR_PHONE_NUMBER",title:"手机号",align:"center",width:168,valign:"middle"},{field:"DEPT_NAME",title:"所属科室",align:"center",width:168,valign:"middle"},{field:"DOCTOR_TITLE_NAME",title:"职称",align:"center",width:168,valign:"middle"},{field:"HOSPITAL_NAME",title:"所属医院",align:"center",width:232,valign:"middle"},{field:"IS_ONLINE",title:"是否上线",width:148,align:"center",valign:"middle",formatter:r}]};return e.tableData={bsTableControl:{options:i.initOption(s)}},e},r.getDoctorInfoById=function(t,i,n){return e.getDoctorInfoById(JSON.stringify(t)).$promise.then(i,n)},r.findIndex=function(e,t,i){for(var n=0;n<e.length;n++)if(i==e[n][t])return n;return 0},r.editDoctorInfo=function(t,i,n){return e.editDoctorInfo(JSON.stringify(t)).$promise.then(i,n)},r.downloadDoctorList=function(t,i,n){return e.downloadDoctorList(JSON.stringify(t)).$promise.then(i,n)},r.showSingingHomeTable=function(t,o,a){function r(t,i,o){e.searchSigningHomeList(JSON.stringify(t)).$promise.then(function(e){n.handleMessage(e,function(){i(e.value||{total:0,rows:[]})},function(){n.alertDialog("获取列表信息失败")})},function(){n.alertDialog("获取列表信息失败"),o()})}function s(e){return n.isShow("1003002002")?'<div class="flag" style="color: #428bca">'+e+"</div>":'<div  style="color: #428bca">'+e+"</div>"}var l={dataFunction:r,dataParams:o,columns:[{field:"checkbox",title:"",align:"center",valign:"middle",checkbox:!0},{field:"HOUSEHOLDER_NAME",title:"户主姓名",align:"center",valign:"middle",formatter:s,events:{"click .flag":function(e,t,i){a.go("main.resident.familyArchivesSidebar.detail.familyArchivesEdit",{FAMILY_KEY_ID:i.FAMILY_KEY_ID})}}},{field:"HOUSEHOLDER_PHONE_NO",title:"户主联系电话",align:"center",valign:"middle"},{field:"HOUSEHOLDER_ID_NO",title:"户主身份证号",align:"center",valign:"middle"},{field:"HOUSE_ADDRESS",title:"家庭住址",align:"center",valign:"middle"}]};return t.signingHomeTableData={bsTableControl:{options:i.initOption(l)}},t},r.showUnsingingHomeTable=function(t,o){function a(i,o,a){e.searchUnsigningHomeList(JSON.stringify(i)).$promise.then(function(e){n.handleMessage(e,function(){t.total=e.value?e.value.total:0,o(e.value||{total:0,rows:[]})},function(){n.alertDialog("获取列表信息失败")})},function(){n.alertDialog("获取列表信息失败"),a()})}var r={dataFunction:a,dataParams:o,columns:[{field:"IS_SIGNED",title:"操作",align:"center",valign:"middle",formatter:function(e,i){return['<md-button class="md-raised md-button" style="margin: 0" ',e&&i.FAMILY_DOCTOR_KEY_ID+""==t.FAMILY_DOCTOR_KEY_ID+""?'disabled title="该家庭的签约医生已经是该医生"':"",">",e?"更换签约":"签约","</md-button>"].join("")},events:{"click .md-raised":function(e,i,n){i&&n.FAMILY_DOCTOR_KEY_ID+""==t.FAMILY_DOCTOR_KEY_ID+""||t.signEnsureShow(n)}}},{field:"IS_SIGNED",title:"签约状态",align:"center",valign:"middle",formatter:function(e){return e?"已签约":"未签约"}},{field:"DOCTOR_NAME",title:"签约医生",align:"center",valign:"middle"},{field:"HOUSEHOLDER_NAME",title:"户主姓名",align:"center",valign:"middle"},{field:"HOUSEHOLDER_PHONE_NO",title:"户主手机",align:"center",valign:"middle"},{field:"HOUSEHOLDER_ID_NO",title:"户主身份证号",align:"center",valign:"middle"},{field:"HOUSE_ADDRESS",title:"家庭住址",align:"center",valign:"middle"}],pagination:!1};return t.unsigningHomeTableData={bsTableControl:{options:i.initOption(r)}},t},r.showHomeMemberTable=function(t,a){function r(t,i,o){e.getFamilyMemberById(JSON.stringify(t)).$promise.then(function(e){n.handleMessage(e,function(){i(e.value||{total:0,rows:[]})},function(){n.alertDialog("获取列表信息失败")})},function(){n.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:a,columns:[{field:"RESIDENT_NAME",title:"居民姓名",align:"center",valign:"middle"},{field:"RESIDENT_SEX_NAME",title:"性别",align:"center",valign:"middle"},{field:"BIRTHDAY",title:"年龄",align:"center",valign:"middle",formatter:function(e){return o("age")(e)}},{field:"HOUSEHOLDER_RELATIONSHIP_NAME",title:"与户主关系",align:"center",valign:"middle"},{field:"RESIDENT_PHONE_NO",title:"联系电话",align:"center",valign:"middle"}],pagination:!1};return t.familyMemberTableData={bsTableControl:{options:i.initOption(s)}},t},r.ensureSign=function(t,i,n){return e.ensureSign(JSON.stringify(t)).$promise.then(i,n)},r.changeSign=function(t,i,n){return e.changeSign(JSON.stringify(t)).$promise.then(i,n)},r.getDoctorList=function(e,o,a){function r(e,i,o){t.searchSignDoctor(JSON.stringify(e)).$promise.then(function(e){n.handleMessage(e,function(){i(e.value||{total:0,rows:[]})},function(){n.alertDialog("获取列表信息失败")})},function(){n.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:o,columns:[{field:"DOCTOR_NAME",title:"姓名",align:"center",formatter:function(e){return"<div id='doctorId'  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click #doctorId":function(e,t,i){a(i)}}},{field:"DOCTOR_TITLE_NAME",title:"职称",align:"center"},{field:"SKILLED_PROJECT",title:"擅长",align:"center"},{field:"DOCTOR_PHONE_NUMBER",title:"联系电话",align:"center"}]};e.tableData={bsTableControl:{options:i.initOption(s)}}},r.getselectedDoctorList=function(e,t,n){function o(e,t){t(n)}var a={dataFunction:o,dataParams:t,pagination:!1,columns:[{field:"DOCTOR_NAME",title:"姓名",align:"center"},{field:"DOCTOR_TITLE_NAME",title:"职称",align:"center"},{field:"SKILLED_PROJECT",title:"擅长",align:"center"},{field:"DOCTOR_PHONE_NUMBER",title:"联系电话",align:"center"}]};e.selectedTableData={bsTableControl:{options:i.initOption(a)}},e.selectedTableData.bsTableControl.operat="refresh"},r.updateFamilyDoctorBatch=function(t,i,n){return e.updateFamilyDoctorBatch(JSON.stringify(t)).$promise.then(i,n)},r.terminateBatch=function(t,i,n){return e.terminateBatch(JSON.stringify(t)).$promise.then(i,n)},r}function doctorTeamAddCtrl(e,t,i){var n=this;return n}function doctorTeamEditCtrl(e,t,i){var n=this;return n}function doctorTeamListCtrl(e,t,i){var n=this;return n}function doctorTeamService(){var e=this;return e}function roleService(e,t,i){function n(i,n,o){t.getRoleList(JSON.stringify(i)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var o=this;return o.downloadRoleList=function(e,i,n){return t.downloadRoleList(JSON.stringify(e)).$promise.then(i,n)},o.getJurisdictionsOfRole=function(e,i,n){return t.getJurisdictionsOfRole(JSON.stringify(e)).$promise.then(i,n)},o.createRole=function(e,i,n){return t.createRole(JSON.stringify(e)).$promise.then(i,n)},o.updateRole=function(e,i,n){return t.updateRole(JSON.stringify(e)).$promise.then(i,n)},o.deleteRole=function(e,i,n){return t.deleteRole(JSON.stringify(e)).$promise.then(i,n)},o.checkUser=function(e,i,n){return t.checkUser(JSON.stringify(e)).$promise.then(i,n)},o.JURISDICTION_LIST=[],o.JURISDICTION_LIST_INDEX=[],o.initJurisdictionList=function(){o.JURISDICTION_LIST=[],o.JURISDICTION_LIST_INDEX=[]},o.getJurisdictionList=function(){return o.JURISDICTION_LIST},o.toggle=function(e,t,i){"1"===e.IS_SELECT||1===e.IS_SELECT?(e.IS_SELECT="0",o.joinList(e),o.cancelSubList(e)):("0"===e.IS_SELECT||0===e.IS_SELECT||void 0===e.IS_SELECT)&&(e.IS_SELECT="1",o.joinList(e),!t||"0"!==t.IS_SELECT&&0!==t.IS_SELECT&&void 0!==t.IS_SELECT||(t.IS_SELECT="1",o.joinList(t),!i||"0"!==i.IS_SELECT&&0!==i.IS_SELECT&&void 0!==i.IS_SELECT||(i.IS_SELECT="1",o.joinList(i))))},o.cancelSubList=function(e){e.SUBLIST&&e.SUBLIST.length>0&&angular.forEach(e.SUBLIST,function(e){("1"===e.IS_SELECT||1===e.IS_SELECT)&&(e.IS_SELECT="0",o.joinList(e),o.cancelSubList(e))})},o.joinList=function(e){var t=o.JURISDICTION_LIST_INDEX.indexOf(e.JURISDICTION_KEY_ID);-1===t?(o.JURISDICTION_LIST_INDEX.push(e.JURISDICTION_KEY_ID),o.JURISDICTION_LIST.push({VALUE:e.JURISDICTION_KEY_ID,IS_SELECT:e.IS_SELECT})):o.JURISDICTION_LIST[t].IS_SELECT=e.IS_SELECT},o.isSelectOne=function(e){var t=!1;return angular.forEach(e,function(e){if("1"===e.IS_SELECT||1===e.IS_SELECT){if(!(e.SUBLIST&&e.SUBLIST.length>0))return t=!0,!1;if(o.isSelectOne(e.SUBLIST))return t=!0,!1}}),t},o.showTable=function(e,t,o){function a(e){return'<div class="flag" style="color: #428bca;cursor:pointer;">'+e+"</div>"}var r={dataFunction:n,dataParams:t,columns:[{field:"ROLE_NAME",title:"角色名称",align:"center",width:298,valign:"middle",formatter:a,events:{"click .flag":function(e,t,i){o.go("main.baseData.roleEdit",{ROLE_KEY_ID:i.ROLE_KEY_ID,ROLE_NAME:i.ROLE_NAME})}}},{field:"JURISDICTION_NAME",title:"拥有功能权限",align:"center",width:902,valign:"middle"}]};return e.tableData={bsTableControl:{options:i.initOption(r)}},e},o}function fieldsListCtrl(e,t,i){function n(){r.fieldTypeCode="-1",r.suitableCrowdCode="-1"}function o(){e.commonService("getDictList",{DICT_TYPE_CODE_LIST:s},function(t){e.handleMessage(t,function(e){a(e)},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")})}function a(t){angular.forEach(s,function(i){r[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}var r=this,s=[{DICT_TYPE_CODE:"0022",LIST_NAME:"fieldTypeCodeList"},{DICT_TYPE_CODE:"0020",LIST_NAME:"suitableCrowdCodeList"}];return n(),o(),r.initTableData=function(){var e={FIELD_TYPE_CODE:"-1"===r.fieldTypeCode?null:r.fieldTypeCode.DICT_VALUE_CODE,SUITABLE_CROWD_CODE:"-1"===r.suitableCrowdCode?null:r.suitableCrowdCode.DICT_VALUE_CODE,FIELD_NAME:r.FIELD_NAME};i.showTable(r,e)},r.initTableData(),r}function fieldsService(e,t,i,n){function o(t,n,o){i.getFieldList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var a=this;return a.showTable=function(e,t){var i={dataFunction:o,dataParams:t,columns:[{field:"FIELD_NAME",title:"字段名称",align:"center",valign:"middle"},{field:"FIELD_TYPE_NAME",title:"字段类型",align:"center",valign:"middle"},{field:"FIELD_DETAILED_CONTENT",title:"字段内容",align:"center",valign:"middle"},{field:"SUITABLE_CROWD_NAME",title:"适用人群",align:"center",valign:"middle"},{field:"USE_TIMES",title:"使用次数",align:"center",valign:"middle"}]};return e.tableData={bsTableControl:{options:n.initOption(i)}},e},a}function templateListCtrl(e,t,i){var n=this;return i.showTable(n,{},t),n}function templatePreviewCtrl(e,t,i,n){function o(){n.getFollowUpTemplateById({TEMPLATE_KEY_ID:s},function(t){e.handleMessage(t,function(e){var t=a(e);r.templateInfo=t,r.TEMPLATE_NAME=t.TEMPLATE_NAME,r.TITLE_LIST=t.TITLE_LIST},function(){e.alertDialog("随访模版信息获取失败")})},function(){e.alertDialog("随访模版信息获取失败")})}function a(e){for(var t=0;t<e.TITLE_LIST.length;t++)for(var i=0;i<e.TITLE_LIST[t].FIELD_LIST.length;i++)if("0022000070"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE)for(var n=0;n<e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST.length;n++){for(var o=e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST[n].FIELD_DETAILED_CONTENT.split("\b"),a=[],r=0;r<o.length;r++)a.push({TEMP_NAME:o[r]});e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST[n].FIELD_DETAILED_CONTENT=a}return e}var r=this,s=i.TEMPLATE_KEY_ID;return r.cancel=function(){t.go("main.followupTemplate.templateList")},o(),r.toggle=function(e,t){void 0===t.MODEL&&(t.MODEL=[]);var i=t.MODEL.indexOf(e);i>-1?t.MODEL.splice(i,1):t.MODEL.push(e)},r}function templateService(e,t,i){function n(i,n,o){t.getTemplateList(JSON.stringify(i)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var o=this;return o.showTable=function(e,t,o){function a(e){return'<div class="flag" style="color: #428bca">'+e+"</div>"}var r={dataFunction:n,dataParams:t,columns:[{field:"TEMPLATE_NAME",title:"随访模版",align:"center",valign:"middle",width:300,formatter:a,events:{"click .flag":function(e,t,i){o.go("main.followupTemplate.templatePreview",{TEMPLATE_KEY_ID:i.TEMPLATE_KEY_ID})}}},{field:"SUITABLE_CROWD_NAME",title:"适用人群",width:225,align:"center",valign:"middle"},{field:"CREATE_TIME",title:"创建时间",align:"center",valign:"middle"},{field:"UPDATE_TIME",title:"修改时间",align:"center",valign:"middle"},{field:"OPERATE",title:"操作",align:"center",valign:"middle"}]};return e.tableData={bsTableControl:{options:i.initOption(r)}},e},o.getFollowUpTemplateById=function(e,i,n){t.getFollowUpTemplateById(JSON.stringify(e)).$promise.then(i,n)},o}function contractDetailReportCtrl(e,t,i){function n(e){for(var t=[],i=[],n=[],a={},r=0;r<e.ALL_ORGANIZATION_LIST.length;r++)t.push(e.ALL_ORGANIZATION_LIST[r].ORGANIZATION_NAME),i.push((100*e.ALL_ORGANIZATION_LIST[r].SIGNED_RESIDENT_TOTAL/e.ALL_ORGANIZATION_LIST[r].RESIDENT_TOTAL).toFixed(2)),n.push((100*e.ALL_ORGANIZATION_LIST[r].UNSIGNED_RESIDENT_TOTAL/e.ALL_ORGANIZATION_LIST[r].RESIDENT_TOTAL).toFixed(2)),a[e.ALL_ORGANIZATION_LIST[r].ORGANIZATION_NAME]=[e.ALL_ORGANIZATION_LIST[r].SIGNED_RESIDENT_TOTAL,e.ALL_ORGANIZATION_LIST[r].UNSIGNED_RESIDENT_TOTAL];o.allOrganizationChart={title:{text:"各机构签约人数比例",x:"left"},grid:{bottom:e.ALL_ORGANIZATION_LIST.length>15?"23%":"16%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e?"<div><span>"+e[0].name+"</span><br/><span>"+e[0].seriesName+":"+a[e[0].name][0]+"</span><br/><span>"+e[1].seriesName+":"+a[e[0].name][1]+"</span><br/><span>签约比例："+e[0].data+"%</span><div>":void 0}},legend:{orient:"horizontal",left:"right",top:"top",data:["未签约人数","已签约人数"]},xAxis:[{type:"category",axisLabel:{interval:0,rotate:30,formatter:function(e){return e&&e.length>10?e.substring(0,10)+"...":e}},data:t}],dataZoom:[{show:e.ALL_ORGANIZATION_LIST.length>15?!0:!1,bottom:0,startValue:0,endValue:15,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],yAxis:[{type:"value",axisLabel:{formatter:"{value} %"}}],series:[{name:"已签约人数",type:"bar",stack:"各机构签约人数比例",data:i,barMinHeight:12,label:{normal:{show:!0,position:"inside",formatter:function(e){return a[e.name][0]}}}},{name:"未签约人数",type:"bar",stack:"各机构签约人数比例",barMinHeight:12,data:n,label:{normal:{show:!0,position:"inside",formatter:function(e){return a[e.name][1]}}}}]}}var o=this;return o.returnBack=function(){t.go("main.report.contractReport")},i.getMoreSignedData({TYPE:"1"},function(t){e.handleMessage(t,function(e){n(e)},function(){e.alertDialog("获取图表信息失败")})},function(){e.alertDialog("获取图表信息失败")}),i.getPageSignedData(o,{TYPE:"1"},t),o}function contractReportCtrl(e,t,i){function n(e){o(e.AREA_AND_SCALE),a.isLevel=e.ORGANIZATION_LEVEL,a.organizationReportName="",a.doctorReportName="";for(var t=[],i=[],n=[],r={},s=0;s<e.ORGANIZATION_LIST.length;s++)t.push(e.ORGANIZATION_LIST[s].ORGANIZATION_NAME),i.push((100*e.ORGANIZATION_LIST[s].SIGNED_RESIDENT_TOTAL/(e.ORGANIZATION_LIST[s].SIGNED_RESIDENT_TOTAL+e.ORGANIZATION_LIST[s].UNSIGNED_RESIDENT_TOTAL)).toFixed(2)),n.push((100*e.ORGANIZATION_LIST[s].UNSIGNED_RESIDENT_TOTAL/(e.ORGANIZATION_LIST[s].SIGNED_RESIDENT_TOTAL+e.ORGANIZATION_LIST[s].UNSIGNED_RESIDENT_TOTAL)).toFixed(2)),r[e.ORGANIZATION_LIST[s].ORGANIZATION_NAME]=[e.ORGANIZATION_LIST[s].SIGNED_RESIDENT_TOTAL,e.ORGANIZATION_LIST[s].UNSIGNED_RESIDENT_TOTAL];a.isSearch=!0,a.category={title:{text:"各机构签约人数比例",x:"left"},grid:{bottom:"16%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e&&0!==e.length?"<div><span>"+e[0].name+"</span><br/><span>"+e[0].seriesName+":"+r[e[0].name][0]+"</span><br/><span>"+e[1].seriesName+":"+r[e[0].name][1]+"</span><br/><span>签约比例："+e[0].data+"%</span><div>":void 0}},legend:{orient:"horizontal",left:"right",top:"top",data:["未签约人数","已签约人数"]},xAxis:[{type:"category",axisLabel:{interval:0,rotate:30,formatter:function(e){return e&&e.length>10?e.substring(0,10)+"...":e}},data:t}],yAxis:[{type:"value",axisLabel:{formatter:"{value} %"}}],series:[{name:"已签约人数",type:"bar",stack:"各机构签约人数比例",data:i,barMinHeight:12,label:{normal:{show:!0,position:"inside",formatter:function(e){return r[e.name][0]}}}},{name:"未签约人数",type:"bar",stack:"各机构签约人数比例",barMinHeight:12,data:n,label:{normal:{show:!0,position:"inside",formatter:function(e){return r[e.name][1]}}}}]}}function o(e){a.isSearch=!1,e||(e={}),a.familyTotal=e.FAMILY_TOTAL||0,a.residentTotal=e.RESIDENT_TOTAL||0,a.signedFamilyTotal=e.SIGNED_FAMILY_TOTAL||0,a.signedResidentTotal=e.SIGNED_RESIDENT_TOTAL||0,a.unsignedFamilyTotal=e.UNSIGNED_FAMILY_TOTAL||0,a.unsignedResidentTotal=e.UNSIGNED_RESIDENT_TOTAL||0,a.doctorTotal=e.DOCTOR_TOTAL||0,a.familyDoctorScale=e.FAMILY_DOCTOR_SCALE||0,a.organizationReportName=e.ORGANIZATION_NAME;var t={title:{text:"签约家庭比例",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"center",top:"bottom",data:["未签约家庭数","已签约家庭数"]},series:[{name:"签约家庭比例",type:"pie",radius:"55%",center:["50%","50%"],label:{normal:{show:!0,position:"inside",formatter:function(e){return e.name+":"+e.percent+"%"}}},data:[{value:e.SIGNED_FAMILY_TOTAL||0,name:"已签约家庭数"},{value:e.UNSIGNED_FAMILY_TOTAL||0,name:"未签约家庭数"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},i={title:{text:"签约人数比例",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"center",top:"bottom",data:["未签约人数","已签约人数"]},series:[{name:"签约人数比例",type:"pie",radius:"55%",center:["50%","50%"],label:{normal:{show:!0,position:"inside",formatter:function(e){return e.name+":"+e.percent+"%"}}},data:[{value:e.SIGNED_RESIDENT_TOTAL||0,name:"已签约人数"},{value:e.UNSIGNED_RESIDENT_TOTAL||0,name:"未签约人数"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};a.leftPie=t,a.rightPie=i}var a=this,r=null,s=null;return a.organizationReportName="",a.doctorReportName="",a.isSearch=!0,a.isReset=!1,a.isSearching=!1,a.selectDoctor=!1,a.resetChart=function(){a.isReset=!0,a.selectDoctor=!1,a.searchObject=null,a.organizationLevel=null,a.organizationName=null,a.doctorName=null,a.searchOrganizationOrDoctor=null,i.getAllSignedData({TYPE:"1"},function(t){e.handleMessage(t,function(e){n(e),a.isReset=!1},function(){e.alertDialog("获取所有签约信息失败"),a.isReset=!1})},function(){e.alertDialog("获取所有签约信息失败"),a.isReset=!1})},a.resetChart(),a.initLevelList=function(){a.organizationLevels||i.getOrganizationLevel("",function(t){e.handleMessage(t,function(e){a.organizationLevels=e},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")})},a.initOrangizationByLevel=function(){r&&r===a.organizationLevel.LEVEL||(r=a.organizationLevel.LEVEL,i.getOrganizationByLevel({ORGANIZATION_LEVEL:a.organizationLevel.LEVEL},function(t){e.handleMessage(t,function(e){a.organizationNames=e},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}))},a.initAllDoctorData=function(){s&&s===a.organizationName.ORGANIZATION_KEY_ID||(s=a.organizationName.ORGANIZATION_KEY_ID,i.getDoctorByOrganization({ORGANIZATION_KEY_ID:a.organizationName.ORGANIZATION_KEY_ID},function(t){e.handleMessage(t,function(e){a.doctorNames=e.DOCTOR_LIST},function(){e.alertDialog("获取医生列表失败")})},function(){e.alertDialog("获取医生列表失败")}))},a.searchForTable=function(){var t={};return a.searchOrganizationOrDoctor&&a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID||a.searchObject&&("0"!==a.searchObject||a.organizationName)&&("1"!==a.searchObject||a.doctorName)?(a.selectDoctor=!1,a.isSearching=!0,a.searchOrganizationOrDoctor&&a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID&&!a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?(t.ORGANIZATION_KEY_ID=a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID,a.doctorReportName=""):a.searchOrganizationOrDoctor&&a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID&&a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?(t.ORGANIZATION_KEY_ID=a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID,t.FAMILY_DOCTOR_KEY_ID=a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID,a.doctorReportName=a.searchOrganizationOrDoctor.ORGANIZATION_OR_DOCTOR_NAME,a.selectDoctor=!0):"0"===a.searchObject?(t.ORGANIZATION_KEY_ID=a.organizationName.ORGANIZATION_KEY_ID,a.doctorReportName=""):(t.ORGANIZATION_KEY_ID=a.organizationName.ORGANIZATION_KEY_ID,t.FAMILY_DOCTOR_KEY_ID=a.doctorName.FAMILY_DOCTOR_KEY_ID,a.doctorReportName=a.doctorName.DOCTOR_NAME,a.selectDoctor=!0),void i.getAllSignedData(t,function(t){e.handleMessage(t,function(e){o(e.AREA_AND_SCALE),a.isSearching=!1},function(){e.alertDialog("获取统计信息失败"),a.isSearching=!1})},function(){e.alertDialog("获取统计信息失败"),a.isSearching=!1})):void e.alertDialog("请输入正确的筛选条件！")},a.getOrganizationList=function(){i.getOrganizationORDoctor({SEARCH_NAME:a.searchTerm},function(t){e.handleMessage(t,function(e){a.organization=e.ORGANIZATION_OR_DOCTOR_LIST},function(){e.alertDialog("获取统计信息失败")})},function(){e.alertDialog("获取统计信息失败")})},a.searchTerm,a.searchOrganizationOrDoctor={},a.clearSearchTerm=function(){if(a.searchTerm="",void 0!==a.searchOrganizationOrDoctor){var t;t=a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?e.selectItem(a.organization,"FAMILY_DOCTOR_KEY_ID",a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID):e.selectItem(a.organization,"ORGANIZATION_KEY_ID",a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID),
null!=t?a.searchOrganizationOrDoctor=t:(a.organization=[],a.organization.push(t),a.searchOrganizationOrDoctor=a.organization[0])}},a.getSearchTerm=function(){a.searchTerm=a.searchOrganizationOrDoctor?a.searchOrganizationOrDoctor.ORGANIZATION_OR_DOCTOR_NAME:void 0,a.searchTermChange()},angular.element('input[name="organization"]').on("keydown",function(e){e.stopPropagation()}),a.searchTermChange=function(){""!==a.searchTerm&&void 0!==a.searchTerm?a.getOrganizationList():a.organization=[]},a.changeSearchForAllSelect=function(t){function n(e,t,i){if(t){for(var n=0;n<t.length;n++)if(t[n][i]+""==e[i]+"")return t[n];return t[t.length]=e,t[t.length-1]}return t=[e],t[0]}t&&t.ORGANIZATION_OR_DOCTOR_NAME&&(a.organizationLevels?a.organizationLevel=n({LEVEL:t.ORGANIZATION_LEVEL},a.organizationLevels,"LEVEL"):i.getOrganizationLevel("",function(i){e.handleMessage(i,function(e){a.organizationLevels=e,a.organizationLevel=n({LEVEL:t.ORGANIZATION_LEVEL},a.organizationLevels,"LEVEL")},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}),r&&r===t.ORGANIZATION_LEVEL?a.organizationName=n({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID,ORGANIZATION_NAME:t.ORGANIZATION_NAME},a.organizationNames,"ORGANIZATION_KEY_ID"):i.getOrganizationByLevel({ORGANIZATION_LEVEL:t.ORGANIZATION_LEVEL},function(i){e.handleMessage(i,function(e){a.organizationNames=e,a.organizationName=n({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID,ORGANIZATION_NAME:t.ORGANIZATION_NAME},a.organizationNames,"ORGANIZATION_KEY_ID")},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}),t.FAMILY_DOCTOR_KEY_ID?(a.searchObject="1",s&&s===t.ORGANIZATION_KEY_ID?a.doctorName=n({FAMILY_DOCTOR_KEY_ID:t.FAMILY_DOCTOR_KEY_ID,DOCTOR_NAME:t.ORGANIZATION_OR_DOCTOR_NAME},a.doctorNames,"FAMILY_DOCTOR_KEY_ID"):i.getDoctorByOrganization({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID},function(i){e.handleMessage(i,function(e){a.doctorNames=e.DOCTOR_LIST,a.doctorName=n({FAMILY_DOCTOR_KEY_ID:t.FAMILY_DOCTOR_KEY_ID,DOCTOR_NAME:t.ORGANIZATION_OR_DOCTOR_NAME},a.doctorNames,"FAMILY_DOCTOR_KEY_ID")},function(){e.alertDialog("获取医生列表失败")})},function(){e.alertDialog("获取医生列表失败")})):a.searchObject="0",r=t.ORGANIZATION_LEVEL,s=t.ORGANIZATION_KEY_ID)},a.changeSelect=function(e){switch(e){case 0:a.organizationLevel=null,a.organizationName=null,a.doctorName=null,a.searchOrganizationOrDoctor=null;break;case 1:a.organizationName=null,a.doctorName=null,a.searchOrganizationOrDoctor=null;break;case 2:a.doctorName=null,a.searchOrganizationOrDoctor=null;break;default:a.searchOrganizationOrDoctor=null}},a.moreInfo=function(){t.go("main.report.contractDetailReport")},a}function contractReportService(e,t,i){var n=this;return n.getOrganizationLevel=function(t,i,n){e.getOrganizationLevel(JSON.stringify(t)).$promise.then(i,n)},n.getOrganizationByLevel=function(t,i,n){e.getOrganizationByLevel(JSON.stringify(t)).$promise.then(i,n)},n.getAllSignedData=function(t,i,n){e.getAllSignedData(JSON.stringify(t)).$promise.then(i,n)},n.getDoctorByOrganization=function(t,i,n){e.getDoctorByOrganization(JSON.stringify(t)).$promise.then(i,n)},n.getOrganizationORDoctor=function(t,i,n){e.getOrganizationORDoctor(JSON.stringify(t)).$promise.then(i,n)},n.getMoreSignedData=function(t,i,n){e.getMoreSignedData(JSON.stringify(t)).$promise.then(i,n)},n.getPageSignedData=function(n,o){function a(i,n,o){e.getPageSignedData(JSON.stringify(i)).$promise.then(function(e){t.handleMessage(e,function(){n(e.value||{total:0,rows:[]})},function(){t.alertDialog("获取列表信息失败")})},function(){t.alertDialog("获取列表信息失败"),o()})}var r={dataFunction:a,dataParams:o,columns:[{field:"ORGANIZATION_NAME",title:"机构名称",align:"center"},{field:"SIGNED_RESIDENT_TOTAL",title:"签约人数",align:"center"},{field:"UNSIGNED_RESIDENT_TOTAL",title:"未签约人数",align:"center"},{field:"RESIDENT_TOTAL",title:"居民总数",align:"center"},{field:"SINGED_RESIDENT_PERSENT",title:"签约比例",align:"center"}]};n.organizationTableData={bsTableControl:{options:i.initOption(r)}}},n}function followupTimesReportCtrl(e,t,i,n){function o(e){a.isLevel=e.ORGANIZATION_LEVEL,e?(a.doctorFollowupTotal=e.DOCTOR_FOLLOW_UP_TOTAL||0,a.doctorFollowupAverage=e.DOCTOR_FOLLOW_UP_AVERAGE||0,a.diabetesAverage=e.DIABETES_AVERAGE||"0.0",a.hypertensionAverage=e.HYPERTENSION_AVERAGE||"0.0"):(a.doctorFollowupTotal=0,a.doctorFollowupAverage=0,a.diabetesAverage="0.0",a.hypertensionAverage="0.0"),a.chartOption={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["高血压人群","糖尿病人群"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",minInterval:1}],series:[{name:"居民受访次数",type:"bar",barWidth:"60%",data:[e?e.HYPERTENSION_TOTAL||0:0,e?e.DIABETES_TOTAL||0:0]}]}}var a=this;a.isReset=!1,a.isSearching=!1;var r=null,s=null;return a.organizationReportName="",a.doctorReportName="",a.resetChart=function(){a.searchObject=null,a.organizationLevel=null,a.organizationName=null,a.doctorName=null,a.searchOrganizationOrDoctor=null,a.isReset=!0;var t=new Date;a.startDate=new Date(t.getFullYear()+"-"+(t.getMonth()+1)+"-01"),a.endDate=new Date,i.getAllFollowUpData({START_DATE:n("commonDate")(a.startDate),END_DATE:n("commonDate")(a.endDate)},function(t){e.handleMessage(t,function(e){o(e),a.isReset=!1},function(){e.alertDialog("获取所有签约信息失败"),a.isReset=!1})},function(){e.alertDialog("获取所有签约信息失败"),a.isReset=!1})},a.resetChart(),a.drawChartByDate=function(){var t={START_DATE:n("commonDate")(a.startDate),END_DATE:n("commonDate")(a.endDate)};return a.startDate&&a.endDate||a.searchObject&&("0"!==a.searchObject||a.organizationName)&&("1"!==a.searchObject||a.doctorName)?(a.isSearching=!0,a.searchOrganizationOrDoctor&&a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID||a.organizationName&&a.organizationName.ORGANIZATION_KEY_ID?a.searchOrganizationOrDoctor&&a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID&&!a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?t.ORGANIZATION_KEY_ID=a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID:a.searchOrganizationOrDoctor&&a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID&&a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?(t.ORGANIZATION_KEY_ID=a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID,t.FAMILY_DOCTOR_KEY_ID=a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID):"0"===a.searchObject?t.ORGANIZATION_KEY_ID=a.organizationName.ORGANIZATION_KEY_ID:(t.ORGANIZATION_KEY_ID=a.organizationName.ORGANIZATION_KEY_ID,t.FAMILY_DOCTOR_KEY_ID=a.doctorName.FAMILY_DOCTOR_KEY_ID):(t.ORGANIZATION_KEY_ID=null,t.FAMILY_DOCTOR_KEY_ID=null),void i.getAllFollowUpData(t,function(t){e.handleMessage(t,function(e){o(e),a.isSearching=!1},function(){e.alertDialog("获取所有签约信息失败"),a.isSearching=!1})},function(){})):void e.alertDialog("请输入正确的筛选条件！")},a.initLevelList=function(){a.organizationLevels||i.getOrganizationLevel("",function(t){e.handleMessage(t,function(e){a.organizationLevels=e},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")})},a.initOrangizationByLevel=function(){r&&r===a.organizationLevel.LEVEL||(r=a.organizationLevel.LEVEL,i.getOrganizationByLevel({ORGANIZATION_LEVEL:a.organizationLevel.LEVEL},function(t){e.handleMessage(t,function(e){a.organizationNames=e},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}))},a.initAllDoctorData=function(){s&&s===a.organizationName.ORGANIZATION_KEY_ID||(s=a.organizationName.ORGANIZATION_KEY_ID,i.getDoctorByOrganization({ORGANIZATION_KEY_ID:a.organizationName.ORGANIZATION_KEY_ID},function(t){e.handleMessage(t,function(e){a.doctorNames=e.DOCTOR_LIST},function(){e.alertDialog("获取医生列表失败")})},function(){e.alertDialog("获取医生列表失败")}))},a.getOrganizationList=function(){i.getOrganizationORDoctor({SEARCH_NAME:a.searchTerm},function(t){e.handleMessage(t,function(e){a.organization=e.ORGANIZATION_OR_DOCTOR_LIST},function(){e.alertDialog("获取统计信息失败")})},function(){e.alertDialog("获取统计信息失败")})},a.searchTerm,a.searchOrganizationOrDoctor={},a.clearSearchTerm=function(){if(a.searchTerm="",void 0!==a.searchOrganizationOrDoctor){var t;t=a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?e.selectItem(a.organization,"FAMILY_DOCTOR_KEY_ID",a.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID):e.selectItem(a.organization,"ORGANIZATION_KEY_ID",a.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID),null!=t?a.searchOrganizationOrDoctor=t:(a.organization=[],a.organization.push(t),a.searchOrganizationOrDoctor=a.organization[0])}},a.getSearchTerm=function(){a.searchTerm=a.searchOrganizationOrDoctor?a.searchOrganizationOrDoctor.ORGANIZATION_OR_DOCTOR_NAME:void 0,a.searchTermChange()},angular.element('input[name="organization"]').on("keydown",function(e){e.stopPropagation()}),a.searchTermChange=function(){""!==a.searchTerm&&void 0!==a.searchTerm?a.getOrganizationList():a.organization=[]},a.changeSearchForAllSelect=function(t){function n(e,t,i){if(t){for(var n=0;n<t.length;n++)if(t[n][i]+""==e[i]+"")return t[n];return t[t.length]=e,t[t.length-1]}return t=[e],t[0]}t&&t.ORGANIZATION_OR_DOCTOR_NAME&&(a.organizationLevels?a.organizationLevel=n({LEVEL:t.ORGANIZATION_LEVEL},a.organizationLevels,"LEVEL"):i.getOrganizationLevel("",function(i){e.handleMessage(i,function(e){a.organizationLevels=e,a.organizationLevel=n({LEVEL:t.ORGANIZATION_LEVEL},a.organizationLevels,"LEVEL")},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}),r&&r===t.ORGANIZATION_LEVEL?a.organizationName=n({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID,ORGANIZATION_NAME:t.ORGANIZATION_NAME},a.organizationNames,"ORGANIZATION_KEY_ID"):i.getOrganizationByLevel({ORGANIZATION_LEVEL:t.ORGANIZATION_LEVEL},function(i){e.handleMessage(i,function(e){a.organizationNames=e,a.organizationName=n({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID,ORGANIZATION_NAME:t.ORGANIZATION_NAME},a.organizationNames,"ORGANIZATION_KEY_ID")},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}),t.FAMILY_DOCTOR_KEY_ID?(a.searchObject="1",s&&s===t.ORGANIZATION_KEY_ID?a.doctorName=n({FAMILY_DOCTOR_KEY_ID:t.FAMILY_DOCTOR_KEY_ID,DOCTOR_NAME:t.ORGANIZATION_OR_DOCTOR_NAME},a.doctorNames,"FAMILY_DOCTOR_KEY_ID"):i.getDoctorByOrganization({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID},function(i){e.handleMessage(i,function(e){a.doctorNames=e.DOCTOR_LIST,a.doctorName=n({FAMILY_DOCTOR_KEY_ID:t.FAMILY_DOCTOR_KEY_ID,DOCTOR_NAME:t.ORGANIZATION_OR_DOCTOR_NAME},a.doctorNames,"FAMILY_DOCTOR_KEY_ID")},function(){e.alertDialog("获取医生列表失败")})},function(){e.alertDialog("获取医生列表失败")})):a.searchObject="0",r=t.ORGANIZATION_LEVEL,s=t.ORGANIZATION_KEY_ID)},a.changeSelect=function(e){switch(e){case 0:a.organizationLevel=null,a.organizationName=null,a.doctorName=null,a.searchOrganizationOrDoctor=null;break;case 1:a.organizationName=null,a.doctorName=null,a.searchOrganizationOrDoctor=null;break;case 2:a.doctorName=null,a.searchOrganizationOrDoctor=null;break;default:a.searchOrganizationOrDoctor=null}},a}function followupTimesReportService(e){var t=this;return t.getAllFollowUpData=function(t,i,n){e.getAllFollowUpData(JSON.stringify(t)).$promise.then(i,n)},t.getOrganizationLevel=function(t,i,n){e.getOrganizationLevel(JSON.stringify(t)).$promise.then(i,n)},t.getOrganizationByLevel=function(t,i,n){e.getOrganizationByLevel(JSON.stringify(t)).$promise.then(i,n)},t.getDoctorByOrganization=function(t,i,n){e.getDoctorByOrganization(JSON.stringify(t)).$promise.then(i,n)},t.getOrganizationORDoctor=function(t,i,n){e.getOrganizationORDoctor(JSON.stringify(t)).$promise.then(i,n)},t}function keyPopulationDetailReportCtrl(e,t,i,n){function o(){"diabetes"===t.params.DETAIL_CHART_TYPE&&"GlucoseAndWarning"===t.params.DETAIL_CHART_VALUE?(s.firstTitle="辖区内各机构本月血糖稳定与预警人数",s.secondTitle="各机构本月血糖稳定与预警人数",i.getMoreGlucoseAndWarningData({SEARCH_YEAR_MONTH:n("commonDate")(new Date(s.Year+"-"+s.Month))},function(t){e.handleMessage(t,function(e){a(e.HDP_DISTRIBUTION_DATA),s.isSearching=!1},function(){e.alertDialog("获取辖区内各机构本月血糖稳定及预警人数数据失败"),s.isSearching=!1})},function(){e.alertDialog("获取辖区内各机构本月血糖稳定及预警人数数据失败"),s.isSearching=!1}),i.getPageGlucoseAndWarningData(s,{SEARCH_YEAR_MONTH:n("commonDate")(new Date(s.Year+"-"+s.Month))})):"hypertension"===t.params.DETAIL_CHART_TYPE&&"GlucoseAndWarning"===t.params.DETAIL_CHART_VALUE?(s.firstTitle="辖区内各机构本月血压稳定与预警人数",s.secondTitle="各机构本月血糖压稳定与预警人数",i.getMoreHBPGlucoseAndWarningData({SEARCH_YEAR_MONTH:n("commonDate")(new Date(s.Year+"-"+s.Month))},function(t){e.handleMessage(t,function(e){a(e.HDP_DISTRIBUTION_DATA),s.isSearching=!1},function(){e.alertDialog("获取辖区内各机构本月血糖稳定及预警人数数据失败"),s.isSearching=!1})},function(){e.alertDialog("获取辖区内各机构本月血糖稳定及预警人数数据失败"),s.isSearching=!1}),i.getPageHBPGlucoseAndWarningData(s,{SEARCH_YEAR_MONTH:n("commonDate")(new Date(s.Year+"-"+s.Month))})):"diabetes"===t.params.DETAIL_CHART_TYPE&&"Distribution"===t.params.DETAIL_CHART_VALUE?(s.firstTitle="辖区内各机构糖尿病人群分布",s.secondTitle="各机构糖尿病人群人数比例表格",i.getMoreODPDistributionData({},function(t){e.handleMessage(t,function(e){r(e.ODP_DISTRIBUTION_DATA),s.isSearching=!1},function(){e.alertDialog("获取辖区内各机构糖尿病人群分布(更多)数据失败"),s.isSearching=!1})},function(){e.alertDialog("获取辖区内各机构糖尿病人群分布(更多)数据失败"),s.isSearching=!1}),i.getPageODPDistributionData(s,{})):"hypertension"===t.params.DETAIL_CHART_TYPE&&"Distribution"===t.params.DETAIL_CHART_VALUE&&(s.firstTitle="辖区内各机构高血压人群分布",s.secondTitle="各机构高血压人群人数比例表格",i.getMoreOHPDistributionData({},function(t){e.handleMessage(t,function(e){r(e.HDP_DISTRIBUTION_DATA),s.isSearching=!1},function(){e.alertDialog("获取辖区内各机构高血压人群分布(更多)数据失败"),s.isSearching=!1})},function(){e.alertDialog("获取辖区内各机构高血压人群分布(更多)数据失败"),s.isSearching=!1}),i.getPageOHPDistributionData(s,{}))}function a(e){e||(e=[]);for(var i=[],n=[],o=[],a=e.length-1;a>=0;a--)i.push(e[a].ORGANIZATION_NAME),n.push(e[a].STABLE_COUNT),o.push(e[a].UNSTABLE_COUNT);s.chartData={color:["#1d4fdc","#ff6b6b"],title:{text:"diabetes"===t.params.DETAIL_CHART_TYPE?"辖区各机构本月血糖稳定与预警人数":"辖区各机构本月血压稳定与预警人数",left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e?e[0].value+e[1].value===0?"<div><span>"+e[0].name+"</span><br/><span>预警比例：-%</span><div>":"<div><span>"+e[0].name+"</span><br/><span>预警比例："+(100*e[1].value/(e[0].value+e[1].value)).toFixed(2)+"%</span><div>":void 0}},legend:{data:["稳定人数","预警人数"],left:"right"},grid:{left:"2%",right:"5%",bottom:"3%",containLabel:!0},dataZoom:[{type:"slider",show:e.length>15?!0:!1,yAxisIndex:0,startValue:e.length-15,endValue:e.length-1,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",showDataShadow:!1,left:"96%"}],xAxis:{type:"value",minInterval:1},yAxis:{type:"category",data:i,axisLabel:{interval:0,formatter:function(e){return e&&e.length>10?e.substring(0,10)+"...":e}}},series:[{name:"稳定人数",type:"bar",stack:"diabetes"===t.params.DETAIL_CHART_TYPE?"糖尿病患者":"高血压患者",label:{normal:{show:!0,position:"inside"}},data:n},{name:"预警人数",type:"bar",stack:"diabetes"===t.params.DETAIL_CHART_TYPE?"糖尿病患者":"高血压患者",label:{normal:{show:!0,position:"inside"}},data:o}]}}function r(e){e||(e=[]);for(var i=[],n=[],o=e.length-1;o>=0;o--)i.push(e[o].ORGANIZATION_NAME),"diabetes"!==t.params.DETAIL_CHART_TYPE?n.push(e[o].SUB_HYPERTENSION_TOTAL):n.push(e[o].SUB_DIABETES_TOTAL);s.chartData={title:{text:"diabetes"===t.params.DETAIL_CHART_TYPE?"辖区各机构糖尿病人群分布":"辖区各机构高血压人群分布",left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(i){return i?"<div><span>"+i[0].name+"</span><br/><span>患病人群数："+i[0].value+"</span><br/><span>所占比例："+("diabetes"===t.params.DETAIL_CHART_TYPE?0!==e[e.length-i[0].dataIndex-1].DIABETES_TOTAL?e[e.length-i[0].dataIndex-1].DIABETES_PERSENT:"-":0!==e[e.length-i[0].dataIndex-1].HYPERTENSION_TOTAL?e[e.length-i[0].dataIndex-1].HYPERTENSION_PERSENT:"-")+"%</span><div>":void 0}},legend:{data:["患病人群数"],left:"right"},grid:{left:"2%",right:"5%",bottom:"3%",containLabel:!0},dataZoom:[{type:"slider",show:e.length>15?!0:!1,yAxisIndex:0,startValue:e.length-15,endValue:e.length-1,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",showDataShadow:!1,left:"96%"}],xAxis:{type:"value",minInterval:1},yAxis:{type:"category",data:i,axisLabel:{interval:0,formatter:function(e){return e&&e.length>10?e.substring(0,10)+"...":e}}},series:[{name:"患病人群数",type:"bar",label:{normal:{show:!0,position:"inside"}},data:n}]}}var s=this;return s.isSearching=!1,s.years=[],s.months=[1,2,3,4,5,6,7,8,9,10,11,12],s.isTimeUsed="GlucoseAndWarning"===t.params.DETAIL_CHART_VALUE,s.isTimeUsed?i.getSysDate("",function(t){e.handleMessage(t,function(e){s.nowYear=new Date(e).getFullYear()+"",s.nowMonth=new Date(e).getMonth()+1;for(var t=2015;t<=s.nowYear;t++)s.years.push(t);s.Year=s.nowYear,s.Month=s.months[s.nowMonth-1],o()},function(){e.alertDialog("获取服务器时间失败"),s.nowYear=(new Date).getFullYear()+"",s.nowMonth=(new Date).getMonth()+1;for(var t=2015;t<=s.nowYear;t++)s.years.push(t);s.Year=s.nowYear,s.Month=s.months[s.nowMonth-1],o()})},function(){e.alertDialog("获取服务器时间失败"),s.nowYear=(new Date).getFullYear()+"",s.nowMonth=(new Date).getMonth()+1;for(var t=2015;t<=s.nowYear;t++)s.years.push(t);s.Year=s.nowYear,s.Month=s.months[s.nowMonth-1],o()}):o(),s.changeYear=function(){s.Month=1},s.refreshChart=function(){s.isSearching=!0,o()},s.returnBack=function(){t.go("main.report.keyPopulationReportReturnBack",{TYPE:t.params.DETAIL_CHART_TYPE})},s}function keyPopulationReportCtrl(e,t,i,n,o){function a(t){"diabetes"===t?i.getAllDiabetesData({SEARCH_TIME:I.nowYear,SEARCH_YEAR_MONTH:o("commonDate")(new Date(I.nowYear+"-"+I.nowMonth))},function(t){e.handleMessage(t,function(e){I.isLevel=e.ORGANIZATION_LEVEL,I.diabetesTotal=e.DIABETES_DATA.DIABETES_TOTAL||0,I.followupTotal=e.DIABETES_DATA.FOLLOW_UP_TOTAL||0,I.followupAverage=e.DIABETES_DATA.RESIDENT_FOLLOW_UP_ED_AVERAGE||0,I.averageTime=e.DIABETES_DATA.DIABETES_AVERAGE||0,I.doctorManageAverage=e.DIABETES_DATA.DOCTOR_PER_RESIDENT_MANAGEMENT||0,l(e,"diabetes"),c(e,"diabetes"),E(e,"diabetes"),d(e,"diabetes"),I.isReset=!1},function(){e.alertDialog("获取报表初始化数据失败"),I.isReset=!1})},function(){e.alertDialog("获取报表初始化数据失败"),I.isReset=!1}):i.getAllHypertensionData({SEARCH_TIME:I.nowYear,SEARCH_YEAR_MONTH:o("commonDate")(new Date(I.nowYear+"-"+I.nowMonth))},function(t){e.handleMessage(t,function(e){I.isLevel=e.ORGANIZATION_LEVEL,I.hypertensionTotal=e.HYPERTENSION_DATA.HYPERTENSION_TOTAL||0,I.followupHypertensionTotal=e.HYPERTENSION_DATA.FOLLOW_UP_TOTAL||0,I.hypertensionDoctorAverage=e.HYPERTENSION_DATA.DOCTOR_PER_RESIDENT_MANAGEMENT||0,I.hypertensionFollowupAverage=e.HYPERTENSION_DATA.RESIDENT_FOLLOW_UP_ED_AVERAGE||0,I.hypertensionAverageTime=e.HYPERTENSION_DATA.DIABETES_AVERAGE||0,I.manageNumber_1=e.HYPERTENSION_DATA.GRADING_MANAGEMENT_1||0,I.manageNumber_2=e.HYPERTENSION_DATA.GRADING_MANAGEMENT_2||0,I.manageNumber_3=e.HYPERTENSION_DATA.GRADING_MANAGEMENT_3||0,I.bloodPressure_1=e.HYPERTENSION_DATA.BLOOD_PRESSURE_GRADING_1||0,I.bloodPressure_2=e.HYPERTENSION_DATA.BLOOD_PRESSURE_GRADING_2||0,I.bloodPressure_3=e.HYPERTENSION_DATA.BLOOD_PRESSURE_GRADING_3||0,l(e,"hypertension"),c(e,"hypertension"),E(e,"hypertension"),_(e,"hypertension"),d(e,"hypertension"),I.isReset=!1},function(){e.alertDialog("获取报表初始化数据失败"),I.isReset=!1})},function(){e.alertDialog("获取报表初始化数据失败"),I.isReset=!1})}function r(t){var n={SEARCH_TIME:I.nowYear,SEARCH_YEAR_MONTH:o("commonDate")(new Date(I.nowYear+"-"+I.nowMonth))};I.searchOrganizationOrDoctor&&I.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID&&!I.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?n.ORGANIZATION_KEY_ID=I.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID:I.searchOrganizationOrDoctor&&I.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID&&I.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?(n.ORGANIZATION_KEY_ID=I.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID,n.FAMILY_DOCTOR_KEY_ID=I.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID):"0"===I.searchObject?n.ORGANIZATION_KEY_ID=I.organizationName.ORGANIZATION_KEY_ID:(n.ORGANIZATION_KEY_ID=I.organizationName.ORGANIZATION_KEY_ID,n.FAMILY_DOCTOR_KEY_ID=I.doctorName.FAMILY_DOCTOR_KEY_ID),I.organizationReportName=I.organizationName.ORGANIZATION_NAME,I.lastSearchParam=n,"diabetes"===t?(I.refreshRightMiddle(),i.getAllDiabetesData(n,function(t){e.handleMessage(t,function(e){I.diabetesTotal=e.DIABETES_DATA.DIABETES_TOTAL||0,I.followupTotal=e.DIABETES_DATA.FOLLOW_UP_TOTAL||0,I.followupAverage=e.DIABETES_DATA.RESIDENT_FOLLOW_UP_ED_AVERAGE||0,I.averageTime=e.DIABETES_DATA.DIABETES_AVERAGE||0,I.doctorManageAverage=e.DIABETES_DATA.DOCTOR_PER_RESIDENT_MANAGEMENT||0,l(e,"diabetes"),c(e,"diabetes"),E(e,"diabetes"),d(e,"diabetes"),I.isSearching=!1},function(){e.alertDialog("查询报表数据失败"),I.isSearching=!1})},function(){e.alertDialog("查询报表数据失败"),I.isSearching=!1})):(I.refreshLeftMiddle("hypertension"),i.getAllHypertensionData(n,function(t){e.handleMessage(t,function(e){I.isLevel=e.ORGANIZATION_LEVEL,I.hypertensionTotal=e.HYPERTENSION_DATA.HYPERTENSION_TOTAL||0,I.followupHypertensionTotal=e.HYPERTENSION_DATA.FOLLOW_UP_TOTAL||0,I.hypertensionDoctorAverage=e.HYPERTENSION_DATA.DOCTOR_PER_RESIDENT_MANAGEMENT||0,I.hypertensionFollowupAverage=e.HYPERTENSION_DATA.RESIDENT_FOLLOW_UP_ED_AVERAGE||0,I.hypertensionAverageTime=e.HYPERTENSION_DATA.DIABETES_AVERAGE||0,I.manageNumber_1=e.HYPERTENSION_DATA.GRADING_MANAGEMENT_1||0,I.manageNumber_2=e.HYPERTENSION_DATA.GRADING_MANAGEMENT_2||0,I.manageNumber_3=e.HYPERTENSION_DATA.GRADING_MANAGEMENT_3||0,I.bloodPressure_1=e.HYPERTENSION_DATA.BLOOD_PRESSURE_GRADING_1||0,I.bloodPressure_2=e.HYPERTENSION_DATA.BLOOD_PRESSURE_GRADING_2||0,I.bloodPressure_3=e.HYPERTENSION_DATA.BLOOD_PRESSURE_GRADING_3||0,c(e,"hypertension"),E(e,"hypertension"),_(e,"hypertension"),d(e,"hypertension"),I.isSearching=!1},function(){e.alertDialog("获取报表数据失败"),I.isSearching=!1})},function(){e.alertDialog("获取报表数据失败"),I.isSearching=!1}))}function s(){I.leftMiddleYear=I.nowYear+"",I.leftMiddleMonth=I.nowMonth+"",I.leftBottomYear=I.nowYear+"",I.rightTopYear=I.nowYear+"",I.rightTopMonth=I.nowMonth+"",I.rightMiddleYear=I.nowYear+"",I.rightMiddleMonth=I.nowMonth+"",I.rightBottomYear=I.nowYear+"",I.rightBottomMonth=I.nowMonth+""}function l(e,t){if(I.showLeftMiddle.chart){var i=[],n=[],o=[];if(t=I.lastSearchParam)e.GLUCOSE_AND_WARNING||(e.GLUCOSE_AND_WARNING=[{}]),I.leftMiddle={color:["#1d4fdc","#ff6b6b"],title:{text:"月度血压稳定与预警人数数据",x:"left"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"高血压患者",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:e.GLUCOSE_AND_WARNING[0].STABLE_COUNT||0,name:"稳定人数"},{value:e.GLUCOSE_AND_WARNING[0].UNSTABLE_COUNT||0,name:"预警人数"}],label:{normal:{formatter:function(e){return e.name+"-"+e.percent+"%"}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};else{e.GLUCOSE_AND_WARNING||(e.GLUCOSE_AND_WARNING=[]);for(var a=0;a<e.GLUCOSE_AND_WARNING.length;a++)i.push(e.GLUCOSE_AND_WARNING[a].ORGANIZATION_NAME),n.push(e.GLUCOSE_AND_WARNING[a].UNSTABLE_COUNT||0),o.push(e.GLUCOSE_AND_WARNING[a].STABLE_COUNT||0);I.leftMiddle={color:["#1d4fdc","#ff6b6b"],title:{text:"diabetes"===t?"辖区内各机构本月血糖稳定及预警人数":"辖区内各机构本月血压稳定及预警人数",x:"left"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{orient:"vertical",data:["预警人数","稳定人数"],x:"right"},grid:{left:"8%",right:"4%",bottom:"16%",containLabel:!0},xAxis:[{type:"category",data:i,axisLabel:{interval:0,rotate:30,formatter:function(e){return e&&e.length>10?e.substring(0,10)+"...":e}}}],yAxis:[{type:"value",minInterval:1}],series:[{name:"稳定人数",type:"bar",stack:"diabetes"===t?"糖尿病人数":"高血压人数",data:o},{name:"预警人数",type:"bar",stack:"diabetes"===t?"糖尿病人数":"高血压人数",data:n}]}}}}function c(e,t){if(I.showLeftBottom.chart){var i=[],n=[];if("diabetes"===t){for(var o=0,a=0;o<e.TIME_LIST.length;o++)i.push(e.TIME_LIST[o].TIME+"月"),a<e.PER_MONTH_DIABETES_DATA.length&&e.PER_MONTH_DIABETES_DATA[a].ADD_TIME===e.TIME_LIST[o].TIME?(n.push(e.PER_MONTH_DIABETES_DATA[a].DIABETES_TOTAL),a++):n.push(0);I.leftBottom={title:{text:"每月新增糖尿病人数"},tooltip:{trigger:"axis"},legend:{data:["新增糖尿病人数"],orient:"vertical",x:"right"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:i,axisLabel:{interval:0}}],yAxis:[{type:"value",minInterval:1}],series:[{name:"新增糖尿病人数",type:"line",label:{normal:{show:!0,textStyle:{color:"#000"}}},data:n}]}}else{for(var o=0,a=0;o<e.TIME_LIST.length;o++)i.push(e.TIME_LIST[o].TIME+"月"),a<e.PER_MONTH_HYPERTENSION_DATA.length&&e.PER_MONTH_HYPERTENSION_DATA[a].ADD_TIME===e.TIME_LIST[o].TIME?(n.push(e.PER_MONTH_HYPERTENSION_DATA[a].HYPERTENSION_TOTAL),a++):n.push(0);I.leftBottom={title:{text:"每月新增高血压人数"},tooltip:{trigger:"axis"},legend:{data:["新增高血压人数"],orient:"vertical",x:"right"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:i,axisLabel:{interval:0}}],yAxis:[{type:"value",minInterval:1}],series:[{name:"新增高血压人数",type:"line",label:{normal:{show:!0,textStyle:{color:"#000"}}},data:n}]}}}}function E(e,t){if(I.showRightTop.chart&&"0"!==I.isLevel){var i=0,n=[],o=[];if("diabetes"===t){for(var a=0;a<e.ODP_DISTRIBUTION_DATA.length;a++)n.push(e.ODP_DISTRIBUTION_DATA[a].ORGANIZATION_NAME),o.push({value:e.ODP_DISTRIBUTION_DATA[a].SUB_DIABETES_TOTAL||0,name:e.ODP_DISTRIBUTION_DATA[a].ORGANIZATION_NAME}),i=i+e.ODP_DISTRIBUTION_DATA[a].SUB_DIABETES_TOTAL||0;i!==I.diabetesTotal&&(n.push("其他"),o.push({value:I.diabetesTotal-i,name:"其他"})),I.rightTop={title:{text:"辖区内各机构糖尿病人群分布",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"糖尿病人群分布",type:"pie",radius:"55%",center:["50%","60%"],label:{normal:{formatter:function(e){return e.name+"-"+e.percent+"%"}}},data:o,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}else{for(var a=0;a<e.OHP_DISTRIBUTION_DATA.length;a++)n.push(e.OHP_DISTRIBUTION_DATA[a].ORGANIZATION_NAME),o.push({value:e.OHP_DISTRIBUTION_DATA[a].SUB_HYPERTENSION_TOTAL||0,name:e.OHP_DISTRIBUTION_DATA[a].ORGANIZATION_NAME}),i=i+e.OHP_DISTRIBUTION_DATA[a].SUB_HYPERTENSION_TOTAL||0;i!==I.hypertensionTotal&&(n.push("其他"),o.push({value:I.hypertensionTotal-i,name:"其他"})),I.rightTop={title:{text:"辖区内各机构高血压人群分布",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"高血压人群分布",type:"pie",radius:"55%",center:["50%","60%"],label:{normal:{formatter:function(e){return e.name+"-"+e.percent+"%"}}},data:o,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}}function _(e,t){if(I.showRightMiddle.chart)if("diabetes"===t)e.GLUCOSE_AND_WARNING||(e.GLUCOSE_AND_WARNING=[{}]),I.rightMiddle={title:{text:"月度血糖稳定与预警人数数据",x:"left"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"糖尿病患者",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:e.GLUCOSE_AND_WARNING[0].STABLE_COUNT||0,name:"稳定人数"},{value:e.GLUCOSE_AND_WARNING[0].UNSTABLE_COUNT||0,name:"预警人数"}],label:{normal:{formatter:function(e){return e.name+"-"+e.percent+"%"}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};else{e.HBP_DISTRIBUTION||(e.HBP_DISTRIBUTION={});var i=[{value:e.HBP_DISTRIBUTION.BLOOD_PRESSURE_GRADING_1||0,name:"一级高血压人数"},{value:e.HBP_DISTRIBUTION.BLOOD_PRESSURE_GRADING_2||0,name:"二级高血压人数"},{value:e.HBP_DISTRIBUTION.BLOOD_PRESSURE_GRADING_3||0,name:"三级高血压人数"}];I.rightMiddle={title:{text:"高血压人群血压级别分布",x:"left"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"高血压人群",type:"pie",radius:"55%",center:["50%","60%"],data:i,label:{normal:{formatter:function(e){return e.name+"-"+e.percent+"%"}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}function d(e,t){I.showRightBottom.chart&&("diabetes"===t?(e.DIABETES_FACTORS||(e.DIABETES_FACTORS={}),I.rightBottom={color:["#3398DB"],title:{text:"相关人群生活状态统计"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["吸烟","饮酒","超重","肥胖","规律运动"],axisTick:{alignWithLabel:!0},axisLabel:{interval:0}}],yAxis:[{type:"value",minInterval:1}],series:[{name:"人数",type:"bar",barWidth:"60%",data:[e.DIABETES_FACTORS.SMOKING||0,e.DIABETES_FACTORS.DRINK||0,e.DIABETES_FACTORS.OVERWEIGHT||0,e.DIABETES_FACTORS.OBESITY||0,e.DIABETES_FACTORS.REGULAR_MOVEMENT||0]}]}):(e.HYPERTENSION_FACTORS||(e.HYPERTENSION_FACTORS={}),I.rightBottom={color:["#3398DB"],title:{text:"高血压因素统计情况"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["吸烟","饮酒","超重","肥胖","低盐饮食"],axisTick:{alignWithLabel:!0},axisLabel:{interval:0}}],yAxis:[{type:"value",minInterval:1}],series:[{name:"人数",type:"bar",barWidth:"60%",data:[e.HYPERTENSION_FACTORS.SMOKING||0,e.HYPERTENSION_FACTORS.DRINK||0,e.HYPERTENSION_FACTORS.OVERWEIGHT||0,e.HYPERTENSION_FACTORS.OBESITY||0,e.HYPERTENSION_FACTORS.LOW_SALT_DIET||0]}]}))}var I=this,D=null,T=null;return I.lastSearchParam=null,I.isReset=!1,I.isSearching=!1,I.organizationReportName="",I.isLevel=null,I.currentNavItem=t.params.TYPE?t.params.TYPE:"diabetes",I.years=[],I.months=["01","02","03","04","05","06","07","08","09","10","11","12"],I.initLevelList=function(){I.organizationLevels||n.getOrganizationLevel("",function(t){e.handleMessage(t,function(e){I.organizationLevels=e},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")})},I.initOrangizationByLevel=function(){D&&D===I.organizationLevel.LEVEL||(D=I.organizationLevel.LEVEL,n.getOrganizationByLevel({ORGANIZATION_LEVEL:I.organizationLevel.LEVEL},function(t){e.handleMessage(t,function(e){I.organizationNames=e},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}))},I.initAllDoctorData=function(){T&&T===I.organizationName.ORGANIZATION_KEY_ID||(T=I.organizationName.ORGANIZATION_KEY_ID,n.getDoctorByOrganization({ORGANIZATION_KEY_ID:I.organizationName.ORGANIZATION_KEY_ID},function(t){e.handleMessage(t,function(e){I.doctorNames=e.DOCTOR_LIST},function(){e.alertDialog("获取医生列表失败")})},function(){e.alertDialog("获取医生列表失败")}))},I.getOrganizationList=function(){n.getOrganizationORDoctor({SEARCH_NAME:I.searchTerm},function(t){e.handleMessage(t,function(e){I.organization=e.ORGANIZATION_OR_DOCTOR_LIST},function(){e.alertDialog("获取统计信息失败")})},function(){e.alertDialog("获取统计信息失败")})},I.searchTerm,I.searchOrganizationOrDoctor={},I.clearSearchTerm=function(){if(I.searchTerm="",void 0!==I.searchOrganizationOrDoctor){var t;t=I.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID?e.selectItem(I.organization,"FAMILY_DOCTOR_KEY_ID",I.searchOrganizationOrDoctor.FAMILY_DOCTOR_KEY_ID):e.selectItem(I.organization,"ORGANIZATION_KEY_ID",I.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID),null!=t?I.searchOrganizationOrDoctor=t:(I.organization=[],I.organization.push(t),I.searchOrganizationOrDoctor=I.organization[0])}},I.getSearchTerm=function(){I.searchTerm=I.searchOrganizationOrDoctor?I.searchOrganizationOrDoctor.ORGANIZATION_OR_DOCTOR_NAME:void 0,I.searchTermChange()},angular.element('input[name="organization"]').on("keydown",function(e){e.stopPropagation()}),I.searchTermChange=function(){""!==I.searchTerm&&void 0!==I.searchTerm?I.getOrganizationList():I.organization=[]},I.changeSearchForAllSelect=function(t){function i(e,t,i){if(t){for(var n=0;n<t.length;n++)if(t[n][i]+""==e[i]+"")return t[n];return t[t.length]=e,t[t.length-1]}return t=[e],t[0]}t&&t.ORGANIZATION_OR_DOCTOR_NAME&&(I.organizationLevels?I.organizationLevel=i({LEVEL:t.ORGANIZATION_LEVEL},I.organizationLevels,"LEVEL"):n.getOrganizationLevel("",function(n){e.handleMessage(n,function(e){I.organizationLevels=e,I.organizationLevel=i({LEVEL:t.ORGANIZATION_LEVEL},I.organizationLevels,"LEVEL")},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}),D&&D===t.ORGANIZATION_LEVEL?I.organizationName=i({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID,
ORGANIZATION_NAME:t.ORGANIZATION_NAME},I.organizationNames,"ORGANIZATION_KEY_ID"):n.getOrganizationByLevel({ORGANIZATION_LEVEL:t.ORGANIZATION_LEVEL},function(n){e.handleMessage(n,function(e){I.organizationNames=e,I.organizationName=i({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID,ORGANIZATION_NAME:t.ORGANIZATION_NAME},I.organizationNames,"ORGANIZATION_KEY_ID")},function(){e.alertDialog("获取机构级别失败")})},function(){e.alertDialog("获取机构级别失败")}),t.FAMILY_DOCTOR_KEY_ID?(I.searchObject="1",T&&T===t.ORGANIZATION_KEY_ID?I.doctorName=i({FAMILY_DOCTOR_KEY_ID:t.FAMILY_DOCTOR_KEY_ID,DOCTOR_NAME:t.ORGANIZATION_OR_DOCTOR_NAME},I.doctorNames,"FAMILY_DOCTOR_KEY_ID"):n.getDoctorByOrganization({ORGANIZATION_KEY_ID:t.ORGANIZATION_KEY_ID},function(n){e.handleMessage(n,function(e){I.doctorNames=e.DOCTOR_LIST,I.doctorName=i({FAMILY_DOCTOR_KEY_ID:t.FAMILY_DOCTOR_KEY_ID,DOCTOR_NAME:t.ORGANIZATION_OR_DOCTOR_NAME},I.doctorNames,"FAMILY_DOCTOR_KEY_ID")},function(){e.alertDialog("获取医生列表失败")})},function(){e.alertDialog("获取医生列表失败")})):I.searchObject="0",D=t.ORGANIZATION_LEVEL,T=t.ORGANIZATION_KEY_ID)},I.changeSelect=function(e){switch(e){case 0:I.organizationLevel=null,I.organizationName=null,I.doctorName=null,I.searchOrganizationOrDoctor=null;break;case 1:I.organizationName=null,I.doctorName=null,I.searchOrganizationOrDoctor=null;break;case 2:I.doctorName=null,I.searchOrganizationOrDoctor=null;break;default:I.searchOrganizationOrDoctor=null}},I.resetChart=function(){I.lastSearchParam=null,I.isReset=!0,I.searchObject=null,I.organizationLevel=null,I.organizationName=null,I.doctorName=null,I.searchOrganizationOrDoctor=null,I.organizationReportName="",s(),"diabetes"===I.currentNavItem?(I.showLeftMiddle={chart:!0,date:!0,more:!0},I.showLeftBottom={chart:!0,date:!0,more:!1},I.showRightTop={chart:!0,date:!1,more:!0},I.showRightMiddle={chart:!1,date:!1,more:!1},I.showRightBottom={chart:!0,date:!1,more:!1}):"hypertension"===I.currentNavItem&&(I.showLeftMiddle={chart:!0,date:!0,more:!0},I.showLeftBottom={chart:!0,date:!0,more:!1},I.showRightTop={chart:!0,date:!1,more:!0},I.showRightMiddle={chart:!0,date:!1,more:!1},I.showRightBottom={chart:!0,date:!1,more:!1}),a(I.currentNavItem)},I.searchChart=function(){return I.isSearching=!0,I.searchOrganizationOrDoctor&&I.searchOrganizationOrDoctor.ORGANIZATION_KEY_ID||I.searchObject&&("0"!==I.searchObject||I.organizationName)&&("1"!==I.searchObject||I.doctorName)?("diabetes"===I.currentNavItem?(I.showLeftMiddle={chart:!1,date:!0,more:!0},I.showLeftBottom={chart:!0,date:!0,more:!1},I.showRightTop={chart:!1,date:!1,more:!0},I.showRightMiddle={chart:!0,date:!0,more:!1},I.showRightBottom={chart:!0,date:!1,more:!1}):"hypertension"===I.currentNavItem&&(I.showLeftMiddle={chart:!0,date:!0,more:!1},I.showLeftBottom={chart:!0,date:!0,more:!1},I.showRightTop={chart:!1,date:!1,more:!1},I.showRightMiddle={chart:!0,date:!1,more:!1},I.showRightBottom={chart:!0,date:!1,more:!1}),void r(I.currentNavItem)):(e.alertDialog("请输入正确的筛选条件！"),void(I.isSearching=!1))},I.changeNavItem=function(e){e!==I.currentNavItem&&(s(),I.lastSearchParam||"diabetes"!==e?I.lastSearchParam||"diabetes"===e?I.lastSearchParam&&"diabetes"===e?(I.isSearching=!0,I.showLeftMiddle={chart:!1,date:!0,more:!0},I.showLeftBottom={chart:!0,date:!0,more:!1},I.showRightTop={chart:!1,date:!1,more:!0},I.showRightMiddle={chart:!0,date:!0,more:!1},I.showRightBottom={chart:!0,date:!1,more:!1},r(e)):I.lastSearchParam&&"diabetes"!==e&&(I.isSearching=!0,I.showLeftMiddle={chart:!0,date:!0,more:!1},I.showLeftBottom={chart:!0,date:!0,more:!1},I.showRightTop={chart:!1,date:!1,more:!1},I.showRightMiddle={chart:!0,date:!1,more:!1},I.showRightBottom={chart:!0,date:!1,more:!1},r(e)):(I.isReset=!0,I.showLeftMiddle={chart:!0,date:!0,more:!0},I.showLeftBottom={chart:!0,date:!0,more:!1},I.showRightTop={chart:!0,date:!1,more:!0},I.showRightMiddle={chart:!0,date:!1,more:!1},I.showRightBottom={chart:!0,date:!1,more:!1},a(e)):(I.isReset=!0,I.showLeftMiddle={chart:!0,date:!0,more:!0},I.showLeftBottom={chart:!0,date:!0,more:!1},I.showRightTop={chart:!0,date:!1,more:!0},I.showRightMiddle={chart:!1,date:!1,more:!1},I.showRightBottom={chart:!0,date:!1,more:!1},a(e)))},I.moreInfo=function(e){t.go("main.report.keyPopulationDetailReport",{DETAIL_CHART_TYPE:I.currentNavItem,DETAIL_CHART_VALUE:e})},I.changeRightMiddleYear=function(){I.rightMiddleMonth="01",I.refreshRightMiddle()},I.changeLeftMiddleYear=function(){I.leftMiddleMonth="01",I.refreshLeftMiddle()},I.refreshRightMiddle=function(){var t=I.lastSearchParam||{};t.SEARCH_YEAR_MONTH=I.rightMiddleYear+"-"+I.rightMiddleMonth+"-01",i.getGlucoseAndWarningData(t,function(t){e.handleMessage(t,function(e){_(e,I.currentNavItem)},function(){e.alertDialog("获取月度稳定人数与预警人数失败")})},function(){e.alertDialog("获取月度稳定人数与预警人数失败")})},I.refreshLeftMiddle=function(t){var n=I.lastSearchParam||{};n.SEARCH_YEAR_MONTH=I.leftMiddleYear+"-"+I.leftMiddleMonth+"-01",t&&"hypertension"===t||"hypertension"===I.currentNavItem?i.getHBPGlucoseAndWarningData(n,function(t){e.handleMessage(t,function(e){l(e,I.currentNavItem)},function(){e.alertDialog("获取月度稳定人数与预警人数失败")})},function(){e.alertDialog("获取月度稳定人数与预警人数失败")}):i.getGlucoseAndWarningData(n,function(t){e.handleMessage(t,function(e){l(e,I.currentNavItem)},function(){e.alertDialog("获取月度稳定人数与预警人数失败")})},function(){e.alertDialog("获取月度稳定人数与预警人数失败")})},I.refreshLeftBottom=function(){var t=I.lastSearchParam||{};t.SEARCH_TIME=I.leftBottomYear,"hypertension"===I.currentNavItem?i.getPerMonthHypertensionData(t,function(t){e.handleMessage(t,function(e){c(e,I.currentNavItem)},function(){e.alertDialog("获取每月新增糖尿病患者数据失败")})},function(){e.alertDialog("获取每月新增糖尿病患者数据失败")}):i.getPerMonthDiabetesData(t,function(t){e.handleMessage(t,function(e){c(e,I.currentNavItem)},function(){e.alertDialog("获取每月新增高血压患者数据失败")})},function(){e.alertDialog("获取每月新增高血压患者数据失败")})},i.getSysDate("",function(t){e.handleMessage(t,function(e){I.nowYear=new Date(e).getFullYear()+"",I.nowMonth=new Date(e).getMonth()+1;for(var t=2015;t<=I.nowYear;t++)I.years.push(t);I.resetChart(),I.resetChart()},function(){e.alertDialog("获取服务器时间失败"),I.nowYear=(new Date).getFullYear()+"",I.nowMonth=(new Date).getMonth()+1;for(var t=2015;t<=I.nowYear;t++)I.years.push(t)})},function(){e.alertDialog("获取服务器时间失败"),I.nowYear=(new Date).getFullYear()+"",I.nowMonth=(new Date).getMonth()+1;for(var t=2015;t<=I.nowYear;t++)I.years.push(t)}),I}function keyPopulationReportService(e,t,i){var n=this;return n.getAllDiabetesData=function(t,i,n){e.getAllDiabetesData(JSON.stringify(t)).$promise.then(i,n)},n.getGlucoseAndWarningData=function(t,i,n){e.getGlucoseAndWarningData(JSON.stringify(t)).$promise.then(i,n)},n.getHBPGlucoseAndWarningData=function(t,i,n){e.getHBPGlucoseAndWarningData(JSON.stringify(t)).$promise.then(i,n)},n.getPerMonthDiabetesData=function(t,i,n){e.getPerMonthDiabetesData(JSON.stringify(t)).$promise.then(i,n)},n.getAllHypertensionData=function(t,i,n){e.getAllHypertensionData(JSON.stringify(t)).$promise.then(i,n)},n.getSysDate=function(t,i,n){e.getSysDate(JSON.stringify(t)).$promise.then(i,n)},n.getPerMonthHypertensionData=function(t,i,n){e.getPerMonthHypertensionData(JSON.stringify(t)).$promise.then(i,n)},n.getMoreGlucoseAndWarningData=function(t,i,n){e.getMoreGlucoseAndWarningData(JSON.stringify(t)).$promise.then(i,n)},n.getMoreHBPGlucoseAndWarningData=function(t,i,n){e.getMoreHBPGlucoseAndWarningData(JSON.stringify(t)).$promise.then(i,n)},n.getMoreODPDistributionData=function(t,i,n){e.getMoreODPDistributionData(JSON.stringify(t)).$promise.then(i,n)},n.getMoreOHPDistributionData=function(t,i,n){e.getMoreOHPDistributionData(JSON.stringify(t)).$promise.then(i,n)},n.getPageGlucoseAndWarningData=function(n,o){function a(t,n,o){e.getPageGlucoseAndWarningData(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(){n(e.value||{total:0,rows:[]})},function(){i.alertDialog("获取列表信息失败")})},function(){i.alertDialog("获取列表信息失败"),o()})}var r={dataFunction:a,dataParams:o,columns:[{field:"ORGANIZATION_NAME",title:"机构名称",align:"center"},{field:"STABLE_COUNT",title:"血糖稳定人数",align:"center"},{field:"UNSTABLE_COUNT",title:"血糖预警人数",align:"center"},{field:"DIABETES_PERSENT",title:"预警比例",align:"center",sortable:!0,formatter:function(e,t){return 0===t.STABLE_COUNT&&0===t.UNSTABLE_COUNT?"-":(100*t.UNSTABLE_COUNT/(t.STABLE_COUNT+t.UNSTABLE_COUNT)).toFixed(2)+"%"}}]};n.tableData={bsTableControl:{options:t.initOption(r)}}},n.getPageHBPGlucoseAndWarningData=function(n,o){function a(t,n,o){e.getPageHBPGlucoseAndWarningData(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(){n(e.value||{total:0,rows:[]})},function(){i.alertDialog("获取列表信息失败")})},function(){i.alertDialog("获取列表信息失败"),o()})}var r={dataFunction:a,dataParams:o,columns:[{field:"ORGANIZATION_NAME",title:"机构名称",align:"center"},{field:"STABLE_COUNT",title:"血压稳定人数",align:"center"},{field:"UNSTABLE_COUNT",title:"血压预警人数",align:"center"},{field:"HYPERTENSION_PERSENT",title:"预警比例",align:"center",sortable:!0,formatter:function(e,t){return 0===t.STABLE_COUNT&&0===t.UNSTABLE_COUNT?"-":(100*t.UNSTABLE_COUNT/(t.STABLE_COUNT+t.UNSTABLE_COUNT)).toFixed(2)+"%"}}]};n.tableData={bsTableControl:{options:t.initOption(r)}}},n.getPageODPDistributionData=function(n,o){function a(t,n,o){e.getPageODPDistributionData(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(){n(e.value||{total:0,rows:[]})},function(){i.alertDialog("获取列表信息失败")})},function(){i.alertDialog("获取列表信息失败"),o()})}var r={dataFunction:a,dataParams:o,columns:[{field:"ORGANIZATION_NAME",title:"机构名称",align:"center"},{field:"SUB_DIABETES_TOTAL",title:"糖尿病人群数",align:"center"},{field:"DIABETES_PERSENT",title:"所占比例",align:"center",sortable:!0,formatter:function(e){return e?e+"%":"-"}}]};n.tableData={bsTableControl:{options:t.initOption(r)}}},n.getPageOHPDistributionData=function(n,o){function a(t,n,o){e.getPageOHPDistributionData(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(){n(e.value||{total:0,rows:[]})},function(){i.alertDialog("获取列表信息失败")})},function(){i.alertDialog("获取列表信息失败"),o()})}var r={dataFunction:a,dataParams:o,columns:[{field:"ORGANIZATION_NAME",title:"机构名称",align:"center"},{field:"SUB_HYPERTENSION_TOTAL",title:"高血压人群数",align:"center"},{field:"HYPERTENSION_PERSENT",title:"所占比例",align:"center",sortable:!0,formatter:function(e){return e?e+"%":"-"}}]};n.tableData={bsTableControl:{options:t.initOption(r)}}},n}function familyArchivesAddCtrl(e,t,i,n,o,a){function r(){_.familyAttributeSelected=[],_.domesticApplianceTypeSelected=[],_.vehicleTypeSelected=[],_.refuseDisposalWaySelected=[],_.sewageDisposalWaySelected=[],_.recreationalSportsEquipmentTypeSelected=[],_.memberList=[],_.addressProvince={},_.addressCity={},_.addressCounty={},_.addressStreet={},_.familyAttribute={},_.houseType={},_.cookroomType={},_.kitchenVentilationSystem={},_.fuelType={},_.waterSource={},_.toiletType={},_.pinfoldPosition={},_.domesticApplianceType={},_.vehicleType={},_.economicConditionsType={},_.perCapitaAnnualIncome={},_.refuseDisposalWay={},_.sewageDisposalWay={},_.recreationalSportsEquipmentType={}}function s(){e.commonService("getDictList",{DICT_TYPE_CODE_LIST:T},function(t){e.handleMessage(t,function(e){E(e)},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")})}function l(e){var t=[],i=[];return angular.forEach(e,function(e){e.DICT_VALUE_CODE&&t.push(e.DICT_VALUE_CODE),e.DICT_VALUE_NAME&&i.push(e.DICT_VALUE_NAME)}),{DICT_VALUE_CODE:t.join(","),DICT_VALUE_NAME:i.join(",")}}function c(){_.familyNumber=_.memberList.length+1}function E(t){angular.forEach(T,function(i){_[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}var _=this;_.add=!0,_.editable=!0;var d=null,I=null,D=null,T=[{DICT_TYPE_CODE:"0007001",LIST_NAME:"livingTypeList"},{DICT_TYPE_CODE:"0007002",LIST_NAME:"residentTypeList"},{DICT_TYPE_CODE:"0007003",LIST_NAME:"familyAttributeList"},{DICT_TYPE_CODE:"0007004",LIST_NAME:"houseTypeList"},{DICT_TYPE_CODE:"0007005",LIST_NAME:"cookroomTypeList"},{DICT_TYPE_CODE:"0007006",LIST_NAME:"kitchenVentilationSystemList"},{DICT_TYPE_CODE:"0007007",LIST_NAME:"fuelTypeList"},{DICT_TYPE_CODE:"0007008",LIST_NAME:"waterSourceList"},{DICT_TYPE_CODE:"0007009",LIST_NAME:"toiletTypeList"},{DICT_TYPE_CODE:"0007010",LIST_NAME:"pinfoldPositionList"},{DICT_TYPE_CODE:"0007011",LIST_NAME:"domesticApplianceTypeList"},{DICT_TYPE_CODE:"0007012",LIST_NAME:"vehicleTypeList"},{DICT_TYPE_CODE:"0007013",LIST_NAME:"economicConditionsTypeList"},{DICT_TYPE_CODE:"0007014",LIST_NAME:"perCapitaAnnualIncomeList"},{DICT_TYPE_CODE:"0007015",LIST_NAME:"refuseDisposalWayList"},{DICT_TYPE_CODE:"0007016",LIST_NAME:"sewageDisposalWayList"},{DICT_TYPE_CODE:"0007017",LIST_NAME:"recreationalSportsEquipmentTypeList"},{DICT_TYPE_CODE:"0014",LIST_NAME:"householderRelationshipList"}];return r(),s(),c(),_.addDoctor=function(){function e(e,t,i,n,o){function a(i){t.searched=!0,o.getselectedDoctorList(t,{},{total:1,rows:[i]}),t.row=i,e.getCurrentDateTime(function(e){if(void 0===_.beginTimeFormat){_.beginTimeFormat=e,_.beginTime=n("commonDate")(_.beginTimeFormat);var i=new Date(new Date(_.beginTimeFormat).getTime());i.setFullYear(i.getFullYear()+1),i.setDate(i.getDate()-1),_.endTimeFormat=i,_.endTime=n("commonDate")(_.endTimeFormat)}void 0===t.beginTime&&(t.beginTime=n("commonDate")(_.beginTimeFormat,"yyyy年MM月dd日"),t.endTime=n("commonDate")(_.endTimeFormat,"yyyy年MM月dd日"),t.$apply())}),t.$apply()}t.searched=!1,t.hide=function(){i.close()},t.cancel=function(){i.close()},t.back=function(){t.searched=!1},t.addDoctor=function(){_.responsibleDoctorId=t.row.FAMILY_DOCTOR_KEY_ID,_.responsibleDoctorName=t.row.DOCTOR_NAME,_.hospitalName=t.row.HOSPITAL_NAME,_.doctorTitleName=t.row.DOCTOR_TITLE_NAME,i.close()},t.search=function(){t.getDoctorList()},t.getDoctorList=function(){var e={SEARCH_DOCTOR:t.searchValue};o.getDoctorList(t,e,a)},t.$on("panelClose",function(){i.close()})}SMS.CONTROLLERS.controller("selectDoctorController",e),e.$inject=["$rootScope","$scope","mdPanelRef","$filter","familyArchivesService"];var t=i.newPanelPosition().absolute().center(),n=i.newPanelAnimation().withAnimation(i.animation.FADE),o={animation:n,attachTo:angular.element(document.body),controller:e,templateUrl:"template/resident/familyArchives/selectDoctor.html",position:t,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};i.open(o)},_.addFamilyMember=function(){function t(e,t,i,n){function a(i){return void 0!==i.FAMILY_KEY_ID&&null!==i.FAMILY_KEY_ID&&""!==i.FAMILY_KEY_ID?void e.alertDialog("不能添加该居民，因为该居民已组建过家庭"):i.RESIDENT_KEY_ID===_.residentKeyId?void e.alertDialog("不能选择户主作为家庭成员"):(t.searched=!0,n.getselectedFamilyMemberList(t,{},{total:1,rows:[i]}),t.row=i,t.relationship=void 0,void t.$apply())}t.searched=!1,t.add=!0,t.householderRelationshipList=_.householderRelationshipList,t.hide=function(){i.close()},t.cancel=function(){i.close()},t.back=function(e){e.$setPristine(),e.$setUntouched(),t.searched=!1},t.addFamilyMember=function(){if(-1!==e.selectIndex(_.memberList,"RESIDENT_KEY_ID",t.row.RESIDENT_KEY_ID))return void e.alertDialog("已经添加过该成员，不能重复添加");var n=null===t.relationship?"":t.relationship.DICT_VALUE_CODE,o=null===t.relationship?t.relationshipSearchText:t.relationship.DICT_VALUE_NAME;t.row.HOUSEHOLDER_RELATIONSHIP_CODE=n,t.row.HOUSEHOLDER_RELATIONSHIP_NAME=o,t.row.HOUSEHOLDER_SYMBOL="0",_.memberList.push(t.row),c(),i.close()},t.searchTextChange=function(){var e=o.defer(),i=t.householderRelationshipList;return e.resolve(i),e.promise},t.search=function(){t.getFamilyMemberList()},t.getFamilyMemberList=function(){var e={SEARCH_RESIDENT:t.searchValue,RESIDENT_KEY_ID:_.residentKeyId};n.getFamilyMemberList(t,e,a)},t.$on("panelClose",function(){i.close()})}if(!_.residentKeyId)return void e.alertDialog("请先添加户主信息,如:身份证");if(99===_.familyNumber)return void e.alertDialog("家庭人数超过限制，无法添加家庭成员");SMS.CONTROLLERS.controller("selectFamilyMemberController",t),t.$inject=["$rootScope","$scope","mdPanelRef","familyArchivesService"];var n=i.newPanelPosition().absolute().center(),a=i.newPanelAnimation().withAnimation(i.animation.FADE),r={animation:a,attachTo:angular.element(document.body),controller:t,templateUrl:"template/resident/familyArchives/selectFamilyMember.html",position:n,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};i.open(r)},_.viewFamilyMember=function(i){e.isShow("1003001002")&&t.go("main.resident.residentArchivesSidebar.detail.residentArchivesEdit",{RESIDENT_KEY_ID:i.RESIDENT_KEY_ID})},_.editFamilyMember=function(e){function t(t,i,n,a){i.searched=!0,i.edit=!0,i.householderRelationshipList=_.householderRelationshipList,e.FAMILY_KEY_ID="-1",i.row=e,i.relationship=t.selectItem(i.householderRelationshipList,"DICT_VALUE_CODE",i.row.HOUSEHOLDER_RELATIONSHIP_CODE),void 0===i.relationship&&(i.relationship={DICT_VALUE_CODE:"",DICT_VALUE_NAME:i.row.HOUSEHOLDER_RELATIONSHIP_NAME}),a.getselectedFamilyMemberList(i,{},{total:1,rows:[i.row]}),i.hide=function(){n.close()},i.cancel=function(){n.close()},i.back=function(e){e.$setPristine(),e.$setUntouched(),i.searched=!1},i.addFamilyMember=function(){var e=null===i.relationship?"":i.relationship.DICT_VALUE_CODE,t=null===i.relationship?i.relationshipSearchText:i.relationship.DICT_VALUE_NAME;i.row.HOUSEHOLDER_RELATIONSHIP_CODE=e,i.row.HOUSEHOLDER_RELATIONSHIP_NAME=t,i.row.HOUSEHOLDER_SYMBOL="0",_.memberList.push(i.row),n.close()},i.searchTextChange=function(){var e=o.defer(),t=i.householderRelationshipList;return e.resolve(t),e.promise},i.search=function(){i.getFamilyMemberList()},i.getFamilyMemberList=function(){var e={SEARCH_RESIDENT:i.searchValue};a.getFamilyMemberList(i,e,callback)},i.$on("panelClose",function(){n.close()})}SMS.CONTROLLERS.controller("editFamilyMemberController",t),t.$inject=["$rootScope","$scope","mdPanelRef","familyArchivesService"];var n=i.newPanelPosition().absolute().center(),a=i.newPanelAnimation().withAnimation(i.animation.FADE),r={animation:a,attachTo:angular.element(document.body),controller:t,templateUrl:"template/resident/familyArchives/selectFamilyMember.html",position:n,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};i.open(r)},_.deleteFamilyMember=function(e){_.memberList.splice(e,1),c()},_.saveFamily=function(i){function n(e){var t=0,i=0;return angular.forEach(e,function(e){void 0!==e&&null!==e&&(e instanceof Array?e.length>0&&i++:i++),t++}),0===t?1:i/t}if(e.check(i)){if("-1"===_.addressStreet||void 0===_.houseAddress||null===_.houseAddress||""===_.houseAddress)return e.scrollTo("addressArea"),void e.alertDialog("请填写住宅详细地址");var o=l(_.familyAttributeSelected),r=l(_.domesticApplianceTypeSelected),s=l(_.vehicleTypeSelected),c=l(_.refuseDisposalWaySelected),E=l(_.sewageDisposalWaySelected),d=l(_.recreationalSportsEquipmentTypeSelected),I={FAMILY_CODE:"",LIVING_TYPE_CODE:_.livingType.DICT_VALUE_CODE,LIVING_TYPE_NAME:_.livingType.DICT_VALUE_NAME,RESIDENT_TYPE_CODE:_.residentType.DICT_VALUE_CODE,RESIDENT_TYPE_NAME:_.residentType.DICT_VALUE_NAME,FAMILY_NUMBER:_.familyNumber,RESIDENT_KEY_ID:_.residentKeyId,HOUSEHOLDER_NAME:_.householderName,HOUSEHOLDER_ID_NO:_.householderIdNo,HOUSEHOLDER_PHONE_NO:_.householderPhoneNo,FIXED_PHONE_NO:_.fixedPhoneNo,POSTCODE:_.postcode,PROVINCE_CODE:_.addressProvince.PROVINCE_CODE,PROVINCE_NAME:_.addressProvince.PROVINCE_NAME,CITY_CODE:_.addressCity.CITY_CODE,CITY_NAME:_.addressCity.CITY_NAME,COUNTY_DISTRICT_CODE:_.addressCounty.COUNTY_DISTRICT_CODE,COUNTY_DISTRICT_NAME:_.addressCounty.COUNTY_DISTRICT_NAME,STREET_TOWNSHIP_CODE:_.addressStreet.STREET_TOWNSHIP_CODE,STREET_TOWNSHIP_NAME:_.addressStreet.STREET_TOWNSHIP_NAME,HOUSE_ADDRESS:_.houseAddress,FAMILY_ATTRIBUTE_CODE:o.DICT_VALUE_CODE,FAMILY_ATTRIBUTE_NAME:o.DICT_VALUE_NAME,HOUSING_AREA:_.housingArea,PER_CAPITA_LIVING_AREA:_.perCapitaLivingArea,HOUSE_TYPE_CODE:_.houseType.DICT_VALUE_CODE,HOUSE_TYPE_NAME:_.houseType.DICT_VALUE_NAME,NUMBER_OF_ROOMS:_.numberOfRooms,COOKROOM_TYPE_CODE:_.cookroomType.DICT_VALUE_CODE,COOKROOM_TYPE_NAME:_.cookroomType.DICT_VALUE_NAME,KITCHEN_VENTILATION_SYSTEM_CODE:_.kitchenVentilationSystem.DICT_VALUE_CODE,KITCHEN_VENTILATION_SYSTEM_NAME:_.kitchenVentilationSystem.DICT_VALUE_NAME,FUEL_TYPE_CODE:_.fuelType.DICT_VALUE_CODE,FUEL_TYPE_NAME:_.fuelType.DICT_VALUE_NAME,WATER_SOURCE_CODE:_.waterSource.DICT_VALUE_CODE,WATER_SOURCE_NAME:_.waterSource.DICT_VALUE_NAME,TOILET_TYPE_CODE:_.toiletType.DICT_VALUE_CODE,TOILET_TYPE_NAME:_.toiletType.DICT_VALUE_NAME,PINFOLD_POSITION_CODE:_.pinfoldPosition.DICT_VALUE_CODE,PINFOLD_POSITION_NAME:_.pinfoldPosition.DICT_VALUE_NAME,DOMESTIC_APPLIANCE_TYPE_CODE:r.DICT_VALUE_CODE,DOMESTIC_APPLIANCE_TYPE_NAME:r.DICT_VALUE_NAME,VEHICLE_TYPE_CODE:s.DICT_VALUE_CODE,VEHICLE_TYPE_NAME:s.DICT_VALUE_NAME,ECONOMIC_CONDITIONS_TYPE_CODE:_.economicConditionsType.DICT_VALUE_CODE,ECONOMIC_CONDITIONS_TYPE_NAME:_.economicConditionsType.DICT_VALUE_NAME,PER_CAPITA_ANNUAL_INCOME_CODE:_.perCapitaAnnualIncome.DICT_VALUE_CODE,PER_CAPITA_ANNUAL_INCOME_NAME:_.perCapitaAnnualIncome.DICT_VALUE_NAME,TOTAL_FAMILY_INCOME:_.totalFamilyIncome,TOTAL_FAMILY_EXPENDITURE:_.totalFamilyExpenditure,REFUSE_DISPOSAL_WAY_CODE:c.DICT_VALUE_CODE,REFUSE_DISPOSAL_WAY_NAME:c.DICT_VALUE_NAME,SEWAGE_DISPOSAL_WAY_CODE:E.DICT_VALUE_CODE,SEWAGE_DISPOSAL_WAY_NAME:E.DICT_VALUE_NAME,RECREATIONAL_SPORTS_EQUIPMENT_TYPE_CODE:d.DICT_VALUE_CODE,RECREATIONAL_SPORTS_EQUIPMENT_TYPE_NAME:d.DICT_VALUE_NAME,RESPONSIBLE_DOCTOR_ID:_.responsibleDoctorId,RESPONSIBLE_DOCTOR_NAME:_.responsibleDoctorName,DEGREE_OF_ARCHIVES_INTEGRALITY:_.degreeOfArchivesIntegrality,MEMBER_LIST:_.memberList,REMARK:_.remark,BEGIN_TIME:_.beginTime,END_TIME:_.endTime};I.degreeOfArchivesIntegrality=n(I),a.addFamily(I,function(i){e.handleMessage(i,function(){_.responsibleDoctorId?t.go("main.resident.familyArchivesListReturn",{TYPE:0}):t.go("main.resident.familyArchivesListReturn",{TYPE:1})},function(){e.alertDialog("创建家庭档案失败")})},function(){e.alertDialog("创建家庭档案失败")})}},_.serachHouseholderName=function(t){if(e.isEmptyObject(t.householderIdNo.$error)){var i=_.householderIdNo,n={RESIDENT_ID_NO:_.householderIdNo};a.searchResident(n,function(t){e.handleMessage(t,function(t){e.selectItem(_.memberList,"RESIDENT_KEY_ID",t.RESIDENT_KEY_ID)?(e.alertDialog("更改的户主已在家庭成员中，更改无效"),_.householderIdNo=i):(_.householderName=t.RESIDENT_NAME,_.householderPhoneNo=t.RESIDENT_PHONE_NO,_.residentKeyId=t.RESIDENT_KEY_ID)},function(){e.alertDialog("户主不存在或已属于其他家庭")})},function(){e.alertDialog("根据身份证号查询户主失败")})}},_.cancel=function(i){i.$dirty?e.confirmDialog("您确定要放弃保存吗?",function(){t.go("main.resident.familyArchivesList")},function(){}):t.go("main.resident.familyArchivesList")},_.exists=function(e,t){return t.indexOf(e)>-1},_.toggle=function(e,t){var i=t.indexOf(e);i>-1?t.splice(i,1):t.push(e)},_.addressProvince="-1",_.addressCity="-1",_.addressCounty="-1",_.addressStreet="-1",_.changeAddress=function(e){switch(e){case 1:_.addressCity="-1",_.addressCounty="-1",_.addressStreet="-1";break;case 2:_.addressCounty="-1",_.addressStreet="-1";break;case 3:_.addressStreet="-1"}},_.initProvinceList=function(t){t||e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(e){_.addressProvinceArr=e},function(){_.addressProvinceArr=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})},_.initCityListOfCertainProvince=function(){if("-1"===_.addressProvince)return void(_.addressCityArr=[]);if(!d||d!==_.addressProvince.PROVINCE_CODE){var t={PROVINCE_CODE:_.addressProvince.PROVINCE_CODE};d=_.addressProvince.PROVINCE_CODE,e.commonService("getCityListOfCertainProvince",t,function(t){e.handleMessage(t,function(e){_.addressCityArr=e},function(){_.addressCityArr=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})}},_.initCountyListOfCertainCity=function(){if("-1"===_.addressCity)return void(_.addressCountyArr=[]);if(!I||I!==_.addressCity.CITY_CODE){var t={CITY_CODE:_.addressCity.CITY_CODE};I=_.addressCity.CITY_CODE,e.commonService("getCountyListOfCertainCity",t,function(t){e.handleMessage(t,function(e){_.addressCountyArr=e},function(){_.addressCountyArr=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")})}},_.initSubdistrictListOfCertainCounty=function(){if("-1"===_.addressCounty)return void(_.addressStreetArr=[]);if(!D||D!==_.addressCounty.COUNTY_DISTRICT_CODE){var t={COUNTY_DISTRICT_CODE:_.addressCounty.COUNTY_DISTRICT_CODE};D=_.addressCounty.COUNTY_DISTRICT_CODE,e.commonService("getSubdistrictListOfCertainCounty",t,function(t){e.handleMessage(t,function(e){_.addressStreetArr=e},function(){_.addressStreetArr=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})}},_}function familyArchivesEditCtrl(e,t,i,n,o,a){function r(){T.familyAttributeSelected=[],T.domesticApplianceTypeSelected=[],T.vehicleTypeSelected=[],T.refuseDisposalWaySelected=[],T.sewageDisposalWaySelected=[],T.recreationalSportsEquipmentTypeSelected=[],T.memberList=[],T.addressProvince={},T.addressCity={},T.addressCounty={},T.addressStreet={},T.familyAttribute={},T.houseType={},T.cookroomType={},T.kitchenVentilationSystem={},T.fuelType={},T.waterSource={},T.toiletType={},T.pinfoldPosition={},T.domesticApplianceType={},T.vehicleType={},T.economicConditionsType={},T.perCapitaAnnualIncome={},T.refuseDisposalWay={},T.sewageDisposalWay={},T.recreationalSportsEquipmentType={}}function s(){e.commonService("getDictList",{DICT_TYPE_CODE_LIST:O},function(t){e.handleMessage(t,function(e){D(e),l()},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")})}function l(){a.searchFamilyDetail({FAMILY_KEY_ID:t.params.FAMILY_KEY_ID},function(t){e.handleMessage(t,function(e){u=0===e.IS_SIGNED?1:0,E(e),g=angular.copy(e)},function(){e.alertDialog("查询家庭信息失败")})},function(){e.alertDialog("查询家庭信息失败")})}function c(e){return void 0===e||null===e||""===e?{DICT_VALUE_CODE:"",DICT_VALUE_NAME:""}:e}function E(t){T.livingType=c(e.selectItem(T.livingTypeList,"DICT_VALUE_CODE",t.LIVING_TYPE_CODE)),T.residentType=c(e.selectItem(T.residentTypeList,"DICT_VALUE_CODE",t.RESIDENT_TYPE_CODE)),T.familyNumber=t.FAMILY_NUMBER,T.residentKeyId=t.RESIDENT_KEY_ID,T.householderName=t.HOUSEHOLDER_NAME,T.householderIdNo=t.HOUSEHOLDER_ID_NO,T.householderPhoneNo=t.HOUSEHOLDER_PHONE_NO,T.fixedPhoneNo=t.FIXED_PHONE_NO,T.postcode=t.POSTCODE,T.initProvinceValue("addressProvinceArr","addressProvince",t.PROVINCE_CODE),T.initCityValue(t.PROVINCE_CODE,"addressCityArr","addressCity",t.CITY_CODE),T.initCountyValue(t.CITY_CODE,"addressCountyArr","addressCounty",t.COUNTY_DISTRICT_CODE),T.initStreetValue(t.COUNTY_DISTRICT_CODE,"addressStreetArr","addressStreet",t.STREET_TOWNSHIP_CODE),T.houseAddress=t.HOUSE_ADDRESS,_(T.familyAttributeSelected,T.familyAttributeList,t.FAMILY_ATTRIBUTE_CODE),T.housingArea=t.HOUSING_AREA,T.perCapitaLivingArea=t.PER_CAPITA_LIVING_AREA,T.houseType=c(e.selectItem(T.houseTypeList,"DICT_VALUE_CODE",t.HOUSE_TYPE_CODE)),T.numberOfRooms=t.NUMBER_OF_ROOMS,T.cookroomType=c(e.selectItem(T.cookroomTypeList,"DICT_VALUE_CODE",t.COOKROOM_TYPE_CODE)),T.kitchenVentilationSystem=c(e.selectItem(T.kitchenVentilationSystemList,"DICT_VALUE_CODE",t.KITCHEN_VENTILATION_SYSTEM_CODE)),T.fuelType=c(e.selectItem(T.fuelTypeList,"DICT_VALUE_CODE",t.FUEL_TYPE_CODE)),T.waterSource=c(e.selectItem(T.waterSourceList,"DICT_VALUE_CODE",t.WATER_SOURCE_CODE)),T.toiletType=c(e.selectItem(T.toiletTypeList,"DICT_VALUE_CODE",t.TOILET_TYPE_CODE)),T.pinfoldPosition=c(e.selectItem(T.pinfoldPositionList,"DICT_VALUE_CODE",t.PINFOLD_POSITION_CODE)),_(T.domesticApplianceTypeSelected,T.domesticApplianceTypeList,t.DOMESTIC_APPLIANCE_TYPE_CODE),_(T.vehicleTypeSelected,T.vehicleTypeList,t.VEHICLE_TYPE_CODE),T.economicConditionsType=c(e.selectItem(T.economicConditionsTypeList,"DICT_VALUE_CODE",t.ECONOMIC_CONDITIONS_TYPE_CODE)),T.perCapitaAnnualIncome=c(e.selectItem(T.perCapitaAnnualIncomeList,"DICT_VALUE_CODE",t.PER_CAPITA_ANNUAL_INCOME_CODE)),T.totalFamilyIncome=t.TOTAL_FAMILY_INCOME,T.totalFamilyExpenditure=t.TOTAL_FAMILY_EXPENDITURE,_(T.refuseDisposalWaySelected,T.refuseDisposalWayList,t.REFUSE_DISPOSAL_WAY_CODE),_(T.sewageDisposalWaySelected,T.sewageDisposalWayList,t.SEWAGE_DISPOSAL_WAY_CODE),_(T.recreationalSportsEquipmentTypeSelected,T.recreationalSportsEquipmentTypeList,t.RECREATIONAL_SPORTS_EQUIPMENT_TYPE_CODE),T.responsibleDoctorId=t.RESPONSIBLE_DOCTOR_ID,T.responsibleDoctorName=t.RESPONSIBLE_DOCTOR_NAME,T.degreeOfArchivesIntegrality=t.DEGREE_OF_ARCHIVES_INTEGRALITY,T.memberList=t.MEMBER_LIST,T.remark=t.REMARK,T.createTime=t.CREATE_TIME,T.beginTime=t.BEGIN_TIME,T.endTime=t.END_TIME,void 0!==T.createTime&&""!==T.createTime&&null!==T.createTime&&(T.createTimeFormat=new Date(T.createTime)),void 0!==T.beginTime&&""!==T.beginTime&&null!==T.beginTime&&(T.beginTimeFormat=new Date(T.beginTime)),void 0!==T.endTime&&""!==T.endTime&&null!==T.endTime&&(T.endTimeFormat=new Date(T.endTime))}function _(t,i,n){if(void 0!==n&&null!==n&&""!==n){var o=n.split(",");angular.forEach(o,function(n){t.push(e.selectItem(i,"DICT_VALUE_CODE",n))})}}function d(e){var t=[],i=[];return angular.forEach(e,function(e){e.DICT_VALUE_CODE&&t.push(e.DICT_VALUE_CODE),e.DICT_VALUE_NAME&&i.push(e.DICT_VALUE_NAME)}),{DICT_VALUE_CODE:t.join(","),DICT_VALUE_NAME:i.join(",")}}function I(){T.familyNumber=T.memberList.length+1}function D(t){angular.forEach(O,function(i){T[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}var T=this,u=0;T.edit=!0,T.editable=!1,T.isResident=e.isContains(t.current.name,"residentArchivesSidebar");var O=[{DICT_TYPE_CODE:"0007001",LIST_NAME:"livingTypeList"},{DICT_TYPE_CODE:"0007002",LIST_NAME:"residentTypeList"},{DICT_TYPE_CODE:"0007003",LIST_NAME:"familyAttributeList"},{DICT_TYPE_CODE:"0007004",LIST_NAME:"houseTypeList"},{DICT_TYPE_CODE:"0007005",LIST_NAME:"cookroomTypeList"},{DICT_TYPE_CODE:"0007006",LIST_NAME:"kitchenVentilationSystemList"},{DICT_TYPE_CODE:"0007007",LIST_NAME:"fuelTypeList"},{DICT_TYPE_CODE:"0007008",LIST_NAME:"waterSourceList"},{DICT_TYPE_CODE:"0007009",LIST_NAME:"toiletTypeList"},{DICT_TYPE_CODE:"0007010",LIST_NAME:"pinfoldPositionList"},{DICT_TYPE_CODE:"0007011",LIST_NAME:"domesticApplianceTypeList"},{DICT_TYPE_CODE:"0007012",LIST_NAME:"vehicleTypeList"},{DICT_TYPE_CODE:"0007013",LIST_NAME:"economicConditionsTypeList"},{DICT_TYPE_CODE:"0007014",LIST_NAME:"perCapitaAnnualIncomeList"},{DICT_TYPE_CODE:"0007015",LIST_NAME:"refuseDisposalWayList"},{DICT_TYPE_CODE:"0007016",LIST_NAME:"sewageDisposalWayList"},{DICT_TYPE_CODE:"0007017",LIST_NAME:"recreationalSportsEquipmentTypeList"},{DICT_TYPE_CODE:"0014",LIST_NAME:"householderRelationshipList"}],g={};return r(),s(),T.addDoctor=function(){function e(e,t,i,n,o){function a(i){t.searched=!0,o.getselectedDoctorList(t,{},{total:1,rows:[i]}),t.row=i,e.getCurrentDateTime(function(e){if(void 0===T.beginTimeFormat){T.beginTimeFormat=e,T.beginTime=n("commonDate")(T.beginTimeFormat);var i=new Date(new Date(T.beginTimeFormat).getTime());i.setFullYear(i.getFullYear()+1),i.setDate(i.getDate()-1),T.endTimeFormat=i,T.endTime=n("commonDate")(T.endTimeFormat)}void 0===t.beginTime&&(t.beginTime=n("commonDate")(T.beginTimeFormat,"yyyy年MM月dd日"),t.endTime=n("commonDate")(T.endTimeFormat,"yyyy年MM月dd日"),t.$apply())}),t.$apply()}t.searched=!1,t.hide=function(){i.close()},t.cancel=function(){i.close()},t.back=function(){t.searched=!1},t.addDoctor=function(){T.responsibleDoctorId=t.row.FAMILY_DOCTOR_KEY_ID,T.responsibleDoctorName=t.row.DOCTOR_NAME,T.hospitalName=t.row.HOSPITAL_NAME,T.doctorTitleName=t.row.DOCTOR_TITLE_NAME,T.DOCTOR_CHANGED=!0,i.close()},t.search=function(){t.getDoctorList()},t.getDoctorList=function(){var e={SEARCH_DOCTOR:t.searchValue};o.getDoctorList(t,e,a)},t.$on("panelClose",function(){i.close()})}SMS.CONTROLLERS.controller("selectDoctorController",e),e.$inject=["$rootScope","$scope","mdPanelRef","$filter","familyArchivesService"];var t=i.newPanelPosition().absolute().center(),n=i.newPanelAnimation().withAnimation(i.animation.FADE),o={animation:n,attachTo:angular.element(document.body),
controller:e,templateUrl:"template/resident/familyArchives/selectDoctor.html",position:t,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};i.open(o)},T.addFamilyMember=function(){function t(e,t,i,n){function a(i){return void 0!==i.FAMILY_KEY_ID&&null!==i.FAMILY_KEY_ID&&""!==i.FAMILY_KEY_ID?void e.alertDialog("不能添加该居民，因为该居民已组建过家庭"):i.RESIDENT_KEY_ID===T.residentKeyId?void e.alertDialog("不能选择户主作为家庭成员"):(t.searched=!0,n.getselectedFamilyMemberList(t,{},{total:1,rows:[i]}),t.row=i,t.relationship=void 0,void t.$apply())}t.searched=!1,t.add=!0,t.householderRelationshipList=T.householderRelationshipList,t.hide=function(){i.close()},t.cancel=function(){i.close()},t.back=function(e){e.$setPristine(),e.$setUntouched(),t.searched=!1},t.addFamilyMember=function(){if(-1!==e.selectIndex(T.memberList,"RESIDENT_KEY_ID",t.row.RESIDENT_KEY_ID))return void e.alertDialog("已经添加过该成员，不能重复添加");var n=null===t.relationship?"":t.relationship.DICT_VALUE_CODE,o=null===t.relationship?t.relationshipSearchText:t.relationship.DICT_VALUE_NAME;t.row.HOUSEHOLDER_RELATIONSHIP_CODE=n,t.row.HOUSEHOLDER_RELATIONSHIP_NAME=o,t.row.HOUSEHOLDER_SYMBOL="0",T.memberList.push(t.row),T.MEMBER_CHANGED=!0,I(),i.close()},t.searchTextChange=function(){var e=o.defer(),i=t.householderRelationshipList;return e.resolve(i),e.promise},t.search=function(){t.getFamilyMemberList()},t.getFamilyMemberList=function(){var e={SEARCH_RESIDENT:t.searchValue,RESIDENT_KEY_ID:T.residentKeyId};n.getFamilyMemberList(t,e,a)},t.$on("panelClose",function(){i.close()})}if(!T.residentKeyId)return void e.alertDialog("请先添加户主信息,如:身份证");if(99===T.familyNumber)return void e.alertDialog("家庭人数超过限制，无法添加家庭成员");SMS.CONTROLLERS.controller("selectFamilyMemberController",t),t.$inject=["$rootScope","$scope","mdPanelRef","familyArchivesService"];var n=i.newPanelPosition().absolute().center(),a=i.newPanelAnimation().withAnimation(i.animation.FADE),r={animation:a,attachTo:angular.element(document.body),controller:t,templateUrl:"template/resident/familyArchives/selectFamilyMember.html",position:n,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};i.open(r)},T.viewFamilyMember=function(i){e.isShow("1003001002")&&t.go("main.resident.residentArchivesSidebar.detail.residentArchivesEdit",{RESIDENT_KEY_ID:i.RESIDENT_KEY_ID})},T.editFamilyMember=function(e){function t(t,i,n,a){i.searched=!0,i.edit=!0,i.householderRelationshipList=T.householderRelationshipList,e.FAMILY_KEY_ID="-1",i.row=e,i.relationship=t.selectItem(i.householderRelationshipList,"DICT_VALUE_CODE",i.row.HOUSEHOLDER_RELATIONSHIP_CODE),void 0===i.relationship&&(i.relationship={DICT_VALUE_CODE:"",DICT_VALUE_NAME:i.row.HOUSEHOLDER_RELATIONSHIP_NAME}),a.getselectedFamilyMemberList(i,{},{total:1,rows:[i.row]}),i.hide=function(){n.close()},i.cancel=function(){n.close()},i.back=function(e){e.$setPristine(),e.$setUntouched(),i.searched=!1},i.addFamilyMember=function(){var e=null===i.relationship?"":i.relationship.DICT_VALUE_CODE,t=null===i.relationship?i.relationshipSearchText:i.relationship.DICT_VALUE_NAME;i.row.HOUSEHOLDER_RELATIONSHIP_CODE=e,i.row.HOUSEHOLDER_RELATIONSHIP_NAME=t,i.row.HOUSEHOLDER_SYMBOL="0",T.MEMBER_CHANGED=!0,n.close()},i.searchTextChange=function(){var e=o.defer(),t=i.householderRelationshipList;return e.resolve(t),e.promise},i.search=function(){i.getFamilyMemberList()},i.getFamilyMemberList=function(){var e={SEARCH_RESIDENT:i.searchValue};a.getFamilyMemberList(i,e,callback)},i.$on("panelClose",function(){n.close()})}SMS.CONTROLLERS.controller("editFamilyMemberController",t),t.$inject=["$rootScope","$scope","mdPanelRef","familyArchivesService"];var n=i.newPanelPosition().absolute().center(),a=i.newPanelAnimation().withAnimation(i.animation.FADE),r={animation:a,attachTo:angular.element(document.body),controller:t,templateUrl:"template/resident/familyArchives/selectFamilyMember.html",position:n,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};i.open(r)},T.deleteFamilyMember=function(e){T.memberList.splice(e,1),T.MEMBER_CHANGED=!0,I()},T.saveFamily=function(i){function n(e){var t=0,i=0;return angular.forEach(e,function(e){void 0!==e&&null!==e&&(e instanceof Array?e.length>0&&i++:i++),t++}),0===t?1:i/t}if(e.check(i)){if("-1"===T.addressStreet||void 0===T.houseAddress||null===T.houseAddress||""===T.houseAddress)return e.scrollTo("addressArea"),void e.alertDialog("请填写住宅详细地址");var o=d(T.familyAttributeSelected),r=d(T.domesticApplianceTypeSelected),s=d(T.vehicleTypeSelected),l=d(T.refuseDisposalWaySelected),c=d(T.sewageDisposalWaySelected),E=d(T.recreationalSportsEquipmentTypeSelected),_={FAMILY_KEY_ID:t.params.FAMILY_KEY_ID,FAMILY_CODE:"",LIVING_TYPE_CODE:T.livingType.DICT_VALUE_CODE,LIVING_TYPE_NAME:T.livingType.DICT_VALUE_NAME,RESIDENT_TYPE_CODE:T.residentType.DICT_VALUE_CODE,RESIDENT_TYPE_NAME:T.residentType.DICT_VALUE_NAME,FAMILY_NUMBER:T.familyNumber,RESIDENT_KEY_ID:T.residentKeyId,HOUSEHOLDER_NAME:T.householderName,HOUSEHOLDER_ID_NO:T.householderIdNo,HOUSEHOLDER_PHONE_NO:T.householderPhoneNo,FIXED_PHONE_NO:T.fixedPhoneNo,POSTCODE:T.postcode,PROVINCE_CODE:T.addressProvince.PROVINCE_CODE,PROVINCE_NAME:T.addressProvince.PROVINCE_NAME,CITY_CODE:T.addressCity.CITY_CODE,CITY_NAME:T.addressCity.CITY_NAME,COUNTY_DISTRICT_CODE:T.addressCounty.COUNTY_DISTRICT_CODE,COUNTY_DISTRICT_NAME:T.addressCounty.COUNTY_DISTRICT_NAME,STREET_TOWNSHIP_CODE:T.addressStreet.STREET_TOWNSHIP_CODE,STREET_TOWNSHIP_NAME:T.addressStreet.STREET_TOWNSHIP_NAME,HOUSE_ADDRESS:T.houseAddress,FAMILY_ATTRIBUTE_CODE:o.DICT_VALUE_CODE,FAMILY_ATTRIBUTE_NAME:o.DICT_VALUE_NAME,HOUSING_AREA:T.housingArea,PER_CAPITA_LIVING_AREA:T.perCapitaLivingArea,HOUSE_TYPE_CODE:T.houseType.DICT_VALUE_CODE,HOUSE_TYPE_NAME:T.houseType.DICT_VALUE_NAME,NUMBER_OF_ROOMS:T.numberOfRooms,COOKROOM_TYPE_CODE:T.cookroomType.DICT_VALUE_CODE,COOKROOM_TYPE_NAME:T.cookroomType.DICT_VALUE_NAME,KITCHEN_VENTILATION_SYSTEM_CODE:T.kitchenVentilationSystem.DICT_VALUE_CODE,KITCHEN_VENTILATION_SYSTEM_NAME:T.kitchenVentilationSystem.DICT_VALUE_NAME,FUEL_TYPE_CODE:T.fuelType.DICT_VALUE_CODE,FUEL_TYPE_NAME:T.fuelType.DICT_VALUE_NAME,WATER_SOURCE_CODE:T.waterSource.DICT_VALUE_CODE,WATER_SOURCE_NAME:T.waterSource.DICT_VALUE_NAME,TOILET_TYPE_CODE:T.toiletType.DICT_VALUE_CODE,TOILET_TYPE_NAME:T.toiletType.DICT_VALUE_NAME,PINFOLD_POSITION_CODE:T.pinfoldPosition.DICT_VALUE_CODE,PINFOLD_POSITION_NAME:T.pinfoldPosition.DICT_VALUE_NAME,DOMESTIC_APPLIANCE_TYPE_CODE:r.DICT_VALUE_CODE,DOMESTIC_APPLIANCE_TYPE_NAME:r.DICT_VALUE_NAME,VEHICLE_TYPE_CODE:s.DICT_VALUE_CODE,VEHICLE_TYPE_NAME:s.DICT_VALUE_NAME,ECONOMIC_CONDITIONS_TYPE_CODE:T.economicConditionsType.DICT_VALUE_CODE,ECONOMIC_CONDITIONS_TYPE_NAME:T.economicConditionsType.DICT_VALUE_NAME,PER_CAPITA_ANNUAL_INCOME_CODE:T.perCapitaAnnualIncome.DICT_VALUE_CODE,PER_CAPITA_ANNUAL_INCOME_NAME:T.perCapitaAnnualIncome.DICT_VALUE_NAME,TOTAL_FAMILY_INCOME:T.totalFamilyIncome,TOTAL_FAMILY_EXPENDITURE:T.totalFamilyExpenditure,REFUSE_DISPOSAL_WAY_CODE:l.DICT_VALUE_CODE,REFUSE_DISPOSAL_WAY_NAME:l.DICT_VALUE_NAME,SEWAGE_DISPOSAL_WAY_CODE:c.DICT_VALUE_CODE,SEWAGE_DISPOSAL_WAY_NAME:c.DICT_VALUE_NAME,RECREATIONAL_SPORTS_EQUIPMENT_TYPE_CODE:E.DICT_VALUE_CODE,RECREATIONAL_SPORTS_EQUIPMENT_TYPE_NAME:E.DICT_VALUE_NAME,RESPONSIBLE_DOCTOR_ID:T.responsibleDoctorId,RESPONSIBLE_DOCTOR_NAME:T.responsibleDoctorName,DEGREE_OF_ARCHIVES_INTEGRALITY:T.degreeOfArchivesIntegrality,MEMBER_LIST:T.memberList,REMARK:T.remark,BEGIN_TIME:T.beginTime,END_TIME:T.endTime};_.degreeOfArchivesIntegrality=n(_),T.DOCTOR_CHANGED&&(_.DOCTOR_CHANGED=T.DOCTOR_CHANGED),T.MEMBER_CHANGED&&(_.MEMBER_CHANGED=T.MEMBER_CHANGED),a.editFamily(_,function(t){e.handleMessage(t,function(){T.editable=!1,g=_},function(){e.alertDialog("更新家庭档案失败")})},function(){e.alertDialog("更新家庭档案失败")})}},T.serachHouseholderName=function(t){if(e.isEmptyObject(t.householderIdNo.$error)&&T.householderIdNo!==g.HOUSEHOLDER_ID_NO){var i={RESIDENT_ID_NO:T.householderIdNo};a.searchResident(i,function(t){e.handleMessage(t,function(t){e.selectItem(T.memberList,"RESIDENT_KEY_ID",t.RESIDENT_KEY_ID)?(e.alertDialog("更改的户主已在家庭成员中，更改无效"),T.householderIdNo=g.HOUSEHOLDER_ID_NO):(T.householderName=t.RESIDENT_NAME,T.householderPhoneNo=t.RESIDENT_PHONE_NO,T.residentKeyId=t.RESIDENT_KEY_ID)},function(){e.alertDialog("户主不存在或已属于其他家庭")})},function(){e.alertDialog("根据身份证号查询户主失败")})}},T.edit=function(e){e.$setPristine(),e.$setUntouched(),T.editable=!0},T.cancel=function(t){function i(){var e=angular.copy(g);r(),E(e)}t.$dirty?e.confirmDialog("您确定要放弃保存吗?",function(){i(),T.editable=!1},function(){}):T.editable=!1},T.goBack=function(){T.isResident?e.back():t.go("main.resident.familyArchivesListReturn",{TYPE:u})},T.exists=function(e,t){return t.indexOf(e)>-1},T.toggle=function(e,t){var i=t.indexOf(e);i>-1?t.splice(i,1):t.push(e)},T.addressProvince="-1",T.addressCity="-1",T.addressCounty="-1",T.addressStreet="-1",T.changeAddress=function(e){switch(e){case 1:T.addressCity="-1",T.addressCounty="-1",T.addressStreet="-1";break;case 2:T.addressCounty="-1",T.addressStreet="-1";break;case 3:T.addressStreet="-1"}},T.initProvinceList=function(t,i,n){var o=T[n].PROVINCE_CODE;t||e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(t){T[i]=t,T[n]=e.selectItem(T[i],"PROVINCE_CODE",o)},function(){T[i]=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})},T.initProvinceValue=function(t,i,n){e.commonService("getProvinceList","",function(o){e.handleMessage(o,function(o){T[t]=o,T[i]=e.selectItem(T[t],"PROVINCE_CODE",n)},function(){T[t]=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})},T.initCityListOfCertainProvince=function(t,i,n){if("-1"===T[t])return void(T[i]=[]);var o={PROVINCE_CODE:T[t].PROVINCE_CODE},a=T[n].CITY_CODE;e.commonService("getCityListOfCertainProvince",o,function(t){e.handleMessage(t,function(t){T[i]=t,T[n]=e.selectItem(T[i],"CITY_CODE",a)},function(){T[i]=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})},T.initCityValue=function(t,i,n,o){var a={PROVINCE_CODE:t};e.commonService("getCityListOfCertainProvince",a,function(t){e.handleMessage(t,function(t){T[i]=t,T[n]=e.selectItem(T[i],"CITY_CODE",o)},function(){T[i]=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})},T.initCountyListOfCertainCity=function(t,i,n){if("-1"===T[t])return void(T[i]=[]);var o={CITY_CODE:T[t].CITY_CODE},a=T[n].COUNTY_DISTRICT_CODE;e.commonService("getCountyListOfCertainCity",o,function(t){e.handleMessage(t,function(t){T[i]=t,T[n]=e.selectItem(T[i],"COUNTY_DISTRICT_CODE",a)},function(){T[i]=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")})},T.initCountyValue=function(t,i,n,o){var a={CITY_CODE:t};e.commonService("getCountyListOfCertainCity",a,function(t){e.handleMessage(t,function(t){T[i]=t,T[n]=e.selectItem(T[i],"COUNTY_DISTRICT_CODE",o)},function(){T[i]=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")})},T.initSubdistrictListOfCertainCounty=function(t,i,n){if("-1"===T[t])return void(T[i]=[]);var o={COUNTY_DISTRICT_CODE:T[t].COUNTY_DISTRICT_CODE},a=T[n].STREET_TOWNSHIP_NAME;e.commonService("getSubdistrictListOfCertainCounty",o,function(t){e.handleMessage(t,function(t){T[i]=t,T[n]=e.selectItem(T[i],"STREET_TOWNSHIP_NAME",a)},function(){T[i]=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})},T.initStreetValue=function(t,i,n,o){var a={COUNTY_DISTRICT_CODE:t};e.commonService("getSubdistrictListOfCertainCounty",a,function(t){e.handleMessage(t,function(t){T[i]=t,T[n]=e.selectItem(T[i],"STREET_TOWNSHIP_CODE",o)},function(){T[i]=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})},T}function familyArchivesListCtrl(e,t,i,n){var o=this;o.isDownloading=!1;var a={},r={};o.selectedIndex=t.params.TYPE?t.params.TYPE:0;var s=null,l=null,c=null;return o.searchTerm,o.selectedDoctor={},o.doctor=[],o.getDoctorList=function(){i.getSignedDoctorList({DOCTOR_NAME:o.searchTerm},function(t){e.handleMessage(t,function(e){o.doctor=e},function(){e.alertDialog("获取医生列表失败")})},function(){e.alertDialog("获取医生列表失败")})},o.clearSearchTerm=function(){if(o.searchTerm="",void 0!==o.selectedDoctor){var t=e.selectItem(o.doctor,"FAMILY_DOCTOR_KEY_ID",o.selectedDoctor.FAMILY_DOCTOR_KEY_ID);void 0!==t?o.selectedDoctor=t:(o.doctor=[],o.doctor.push(t),o.selectedDoctor=o.doctor[0])}},o.getSearchTerm=function(){o.searchTerm=o.selectedDoctor?o.selectedDoctor.DOCTOR_NAME:void 0,o.searchTermChange()},angular.element('input[name="doctor"]').on("keydown",function(e){e.stopPropagation()}),o.searchTermChange=function(){""!==o.searchTerm&&void 0!==o.searchTerm&&o.getDoctorList()},o.tabledataHtml=function(e){1===e?(a={HOUSEHOLDER_NAME:o.householderName?o.householderName:null,HOUSEHOLDER_PHONE_NO:o.householderPhoneNo?o.householderPhoneNo:null,PROVINCE_CODE:o.familyAddressProvince&&"-1"!==o.familyAddressProvince?o.familyAddressProvince.PROVINCE_CODE:null,CITY_CODE:o.familyAddressCity&&"-1"!==o.familyAddressCity?o.familyAddressCity.CITY_CODE:null,COUNTY_DISTRICT_CODE:o.familyAddressCounty&&"-1"!==o.familyAddressCounty?o.familyAddressCounty.COUNTY_DISTRICT_CODE:null,STREET_TOWNSHIP_CODE:o.familyAddressStreet&&"-1"!==o.familyAddressStreet?o.familyAddressStreet.STREET_TOWNSHIP_CODE:null},i.getFamilyArchiveList(o,a)):(r={FAMILY_DOCTOR_KEY_ID:o.selectedDoctor?o.selectedDoctor.FAMILY_DOCTOR_KEY_ID:null,HOUSEHOLDER_NAME:o.householderName?o.householderName:null,HOUSEHOLDER_PHONE_NO:o.householderPhoneNo?o.householderPhoneNo:null,PROVINCE_CODE:o.familyAddressProvince&&"-1"!==o.familyAddressProvince?o.familyAddressProvince.PROVINCE_CODE:null,CITY_CODE:o.familyAddressCity&&"-1"!==o.familyAddressCity?o.familyAddressCity.CITY_CODE:null,COUNTY_DISTRICT_CODE:o.familyAddressCounty&&"-1"!==o.familyAddressCounty?o.familyAddressCounty.COUNTY_DISTRICT_CODE:null,STREET_TOWNSHIP_CODE:o.familyAddressStreet&&"-1"!==o.familyAddressStreet?o.familyAddressStreet.STREET_TOWNSHIP_CODE:null},i.getSignedFamilyArchiveList(o,r))},o.tabledataHtml(0),o.tabledataHtml(1),o.initProvinceList=function(t){t||e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(e){o.familyAddressProvinces=e},function(){o.familyAddressProvinces=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})},o.initCityListOfCertainProvince=function(){if("-1"===o.familyAddressProvince)return void(o.familyAddressCitys=[]);if(!s||s!==o.familyAddressProvince.PROVINCE_CODE){var t={PROVINCE_CODE:o.familyAddressProvince.PROVINCE_CODE};s=o.familyAddressProvince.PROVINCE_CODE,e.commonService("getCityListOfCertainProvince",t,function(t){e.handleMessage(t,function(e){o.familyAddressCitys=e},function(){o.familyAddressCitys=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})}},o.initCountyListOfCertainCity=function(){if("-1"===o.familyAddressCity)return void(o.familyAddressCountys=[]);if(!l||l!==o.familyAddressCity.CITY_CODE){var t={CITY_CODE:o.familyAddressCity.CITY_CODE};l=o.familyAddressCity.CITY_CODE,e.commonService("getCountyListOfCertainCity",t,function(t){e.handleMessage(t,function(e){o.familyAddressCountys=e},function(){o.familyAddressCountys=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")})}},o.initSubdistrictListOfCertainCounty=function(){if("-1"===o.familyAddressCounty)return void(o.familyAddressStreets=[]);if(!c||c!==o.familyAddressCounty.COUNTY_DISTRICT_CODE){var t={COUNTY_DISTRICT_CODE:o.familyAddressCounty.COUNTY_DISTRICT_CODE};c=o.familyAddressCounty.COUNTY_DISTRICT_CODE,e.commonService("getSubdistrictListOfCertainCounty",t,function(t){e.handleMessage(t,function(e){o.familyAddressStreets=e},function(){o.familyAddressStreets=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})}},o.changeAddress=function(e){switch(e){case 1:o.familyAddressCity="-1",o.familyAddressCounty="-1",o.familyAddressStreet="-1";break;case 2:o.familyAddressCounty="-1",o.familyAddressStreet="-1";break;case 3:o.familyAddressStreet="-1"}},o.downLoadFile=function(t){o.isDownloading=!0,0===t?i.exportSignedFamily(r,function(t){e.handleMessage(t,function(e){n.downloadFile(e.fileName,"家庭档案信息.xls"),o.isDownloading=!1},function(){o.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){o.isDownloading=!1,e.alertDialog("信息导出失败")}):i.exportUnsignedFamily(a,function(t){e.handleMessage(t,function(e){n.downloadFile(e.fileName,"家庭档案信息.xls"),o.isDownloading=!1},function(){o.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){o.isDownloading=!1,e.alertDialog("信息导出失败")})},o.create=function(){t.go("main.resident.familyArchivesAdd")},o}function familyArchivesSidebarCtrl(e,t,i,n,o){function a(){o.searchFamilyDetail({FAMILY_KEY_ID:t.params.FAMILY_KEY_ID},function(t){e.handleMessage(t,function(e){r.HOUSEHOLDER_NAME=e.HOUSEHOLDER_NAME},function(){e.alertDialog("查询家庭信息失败")})},function(){e.alertDialog("查询家庭信息失败")})}var r=this;return r.FAMILY_KEY_ID=n.FAMILY_KEY_ID,r.currentTab="basicArchive",a(),i.$on("updateFamilyDetail",function(){a()}),r.tabShow=!0,r.tabClick=function(e){r.currentTab===e?r.tabShow=!r.tabShow:(r.tabShow=!0,r.currentTab=e)},e.$on("url-change",function(){r.judgePage()}),r.judgePage=function(){e.isContains(t.current.name,"signDoctor")?r.currentPage="signDoctor":e.isContains(t.current.name,"familyMember")?r.currentPage="familyMember":r.currentPage="basic"},r.judgePage(),r.gotoFamilyArchive=function(){r.currentPage="basic",t.go("main.resident.familyArchivesSidebar.detail.familyArchivesEdit",{FAMILY_KEY_ID:r.FAMILY_KEY_ID})},r.gotoFamilyMember=function(){r.currentPage="familyMember",t.go("main.resident.familyArchivesSidebar.detail.familyMember",{FAMILY_KEY_ID:r.FAMILY_KEY_ID})},r.gotoSignDoctor=function(){r.currentPage="signDoctor",t.go("main.resident.familyArchivesSidebar.detail.signDoctor",{FAMILY_KEY_ID:r.FAMILY_KEY_ID})},r}function familyFamilyMemberCtrl(e,t,i,n,o,a){function r(e){E.residentKeyId=e.RESIDENT_KEY_ID,E.memberList=e.MEMBER_LIST}function s(t){angular.forEach(_,function(i){E[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}function l(){a.searchFamilyMemberDetail({FAMILY_KEY_ID:d},function(t){e.handleMessage(t,function(e){r(e)},function(){e.alertDialog("查询家庭信息失败")})},function(){e.alertDialog("查询家庭信息失败")})}function c(){e.commonService("getDictList",{DICT_TYPE_CODE_LIST:_},function(t){e.handleMessage(t,function(e){s(e),l()},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")})}var E=this;E.editable=!0;var _=[{DICT_TYPE_CODE:"0014",LIST_NAME:"householderRelationshipList"}],d=t.params.FAMILY_KEY_ID;return c(),E.addFamilyMember=function(){function t(e,t,i,n){function a(i){return void 0!==i.FAMILY_KEY_ID&&null!==i.FAMILY_KEY_ID&&""!==i.FAMILY_KEY_ID?void e.alertDialog("不能添加该居民，因为该居民已组建过家庭"):i.RESIDENT_KEY_ID===E.residentKeyId?void e.alertDialog("不能选择户主作为家庭成员"):(n.getselectedFamilyMemberList(t,{},{total:1,rows:[i]}),t.row=i,t.relationship=void 0,t.searched=!0,void t.$apply())}t.searched=!1,t.add=!0,t.householderRelationshipList=E.householderRelationshipList,t.hide=function(){i.close()},t.cancel=function(){i.close()},t.back=function(e){e.$setPristine(),e.$setUntouched(),t.searched=!1},t.addFamilyMember=function(){if(-1!==e.selectIndex(E.memberList,"RESIDENT_KEY_ID",t.row.RESIDENT_KEY_ID))return void e.alertDialog("已经添加过该成员，不能重复添加");var o=null===t.relationship?"":t.relationship.DICT_VALUE_CODE,a=null===t.relationship?t.relationshipSearchText:t.relationship.DICT_VALUE_NAME;t.row.HOUSEHOLDER_RELATIONSHIP_CODE=o,t.row.HOUSEHOLDER_RELATIONSHIP_NAME=a,t.row.HOUSEHOLDER_SYMBOL="0",t.row.FAMILY_KEY_ID=d;var r=t.row;n.addFamilyMember(r,function(t){e.handleMessage(t,function(){l(),i.close()},function(){e.alertDialog("添加家庭成员失败")})},function(){e.alertDialog("添加家庭成员失败")})},t.searchTextChange=function(){var e=o.defer(),i=t.householderRelationshipList;return e.resolve(i),e.promise},t.search=function(){t.getFamilyMemberList()},t.getFamilyMemberList=function(){var e={SEARCH_RESIDENT:t.searchValue,RESIDENT_KEY_ID:E.residentKeyId};n.getFamilyMemberList(t,e,a)},t.$on("panelClose",function(){i.close()})}if(99===E.memberList.length)return void e.alertDialog("家庭人数超过限制，无法添加家庭成员");SMS.CONTROLLERS.controller("selectFamilyMemberController",t),t.$inject=["$rootScope","$scope","mdPanelRef","familyArchivesService"];var i=n.newPanelPosition().absolute().center(),a=n.newPanelAnimation().withAnimation(n.animation.FADE),r={animation:a,attachTo:angular.element(document.body),controller:t,templateUrl:"template/resident/familyArchives/selectFamilyMember.html",position:i,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};n.open(r)},E.viewFamilyMember=function(i){e.isShow("1003001002")&&t.go("main.resident.residentArchivesSidebar.detail.residentArchivesEdit",{RESIDENT_KEY_ID:i.RESIDENT_KEY_ID})},E.editFamilyMember=function(e){function t(t,n,a,r){n.searched=!0,n.edit=!0,n.setHolder=!1,n.householderRelationshipList=E.householderRelationshipList,n.otherFamilyMember=angular.copy(E.memberList),n.otherFamilyMember.splice(t.selectIndex(E.memberList,"RESIDENT_KEY_ID",e.RESIDENT_KEY_ID),1),e.FAMILY_KEY_ID=d,n.row=e,n.relationship=t.selectItem(n.householderRelationshipList,"DICT_VALUE_CODE",n.row.HOUSEHOLDER_RELATIONSHIP_CODE),void 0===n.relationship&&(n.relationship={DICT_VALUE_CODE:"",DICT_VALUE_NAME:n.row.HOUSEHOLDER_RELATIONSHIP_NAME}),r.getselectedFamilyMemberList(n,{},{total:1,rows:[n.row]}),n.hide=function(){a.close()},n.cancel=function(){a.close()},n.back=function(e){e.$setPristine(),e.$setUntouched(),n.searched=!1},n.addFamilyMember=function(){var e=null===n.relationship?"":n.relationship.DICT_VALUE_CODE,i=null===n.relationship?n.relationshipSearchText:n.relationship.DICT_VALUE_NAME;n.row.HOUSEHOLDER_RELATIONSHIP_CODE=e,n.row.HOUSEHOLDER_RELATIONSHIP_NAME=i,n.row.HOUSEHOLDER_SYMBOL="0";var o=n.row;r.editFamilyMember(o,function(e){t.handleMessage(e,function(){l(),a.close()},function(){t.alertDialog("保存家庭成员失败")})},function(){t.alertDialog("保存家庭成员失败")})},n.searchTextChange=function(){var e=o.defer(),t=n.householderRelationshipList;return e.resolve(t),e.promise},n.setFamilyHolder=function(){var e=[{RESIDENT_KEY_ID:n.row.RESIDENT_KEY_ID,HOUSEHOLDER_SYMBOL:1,HOUSEHOLDER_RELATIONSHIP_CODE:null,HOUSEHOLDER_RELATIONSHIP_NAME:null}];angular.forEach(n.otherFamilyMember,function(t){e.push({RESIDENT_KEY_ID:t.RESIDENT_KEY_ID,HOUSEHOLDER_SYMBOL:0,HOUSEHOLDER_RELATIONSHIP_CODE:null===t.resetRelationship?"":t.resetRelationship.DICT_VALUE_CODE,HOUSEHOLDER_RELATIONSHIP_NAME:null===t.resetRelationship?t.searchText:t.resetRelationship.DICT_VALUE_NAME})});var o={FAMILY_KEY_ID:d,RESIDENT_KEY_ID:n.row.RESIDENT_KEY_ID,FAMILY_MEMBER_LIST:e};r.setFamilyHolder(o,function(e){t.handleMessage(e,function(){t.alertDialog("更换户主成功"),l(),i.$emit("updateFamilyDetail"),a.close()},function(){t.alertDialog("更换户主失败")})},function(){t.alertDialog("更换户主失败")})},n.gotoFamilyHolder=function(e){e.$setPristine(),e.$setUntouched(),n.setHolder=!0},n.backEdit=function(){n.setHolder=!1},n.search=function(){n.getFamilyMemberList()},n.getFamilyMemberList=function(){var e={SEARCH_RESIDENT:n.searchValue};r.getFamilyMemberList(n,e,callback)},n.$on("panelClose",function(){a.close()})}SMS.CONTROLLERS.controller("editFamilyMemberController",t),t.$inject=["$rootScope","$scope","mdPanelRef","familyArchivesService"];var a=n.newPanelPosition().absolute().center(),r=n.newPanelAnimation().withAnimation(n.animation.FADE),s={animation:r,attachTo:angular.element(document.body),controller:t,templateUrl:"template/resident/familyArchives/selectFamilyMember.html",position:a,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};n.open(s)},E.deleteFamilyMember=function(t){e.confirmDialog("是否要将该成员从家庭中去除？",function(){var i={FAMILY_KEY_ID:d,RESIDENT_KEY_ID:E.memberList[t].RESIDENT_KEY_ID};a.deleteFamilyMember(i,function(t){e.handleMessage(t,function(){l()},function(){e.alertDialog("删除家庭成员失败")})},function(){e.alertDialog("删除家庭成员失败")})},function(){})},E}function familyArchivesService(e,t,i,n){var o=this;return o.searchFamilyDetail=function(e,t,n){i.searchFamilyDetail(JSON.stringify(e)).$promise.then(t,n)},o.searchSignFamilyMember=function(e,t,n){i.searchSignFamilyMember(JSON.stringify(e)).$promise.then(t,n)},o.searchResident=function(e,t,n){i.searchResident(JSON.stringify(e)).$promise.then(t,n)},o.searchSignDoctor=function(e,t,n){i.searchSignDoctor(JSON.stringify(e)).$promise.then(t,n)},o.addFamily=function(e,t,n){i.addFamily(JSON.stringify(e)).$promise.then(t,n)},o.editFamily=function(e,t,n){i.editFamily(JSON.stringify(e)).$promise.then(t,n)},o.searchFamilyMemberDetail=function(e,t,n){i.searchFamilyMemberDetail(JSON.stringify(e)).$promise.then(t,n)},o.addFamilyMember=function(e,t,n){i.addFamilyMember(JSON.stringify(e)).$promise.then(t,n)},o.editFamilyMember=function(e,t,n){i.editFamilyMember(JSON.stringify(e)).$promise.then(t,n)},o.deleteFamilyMember=function(e,t,n){i.deleteFamilyMember(JSON.stringify(e)).$promise.then(t,n)},o.setFamilyHolder=function(e,t,n){i.setFamilyHolder(JSON.stringify(e)).$promise.then(t,n)},o.searchSignDoctorDetail=function(e,t,n){i.searchSignDoctorDetail(JSON.stringify(e)).$promise.then(t,n)},o.addSignDoctor=function(e,t,n){i.addSignDoctor(JSON.stringify(e)).$promise.then(t,n)},o.editSignDoctor=function(e,t,n){i.editSignDoctor(JSON.stringify(e)).$promise.then(t,n)},o.exportSignedFamily=function(e,t,n){i.exportSignedFamily(JSON.stringify(e)).$promise.then(t,n)},o.exportUnsignedFamily=function(e,t,n){i.exportUnsignedFamily(JSON.stringify(e)).$promise.then(t,n)},o.getSignedDoctorList=function(e,t,n){i.getSignedDoctorList(JSON.stringify(e)).$promise.then(t,n)},o.getDoctorList=function(t,o,a){function r(t,n,o){i.searchSignDoctor(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:o,pageSize:5,pageList:[5],columns:[{field:"DOCTOR_NAME",title:"姓名",align:"center",formatter:function(e){return"<div id='doctorId'  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click #doctorId":function(e,t,i){a(i)}}},{field:"DOCTOR_TITLE_NAME",title:"职称",align:"center"},{field:"SKILLED_PROJECT",title:"擅长",align:"center"},{field:"DOCTOR_PHONE_NUMBER",title:"联系电话",align:"center"}]};t.tableData={bsTableControl:{options:n.initOption(s)}}},o.getselectedDoctorList=function(e,t,i){function o(e,t){t(i)}var a={dataFunction:o,dataParams:t,pagination:!1,pageSize:5,pageList:[5],columns:[{field:"DOCTOR_NAME",title:"姓名",align:"center"},{field:"DOCTOR_TITLE_NAME",title:"职称",align:"center"},{field:"SKILLED_PROJECT",title:"擅长",align:"center"},{field:"DOCTOR_PHONE_NUMBER",title:"联系电话",align:"center"}]};e.selectedTableData={bsTableControl:{options:n.initOption(a)}},e.selectedTableData.bsTableControl.operat="refresh"},o.getFamilyMemberList=function(t,o,a){function r(t,n,o){i.searchSignFamilyMember(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:o,pageSize:5,pageList:[5],columns:[{field:"RESIDENT_NAME",title:"居民姓名",align:"center",formatter:function(e){return"<div id='doctorId'  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click #doctorId":function(e,t,i){a(i)}}},{field:"RESIDENT_SEX_NAME",title:"性别",align:"center"},{field:"RESIDENT_PHONE_NO",title:"手机号",align:"center"},{field:"RESIDENT_ID_NO",title:"身份证号",align:"center"},{field:"FAMILY_KEY_ID",title:"是否已组建家庭",align:"center",formatter:function(e){return void 0!==e&&null!==e&&""!==e?"是":"否"}}]};t.tableData={bsTableControl:{options:n.initOption(s)}}},o.getselectedFamilyMemberList=function(e,t,i){function o(e,t){t(i)}var a={dataFunction:o,dataParams:t,pagination:!1,pageSize:5,pageList:[5],columns:[{field:"RESIDENT_NAME",title:"居民姓名",align:"center"},{field:"RESIDENT_SEX_NAME",title:"性别",align:"center"},{field:"RESIDENT_PHONE_NO",title:"手机号",align:"center"},{field:"RESIDENT_ID_NO",title:"身份证号",align:"center"},{field:"FAMILY_KEY_ID",title:"是否已组建家庭",align:"center",formatter:function(e){return void 0!==e&&null!==e&&""!==e?"是":"否"}}]};e.selectedTableData={bsTableControl:{options:n.initOption(a)}},e.selectedTableData.bsTableControl.operat="refresh"},o.getFamilyArchiveList=function(o,a){function r(t,n,o){i.showUnsignedFamily(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:a,columns:[{field:"HOUSEHOLDER_NAME",title:"户主名称",align:"center",formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,i,n){t.go("main.resident.familyArchivesSidebar.detail.familyArchivesEdit",{FAMILY_KEY_ID:n.FAMILY_KEY_ID})}}},{field:"FIXED_PHONE_NO",title:"联系电话",align:"center"},{field:"FAMILY_NUMBER",title:"家庭人数",align:"center"},{field:"HOUSE_ADDRESS",title:"家庭住址",align:"center"},{field:"CREATE_TIME",title:"建档时间",align:"center"}]};o.tableData={bsTableControl:{options:n.initOption(s)}}},o.getSignedFamilyArchiveList=function(o,a){function r(t,n,o){i.showSignedFamily(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:a,columns:[{field:"HOUSEHOLDER_NAME",title:"户主名称",align:"center",formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,i,n){t.go("main.resident.familyArchivesSidebar.detail.familyArchivesEdit",{FAMILY_KEY_ID:n.FAMILY_KEY_ID})}}},{field:"FIXED_PHONE_NO",title:"联系电话",align:"center"},{field:"FAMILY_NUMBER",title:"家庭人数",align:"center"},{field:"HOUSE_ADDRESS",title:"家庭住址",align:"center"},{field:"CREATE_TIME",title:"建档时间",align:"center"},{field:"DOCTOR_NAME",title:"签约医生",align:"center"},{field:"ORGANIZATION_NAME",title:"医生所属机构",align:"center"}]};o.signedTableData={bsTableControl:{options:n.initOption(s)}}},o.getSignedRecordList=function(t,o){function a(t,n,o){i.getSignedRecordList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}function r(e,t){var i='<div><span style="color: #428bca">'+t.CREATOR_NAME+"</span>"+t.RECORD_INFO+"</div>";return null!==t.REMARK&&void 0!==t.REMARK&&""!==t.REMARK&&(i+="<div>备注："+t.REMARK+"</div>"),i}var s={dataFunction:a,dataParams:o,columns:[{field:"CREATE_TIME",title:"时间",align:"center"},{field:"RECORD_INFO",title:"操作记录",align:"left",formatter:r}],showHeader:!1,classes:"table table-no-bordered"};return t.signedRecordTableData={bsTableControl:{options:n.initOption(s)}},t},o}function familySignDoctorCtrl(e,t,i,n,o){function a(e){l(),1===e?E.signedRecordTableData.bsTableControl.operat="refresh":c()}function r(){return!e.isEmptyObject(E.dataBak)}function s(e){E.dataBak=angular.copy(e),r()?(E.responsibleDoctorId=e.RESPONSIBLE_DOCTOR_ID,E.responsibleDoctorName=e.RESPONSIBLE_DOCTOR_NAME,E.belongHospitalId=e.BELONG_HOSPITAL_ID,E.hospitalName=e.HOSPITAL_NAME,E.doctorTitleDode=e.DOCTOR_TITLE_CODE,E.doctorTitleName=e.DOCTOR_TITLE_NAME,E.beginTime=e.BEGIN_TIME,E.endTime=e.END_TIME,void 0!==E.beginTime&&""!==E.beginTime&&null!==E.beginTime&&(E.beginTimeFormat=new Date(E.beginTime)),void 0!==E.endTime&&""!==E.endTime&&null!==E.endTime&&(E.endTimeFormat=new Date(E.endTime))):(E.responsibleDoctorId=null,E.responsibleDoctorName=null,E.belongHospitalId=null,E.hospitalName=null,E.doctorTitleDode=null,E.doctorTitleName=null)}function l(){o.searchSignDoctorDetail({FAMILY_KEY_ID:_},function(t){e.handleMessage(t,function(e){s(e)},function(){e.alertDialog("查询签约医生信息失败")})},function(){e.alertDialog("查询签约医生信息失败");
})}function c(){var e={FAMILY_KEY_ID:_};o.getSignedRecordList(E,e)}var E=this;E.editable=!0;var _=t.params.FAMILY_KEY_ID;return E.dataBak,a(0),E.addDoctor=function(){function e(e,t,i,n,o){function s(i){t.searched=!0,o.getselectedDoctorList(t,{},{total:1,rows:[i]}),t.row=i,e.getCurrentDateTime(function(e){if(void 0===E.beginTimeFormat){E.beginTimeFormat=e,E.beginTime=n("commonDate")(E.beginTimeFormat);var i=new Date(new Date(E.beginTimeFormat).getTime());i.setFullYear(i.getFullYear()+1),i.setDate(i.getDate()-1),E.endTimeFormat=i,E.endTime=n("commonDate")(E.endTimeFormat)}void 0===t.beginTime&&(t.beginTime=n("commonDate")(E.beginTimeFormat,"yyyy年MM月dd日"),t.endTime=n("commonDate")(E.endTimeFormat,"yyyy年MM月dd日"),t.$apply())}),t.$apply()}function l(t){o.addSignDoctor(t,function(t){e.handleMessage(t,function(){a(1),i.close()},function(){e.alertDialog("添加签约医生失败")})},function(){e.alertDialog("添加签约医生失败")})}function c(t){o.editSignDoctor(t,function(t){e.handleMessage(t,function(){a(1),i.close()},function(){e.alertDialog("更换签约医生失败")})},function(){e.alertDialog("更换签约医生失败")})}t.searched=!1,t.hide=function(){i.close()},t.cancel=function(){i.close()},t.back=function(){t.searched=!1},t.addDoctor=function(){var e=t.row,i={FAMILY_KEY_ID:_,RESPONSIBLE_DOCTOR_ID:e.DOCTOR_ID,RESPONSIBLE_DOCTOR_NAME:e.DOCTOR_NAME,BELONG_HOSPITAL_ID:e.BELONG_HOSPITAL_ID,HOSPITAL_NAME:e.HOSPITAL_NAME,DOCTOR_TITLE_CODE:e.DOCTOR_TITLE_CODE,DOCTOR_TITLE_NAME:e.DOCTOR_TITLE_NAME,BEGIN_TIME:E.beginTime,END_TIME:E.endTime};if(r()){var n={FAMILY_KEY_ID:_,OLD_RESPONSIBLE_DOCTOR_ID:E.dataBak.RESPONSIBLE_DOCTOR_ID,NEW_RESPONSIBLE_DOCTOR_ID:i.RESPONSIBLE_DOCTOR_ID,NEW_RESPONSIBLE_DOCTOR_NAME:i.RESPONSIBLE_DOCTOR_NAME};c(n)}else{var n=i;l(n)}},t.search=function(){t.getDoctorList()},t.getDoctorList=function(){var e={SEARCH_DOCTOR:t.searchValue};o.getDoctorList(t,e,s)},t.$on("panelClose",function(){i.close()})}SMS.CONTROLLERS.controller("selectDoctorController",e),e.$inject=["$rootScope","$scope","mdPanelRef","$filter","familyArchivesService"];var t=n.newPanelPosition().absolute().center(),i=n.newPanelAnimation().withAnimation(n.animation.FADE),o={animation:i,attachTo:angular.element(document.body),controller:e,templateUrl:"template/resident/familyArchives/selectDoctor.html",position:t,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};n.open(o)},E.removeSign=function(){function t(t,i,n,o){function r(){t.householder_name=E.householder_name,t.signedDoctor=E.responsibleDoctorName,t.remark="",t.familyModel=!0}t.hide=function(){n.close()},t.cancel=function(){n.close()},t.ensure=function(i){if(e.check(i)){var r={BEFORE_DOCTOR_ID:E.responsibleDoctorId,REMARK:t.remark,FAMILY_LIST:[{FAMILY_KEY_ID:_}]};o.terminateBatch(r,function(t){e.handleMessage(t,function(){a(1),e.alertDialog("解约成功！").then(n.close())},function(){e.alertDialog("解约失败")})},function(){e.alertDialog("解约失败")})}},r(),t.$on("panelClose",function(){n.close()})}SMS.CONTROLLERS.controller("DialogRemoveSignEnsureController",t),t.$inject=["$scope","$mdDialog","mdPanelRef","doctorIndividualService"];var i=n.newPanelPosition().absolute().center(),o=n.newPanelAnimation().withAnimation(n.animation.FADE),r={animation:o,attachTo:angular.element(document.body),controller:t,templateUrl:"template/doctor/doctorIndividual/signManage/_removeSignEnsure.html",position:i,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};n.open(r)},E}function residentArchivesAddCtrl(e,t,i,n){function o(t){angular.forEach(r,function(i){a[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}var a=this;a.editable=!0,a.medicalExpensesPaymentWaySelected=[],a.drugAllergyHistorySelected=[],a.exposureHistorySelected=[],a.deformityConditionSelected=[];var r=[{DICT_TYPE_CODE:"0009",LIST_NAME:"sexCodeName"},{DICT_TYPE_CODE:"0010",LIST_NAME:"nationArr"},{DICT_TYPE_CODE:"0007001",LIST_NAME:"resideTypeArr"},{DICT_TYPE_CODE:"0011",LIST_NAME:"maritalStateArr"},{DICT_TYPE_CODE:"0008001",LIST_NAME:"householdRegisterArr"},{DICT_TYPE_CODE:"0007002",LIST_NAME:"registerSignArr"},{DICT_TYPE_CODE:"0008002",LIST_NAME:"bloodTypeArr"},{DICT_TYPE_CODE:"0008003",LIST_NAME:"degreeOfEducationArr"},{DICT_TYPE_CODE:"0008004",LIST_NAME:"careerTypeArr"},{DICT_TYPE_CODE:"0012",LIST_NAME:"medicalExpensesPaymentWayArr"},{DICT_TYPE_CODE:"0008005",LIST_NAME:"drugAllergyHistoryArr"},{DICT_TYPE_CODE:"0008006",LIST_NAME:"exposureHistoryArr"},{DICT_TYPE_CODE:"0008007",LIST_NAME:"deformityConditionArr"},{DICT_TYPE_CODE:"0007006",LIST_NAME:"kitchen_ventilation_system_arr"},{DICT_TYPE_CODE:"0007007",LIST_NAME:"fuel_type_arr"},{DICT_TYPE_CODE:"0007008",LIST_NAME:"water_source_arr"},{DICT_TYPE_CODE:"0007009",LIST_NAME:"toilet_type_arr"},{DICT_TYPE_CODE:"0007010",LIST_NAME:"pinfold_position_arr"}];return a.exists=function(e,t){return t.indexOf(e)>-1},a.toggle=function(e,t){var i=t.indexOf(e);i>-1?t.splice(i,1):t.push(e)},e.commonService("getDictList",{DICT_TYPE_CODE_LIST:r},function(t){e.handleMessage(t,function(e){a.dictList=e,o(e)},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")}),a.remove=function(e,t){t.splice(e,1)},a.checkIdNo=function(t){i.isEmptyObject(t.idNo.$error)&&i.checkIdNo({RESIDENT_KEY_ID:"",RESIDENT_ID_NO:a.idNo},function(t){e.handleMessage(t,function(t){t&&e.alertDialog("根据身份证号验证，该居民已创建过档案，不能重复创建")},function(){e.alertDialog("身份证查重失败")})},function(){e.alertDialog("身份证查重失败")})},a.disease_history_list=[],a.operation_history_list=[],a.injury_history_list=[],a.transfusion_history_list=[],a.hospitalization_history_list=[],a.family_medical_history_list=[],a.genetic_history_list=[],a.addDiseaseHistory=function(){a.disease_history_list.push({DISEASE_NAME:"",TIME_OF_DIAGNOSIS:null,REMARK:""})},a.disease_history_tate_change=function(){0===a.disease_history_tate?a.disease_history_list=[]:1===a.disease_history_tate&&a.addDiseaseHistory()},a.addOperationHistory=function(){a.operation_history_list.push({OPERATION_NAME:"",OPERATION_TIME:null,OPERATION_DIAGNOSIS:"",REMARK:""})},a.operation_history_state_change=function(){0===a.operation_history_state?a.operation_history_list=[]:1===a.operation_history_state&&a.addOperationHistory()},a.addInjuryHistory=function(){a.injury_history_list.push({INJURY_NAME:"",INJURY_TIME:null,REMARK:""})},a.injury_history_state_change=function(){0===a.injury_history_state?a.injury_history_list=[]:1===a.injury_history_state&&a.addInjuryHistory()},a.addTransfusionHistory=function(){a.transfusion_history_list.push({TRANSFUSION_REASON:"",TRANSFUSION_TIME:null,TRANSFUSION_VOLUME:"",REMARK:""})},a.transfusion_history_state_change=function(){0===a.transfusion_history_state?a.transfusion_history_list=[]:1===a.transfusion_history_state&&a.addTransfusionHistory()},a.addHospitalizationHistory=function(){a.hospitalization_history_list.push({HOSPITALIZATION_REASON:"",HOSPITALIZATION_TIME:null,DIAGNOSIS:"",MEDICAL_INSTITUTION_NAME:"",REMARK:""})},a.hospitalization_history_state_change=function(){0===a.hospitalization_history_state?a.hospitalization_history_list=[]:1===a.hospitalization_history_state&&a.addHospitalizationHistory()},a.addFamilyMedicalHistory=function(){a.family_medical_history_list.push({DISEASE_NAME:"",RELATIONSHIP:"",REMARK:""})},a.family_medical_history_state_change=function(){0===a.family_medical_history_state?a.family_medical_history_list=[]:1===a.family_medical_history_state&&a.addFamilyMedicalHistory()},a.addGeneticHistory=function(){a.genetic_history_list.push({DISEASE_NAME:"",REMARK:""})},a.genetic_history_state_change=function(){0===a.genetic_history_state?a.genetic_history_list=[]:1===a.genetic_history_state&&a.addGeneticHistory()},a.nativePlaceProvince="-1",a.nativePlaceCity="-1",a.registerProvince="-1",a.registerCity="-1",a.registerCounty="-1",a.registerStreet="-1",a.addressProvince="-1",a.addressCity="-1",a.addressCounty="-1",a.addressStreet="-1",a.changeAddress=function(e){switch(e){case 11:a.nativePlaceCity="-1";break;case 21:a.registerCity="-1",a.registerCounty="-1",a.registerStreet="-1";break;case 22:a.registerCounty="-1",a.registerStreet="-1";break;case 23:a.registerStreet="-1";break;case 31:a.addressCity="-1",a.addressCounty="-1",a.addressStreet="-1";break;case 32:a.addressCounty="-1",a.addressStreet="-1";break;case 33:a.addressStreet="-1"}},a.initProvinceList=function(t,i,n){var o=void 0;o=a[n]+""=="-1"?"-1":a[n].PROVINCE_CODE,t||e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(t){a[i]=t,o+""=="-1"?a[n]="-1":a[n]=e.selectItem(a[i],"PROVINCE_CODE",o)},function(){a[i]=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})},a.initCityListOfCertainProvince=function(t,i,n){if(a[t]+""=="-1")return void(a[i]=[]);var o={PROVINCE_CODE:a[t].PROVINCE_CODE},r=void 0;r=a[n]+""=="-1"?"-1":a[n].CITY_CODE,e.commonService("getCityListOfCertainProvince",o,function(t){e.handleMessage(t,function(t){a[i]=t,r+""=="-1"?a[n]="-1":a[n]=e.selectItem(a[i],"CITY_CODE",r)},function(){a[i]=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})},a.initCountyListOfCertainCity=function(t,i,n){if("-1"===a[t])return void(a[i]=[]);var o={CITY_CODE:a[t].CITY_CODE},r=void 0;r=a[n]+""=="-1"?"-1":a[n].COUNTY_DISTRICT_CODE,e.commonService("getCountyListOfCertainCity",o,function(t){e.handleMessage(t,function(t){a[i]=t,r+""=="-1"?a[n]="-1":a[n]=e.selectItem(a[i],"COUNTY_DISTRICT_CODE",r)},function(){a[i]=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")})},a.initSubdistrictListOfCertainCounty=function(t,i,n){if("-1"===a[t])return void(a[i]=[]);var o={COUNTY_DISTRICT_CODE:a[t].COUNTY_DISTRICT_CODE},r=void 0;r=a[n]+""=="-1"?"-1":a[n].STREET_TOWNSHIP_NAME,e.commonService("getSubdistrictListOfCertainCounty",o,function(t){e.handleMessage(t,function(t){a[i]=t,r+""=="-1"?a[n]="-1":a[n]=e.selectItem(a[i],"STREET_TOWNSHIP_NAME",r)},function(){a[i]=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})},a.save=function(o){if(e.check(o)){var r={RESIDENT_NAME:a.personName,RESIDENT_ID_NO:a.idNo,RESIDENT_SEX_CODE:a.sexItem.DICT_VALUE_CODE,RESIDENT_SEX_NAME:a.sexItem.DICT_VALUE_NAME,BIRTHDAY:n("commonDate")(a.dateOfBirth),NATION_CODE:a.nation.DICT_VALUE_CODE,NATION_NAME:a.nation.DICT_VALUE_NAME,WORK_UNIT:a.workingAgency,RESIDENT_PHONE_NO:a.phone,LIVING_TYPE_CODE:a.resideType?a.resideType.DICT_VALUE_CODE:"",LIVING_TYPE_NAME:a.resideType?a.resideType.DICT_VALUE_NAME:"",MARITAL_STATUS_CODE:a.maritalState?a.maritalState.DICT_VALUE_CODE:"",MARITAL_STATUS_NAME:a.maritalState?a.maritalState.DICT_VALUE_NAME:"",HOUSEHOLD_REGISTER_CODE:a.householdRegister?a.householdRegister.DICT_VALUE_CODE:"",HOUSEHOLD_REGISTER_NAME:a.householdRegister?a.householdRegister.DICT_VALUE_NAME:"",RESIDENT_TYPE_CODE:a.registerSign.DICT_VALUE_CODE,RESIDENT_TYPE_NAME:a.registerSign.DICT_VALUE_NAME,NATIVE_PLACE_PROVINCE_CODE:a.nativePlaceProvince?a.nativePlaceProvince.PROVINCE_CODE:"",NATIVE_PLACE_PROVINCE_NAME:a.nativePlaceProvince?a.nativePlaceProvince.PROVINCE_NAME:"",NATIVE_PLACE_CITY_CODE:a.nativePlaceCity?a.nativePlaceCity.CITY_CODE:"",NATIVE_PLACE_CITY_NAME:a.nativePlaceCity?a.nativePlaceCity.CITY_NAME:"",REGISTER_PROVINCE_CODE:a.registerProvince?a.registerProvince.PROVINCE_CODE:"",REGISTER_PROVINCE_NAME:a.registerProvince?a.registerProvince.PROVINCE_NAME:"",REGISTER_CITY_CODE:a.registerCity?a.registerCity.CITY_CODE:"",REGISTER_CITY_NAME:a.registerCity?a.registerCity.CITY_NAME:"",REGISTER_COUNTY_DISTRICT_CODE:a.registerCounty?a.registerCounty.COUNTY_DISTRICT_CODE:"",REGISTER_COUNTY_DISTRICT_NAME:a.registerCounty?a.registerCounty.COUNTY_DISTRICT_NAME:"",REGISTER_STREET_TOWNSHIP_CODE:a.registerStreet?a.registerStreet.STREET_TOWNSHIP_CODE:"",REGISTER_STREET_TOWNSHIP_NAME:a.registerStreet?a.registerStreet.STREET_TOWNSHIP_NAME:"",HOUSEHOLD_REGISTER_ADDRESS:a.householdRegisterAddress?a.householdRegisterAddress:"",ADDRESS_PROVINCE_CODE:a.addressProvince?a.addressProvince.PROVINCE_CODE:"",ADDRESS_PROVINCE_NAME:a.addressProvince?a.addressProvince.PROVINCE_NAME:"",ADDRESS_CITY_CODE:a.addressCity?a.addressCity.CITY_CODE:"",ADDRESS_CITY_NAME:a.addressCity?a.addressCity.CITY_NAME:"",ADDRESS_COUNTY_DISTRICT_CODE:a.addressCounty?a.addressCounty.COUNTY_DISTRICT_CODE:"",ADDRESS_COUNTY_DISTRICT_NAME:a.addressCounty?a.addressCounty.COUNTY_DISTRICT_NAME:"",ADDRESS_STREET_TOWNSHIP_CODE:a.addressStreet?a.addressStreet.STREET_TOWNSHIP_CODE:"",ADDRESS_STREET_TOWNSHIP_NAME:a.addressStreet?a.addressStreet.STREET_TOWNSHIP_NAME:"",HOUSE_ADDRESS:a.houseAddress?a.houseAddress:"",BLOOD_TYPE_CODE:a.bloodType.DICT_VALUE_CODE,BLOOD_TYPE_NAME:a.bloodType.DICT_VALUE_NAME,RH_NEGATIVE:a.rhNegative,DEGREE_OF_EDUCATION_CODE:a.degreeOfEducation?a.degreeOfEducation.DICT_VALUE_CODE:"",DEGREE_OF_EDUCATION_NAME:a.degreeOfEducation?a.degreeOfEducation.DICT_VALUE_NAME:"",CAREER_TYPE_CODE:a.careerType?a.careerType.DICT_VALUE_CODE:"",CAREER_TYPE_NAME:a.careerType?a.careerType.DICT_VALUE_NAME:"",CONTACT_NAME:a.contactName,CONTACT_PHONE_NO:a.contactPhoneNo,KITCHEN_VENTILATION_SYSTEM_CODE:a.kitchen_ventilation_system?a.kitchen_ventilation_system.DICT_VALUE_CODE:"",KITCHEN_VENTILATION_SYSTEM_NAME:a.kitchen_ventilation_system?a.kitchen_ventilation_system.DICT_VALUE_NAME:"",FUEL_TYPE_CODE:a.fuel_type?a.fuel_type.DICT_VALUE_CODE:"",FUEL_TYPE_NAME:a.fuel_type?a.fuel_type.DICT_VALUE_NAME:"",WATER_SOURCE_CODE:a.water_source?a.water_source.DICT_VALUE_CODE:"",WATER_SOURCE_NAME:a.water_source?a.water_source.DICT_VALUE_NAME:"",TOILET_TYPE_CODE:a.toilet_type?a.toilet_type.DICT_VALUE_CODE:"",TOILET_TYPE_NAME:a.toilet_type?a.toilet_type.DICT_VALUE_NAME:"",PINFOLD_POSITION_CODE:a.pinfold_position?a.pinfold_position.DICT_VALUE_CODE:"",PINFOLD_POSITION_NAME:a.pinfold_position?a.pinfold_position.DICT_VALUE_NAME:"",REMARK:a.remark||""};if(void 0!==r.REGISTER_PROVINCE_CODE&&""===r.HOUSEHOLD_REGISTER_ADDRESS)return void e.alertDialog("请填写完整的户籍地址");if(void 0!==r.ADDRESS_PROVINCE_CODE&&""===r.HOUSE_ADDRESS)return void e.alertDialog("请填写完整的居住地址");if(void 0===a.medicalExpensesPaymentWaySelected||0===a.medicalExpensesPaymentWaySelected.length)return void e.alertDialog("医疗费用支付方式为必选");var s=i.objectToString(a.medicalExpensesPaymentWaySelected);if(r.MEDICAL_EXPENSES_PAYMENT_WAY_CODE=s.CODE,r.MEDICAL_EXPENSES_PAYMENT_WAY_NAME=s.NAME,void 0===a.drugAllergyHistoryState)return void e.alertDialog("药物过敏史为必选");if(0===a.drugAllergyHistoryState)r.DRUG_ALLERGY_HISTORY_CODE="",r.DRUG_ALLERGY_HISTORY_NAME="",r.OTHER_DRUG_ALLERGY_HISTORY_NAME="";else{if((void 0===a.drugAllergyHistorySelected||0===a.drugAllergyHistorySelected.length)&&a.other_drug_allergy_history_state!==!0||a.other_drug_allergy_history_state===!0&&(void 0===a.other_drug_allergy_history_name||""===a.other_drug_allergy_history_name.replace(/(^\s*)|(\s*$)/g,"")))return void e.alertDialog("请填写完整的药物过敏史");var l=i.objectToString(a.drugAllergyHistorySelected);r.DRUG_ALLERGY_HISTORY_CODE=l.CODE,r.DRUG_ALLERGY_HISTORY_NAME=l.NAME,r.OTHER_DRUG_ALLERGY_HISTORY_NAME=a.other_drug_allergy_history_name}if(void 0===a.exposureHistoryState)return void e.alertDialog("暴露史为必选");if(0===a.exposureHistoryState)r.EXPOSURE_HISTORY_CODE="",r.EXPOSURE_HISTORY_NAME="";else{if(void 0===a.exposureHistorySelected||0===a.exposureHistorySelected.length)return void e.alertDialog("请填写完整的暴露史");var c=i.objectToString(a.exposureHistorySelected);r.EXPOSURE_HISTORY_CODE=c.CODE,r.EXPOSURE_HISTORY_NAME=c.NAME}if(1!==a.deformityConditionState)r.DEFORMITY_CONDITION_CODE="",r.DEFORMITY_CONDITION_NAME="",r.OTHER_DEFORMITY_CONDITION_NAME="";else{if((void 0===a.deformityConditionSelected||0===a.deformityConditionSelected.length)&&a.other_deformity_condition_state!==!0||a.other_deformity_condition_state===!0&&(void 0===a.other_deformity_condition_name||""===a.other_deformity_condition_name.replace(/(^\s*)|(\s*$)/g,"")))return void e.alertDialog("请填写完整的残疾情况");var E=i.objectToString(a.deformityConditionSelected);r.DEFORMITY_CONDITION_CODE=E.CODE,r.DEFORMITY_CONDITION_NAME=E.NAME,r.OTHER_DEFORMITY_CONDITION_NAME=a.other_deformity_condition_name}void 0===a.disease_history_tate||0===a.disease_history_tate||1===a.disease_history_tate&&0===a.disease_history_list.length?r.DISEASE_HISTORY_LIST=[]:(r.DISEASE_HISTORY_LIST=[],angular.forEach(a.disease_history_list,function(e){""!==e.DISEASE_NAME&&""!==e.TIME_OF_DIAGNOSIS&&null!==e.TIME_OF_DIAGNOSIS&&r.DISEASE_HISTORY_LIST.push(angular.copy(e))}),i.dateObjToString(r.DISEASE_HISTORY_LIST,"TIME_OF_DIAGNOSIS")),void 0===a.operation_history_state||0===a.operation_history_state||1===a.operation_history_state&&0===a.operation_history_list.length?r.OPERATION_HISTORY_LIST=[]:(r.OPERATION_HISTORY_LIST=[],angular.forEach(a.operation_history_list,function(e){""!==e.OPERATION_NAME&&""!==e.OPERATION_TIME&&null!==e.OPERATION_TIME&&""!==e.OPERATION_DIAGNOSIS&&r.OPERATION_HISTORY_LIST.push(angular.copy(e))}),i.dateObjToString(r.OPERATION_HISTORY_LIST,"OPERATION_TIME")),void 0===a.injury_history_state||0===a.injury_history_state||1===a.injury_history_state&&0===a.injury_history_list.length?r.INJURY_HISTORY_LIST=[]:(r.INJURY_HISTORY_LIST=[],angular.forEach(a.injury_history_list,function(e){""!==e.INJURY_NAME&&""!==e.INJURY_TIME&&null!==e.INJURY_TIME&&r.INJURY_HISTORY_LIST.push(angular.copy(e))}),i.dateObjToString(r.INJURY_HISTORY_LIST,"INJURY_TIME")),void 0===a.transfusion_history_state||0===a.transfusion_history_state||1===a.transfusion_history_state&&0===a.transfusion_history_list.length?r.TRANSFUSION_HISTORY_LIST=[]:(r.TRANSFUSION_HISTORY_LIST=[],angular.forEach(a.transfusion_history_list,function(e){""!==e.TRANSFUSION_REASON&&""!==e.TRANSFUSION_TIME&&null!==e.TRANSFUSION_TIME&&""!==e.TRANSFUSION_VOLUME&&r.TRANSFUSION_HISTORY_LIST.push(angular.copy(e))}),i.dateObjToString(r.TRANSFUSION_HISTORY_LIST,"TRANSFUSION_TIME")),void 0===a.hospitalization_history_state||0===a.hospitalization_history_state||1===a.hospitalization_history_state&&0===a.hospitalization_history_list.length?r.HOSPITALIZATION_HISTORY_LIST=[]:(r.HOSPITALIZATION_HISTORY_LIST=[],angular.forEach(a.hospitalization_history_list,function(e){""!==e.HOSPITALIZATION_REASON&&""!==e.HOSPITALIZATION_TIME&&null!==e.HOSPITALIZATION_TIME&&""!==e.DIAGNOSIS&&""!==e.MEDICAL_INSTITUTION_NAME&&r.HOSPITALIZATION_HISTORY_LIST.push(angular.copy(e))}),i.dateObjToString(r.HOSPITALIZATION_HISTORY_LIST,"HOSPITALIZATION_TIME")),void 0===a.family_medical_history_state||0===a.family_medical_history_state||1===a.family_medical_history_state&&0===a.family_medical_history_list.length?r.FAMILY_MEDICAL_HISTORY_LIST=[]:(r.FAMILY_MEDICAL_HISTORY_LIST=[],angular.forEach(a.family_medical_history_list,function(e){""!==e.DISEASE_NAME&&""!==e.RELATIONSHIP&&r.FAMILY_MEDICAL_HISTORY_LIST.push(angular.copy(e))})),void 0===a.genetic_history_state||0===a.genetic_history_state||1===a.genetic_history_state&&0===a.genetic_history_list.length?r.GENETIC_HISTORY_LIST=[]:(r.GENETIC_HISTORY_LIST=[],angular.forEach(a.genetic_history_list,function(e){""!==e.DISEASE_NAME&&r.GENETIC_HISTORY_LIST.push(angular.copy(e))})),i.createResident(r,function(i){e.handleMessage(i,function(){e.alertDialog("创建成功"),t.go("main.resident.residentArchivesListReturn",{TYPE:1})},function(){e.alertDialog("创建失败")})},function(){e.alertDialog("创建失败")})}},a.cancel=function(){t.go("main.resident.residentArchivesList")},a}function residentArchivesEditCtrl(e,t,i,n,o){function a(t){angular.forEach(E,function(i){l[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}function r(){n.getResidentDetailInfo({RESIDENT_KEY_ID:l.RESIDENT_KEY_ID},function(t){e.handleMessage(t,function(e){l.originalInfo=e,c=0===e.IS_SIGNED?1:0,s(e)},function(){e.alertDialog("查询居民基本信息")})},function(){e.alertDialog("查询居民基本信息")})}function s(t){l.fileNum=t.RESIDENT_CODE,l.familyId=t.FAMILY_CODE,l.personName=t.RESIDENT_NAME,l.idNo=t.RESIDENT_ID_NO,l.sexItem=e.selectItem(l.sexCodeName,"DICT_VALUE_CODE",t.RESIDENT_SEX_CODE),l.dateOfBirth=new Date(t.BIRTHDAY),l.nation=e.selectItem(l.nationArr,"DICT_VALUE_CODE",t.NATION_CODE),l.workingAgency=t.WORK_UNIT,l.phone=t.RESIDENT_PHONE_NO,l.resideType=e.selectItem(l.resideTypeArr,"DICT_VALUE_CODE",t.LIVING_TYPE_CODE),l.maritalState=e.selectItem(l.maritalStateArr,"DICT_VALUE_CODE",t.MARITAL_STATUS_CODE),l.householdRegister=e.selectItem(l.householdRegisterArr,"DICT_VALUE_CODE",t.HOUSEHOLD_REGISTER_CODE),l.registerSign=e.selectItem(l.registerSignArr,"DICT_VALUE_CODE",t.RESIDENT_TYPE_CODE),l.householder_symbol=t.HOUSEHOLDER_SYMBOL,void 0!==t.NATIVE_PLACE_PROVINCE_CODE?l.initProvinceValue("nativePlaceProvinceArr","nativePlaceProvince",t.NATIVE_PLACE_PROVINCE_CODE):l.nativePlaceProvince="-1",void 0!==t.NATIVE_PLACE_CITY_CODE?l.initCityValue(t.NATIVE_PLACE_PROVINCE_CODE,"nativePlaceCityArr","nativePlaceCity",t.NATIVE_PLACE_CITY_CODE):l.nativePlaceCity="-1",void 0!==t.REGISTER_PROVINCE_CODE?l.initProvinceValue("registerProvinceArr","registerProvince",t.REGISTER_PROVINCE_CODE):l.registerProvince="-1",void 0!==t.REGISTER_CITY_CODE?l.initCityValue(t.REGISTER_PROVINCE_CODE,"registerCityArr","registerCity",t.REGISTER_CITY_CODE):l.registerCity="-1",void 0!==t.REGISTER_COUNTY_DISTRICT_CODE?l.initCountyValue(t.REGISTER_CITY_CODE,"registerCountyArr","registerCounty",t.REGISTER_COUNTY_DISTRICT_CODE):l.registerCounty="-1",void 0!==t.REGISTER_STREET_TOWNSHIP_CODE?l.initStreetValue(t.REGISTER_COUNTY_DISTRICT_CODE,"registerStreetArr","registerStreet",t.REGISTER_STREET_TOWNSHIP_CODE):l.registerStreet="-1",l.householdRegisterAddress=t.HOUSEHOLD_REGISTER_ADDRESS,void 0!==t.ADDRESS_PROVINCE_CODE?l.initProvinceValue("addressProvinceArr","addressProvince",t.ADDRESS_PROVINCE_CODE):l.addressProvince="-1",void 0!==t.ADDRESS_CITY_CODE?l.initCityValue(t.ADDRESS_PROVINCE_CODE,"addressCityArr","addressCity",t.ADDRESS_CITY_CODE):l.addressCity="-1",void 0!==t.ADDRESS_COUNTY_DISTRICT_CODE?l.initCountyValue(t.ADDRESS_CITY_CODE,"addressCountyArr","addressCounty",t.ADDRESS_COUNTY_DISTRICT_CODE):l.addressCounty="-1",void 0!==t.ADDRESS_STREET_TOWNSHIP_CODE?l.initStreetValue(t.ADDRESS_COUNTY_DISTRICT_CODE,"addressStreetArr","addressStreet",t.ADDRESS_STREET_TOWNSHIP_CODE):l.addressStreet="-1",l.houseAddress=t.HOUSE_ADDRESS,l.bloodType=e.selectItem(l.bloodTypeArr,"DICT_VALUE_CODE",t.BLOOD_TYPE_CODE),l.rhNegative=t.RH_NEGATIVE,l.degreeOfEducation=e.selectItem(l.degreeOfEducationArr,"DICT_VALUE_CODE",t.DEGREE_OF_EDUCATION_CODE),l.careerType=e.selectItem(l.careerTypeArr,"DICT_VALUE_CODE",t.CAREER_TYPE_CODE),l.contactName=t.CONTACT_NAME,l.contactPhoneNo=t.CONTACT_PHONE_NO,l.kitchen_ventilation_system=e.selectItem(l.kitchen_ventilation_system_arr,"DICT_VALUE_CODE",t.KITCHEN_VENTILATION_SYSTEM_CODE),l.fuel_type=e.selectItem(l.fuel_type_arr,"DICT_VALUE_CODE",t.FUEL_TYPE_CODE),l.water_source=e.selectItem(l.water_source_arr,"DICT_VALUE_CODE",t.WATER_SOURCE_CODE),l.toilet_type=e.selectItem(l.toilet_type_arr,"DICT_VALUE_CODE",t.TOILET_TYPE_CODE),l.pinfold_position=e.selectItem(l.pinfold_position_arr,"DICT_VALUE_CODE",t.PINFOLD_POSITION_CODE),l.create_time=new Date(t.CREATE_TIME),l.remark=t.REMARK,l.FAMILY_KEY_ID=t.FAMILY_KEY_ID;var i=t.MEDICAL_EXPENSES_PAYMENT_WAY_CODE?t.MEDICAL_EXPENSES_PAYMENT_WAY_CODE.split(","):[""];""===i[0]?l.medicalExpensesPaymentWaySelected=[]:l.medicalExpensesPaymentWaySelected=n.getItemArrByCodeArr(l.medicalExpensesPaymentWayArr,i,"DICT_VALUE_CODE");var o=t.DRUG_ALLERGY_HISTORY_CODE?t.DRUG_ALLERGY_HISTORY_CODE.split(","):[""];""!==o[0]||void 0!==t.OTHER_DRUG_ALLERGY_HISTORY_NAME&&""!==t.OTHER_DRUG_ALLERGY_HISTORY_NAME?(l.drugAllergyHistoryState=1,l.drugAllergyHistorySelected=n.getItemArrByCodeArr(l.drugAllergyHistoryArr,o,"DICT_VALUE_CODE"),l.other_drug_allergy_history_state=!0,l.other_drug_allergy_history_name=t.OTHER_DRUG_ALLERGY_HISTORY_NAME):(l.drugAllergyHistorySelected=[],l.drugAllergyHistoryState=0,l.other_drug_allergy_history_name="");var a=t.EXPOSURE_HISTORY_CODE?t.EXPOSURE_HISTORY_CODE.split(","):[""];""===a[0]?(l.exposureHistorySelected=[],l.exposureHistoryState=0):(l.exposureHistoryState=1,l.exposureHistorySelected=n.getItemArrByCodeArr(l.exposureHistoryArr,a,"DICT_VALUE_CODE"));var r=t.DEFORMITY_CONDITION_CODE?t.DEFORMITY_CONDITION_CODE.split(","):[""];""!==r[0]||void 0!==t.OTHER_DEFORMITY_CONDITION_NAME&&""!==t.OTHER_DEFORMITY_CONDITION_NAME?(l.deformityConditionState=1,l.deformityConditionSelected=n.getItemArrByCodeArr(l.deformityConditionArr,r,"DICT_VALUE_CODE"),l.other_deformity_condition_state=!0,l.other_deformity_condition_name=t.OTHER_DEFORMITY_CONDITION_NAME):(l.deformityConditionSelected=[],l.deformityConditionState=0,l.other_deformity_condition_name=""),l.disease_history_list=[],void 0===t.DISEASE_HISTORY_LIST||0===t.DISEASE_HISTORY_LIST.length?l.disease_history_tate=0:(l.disease_history_tate=1,l.disease_history_list=n.stringToDateObj(t.DISEASE_HISTORY_LIST,"TIME_OF_DIAGNOSIS")),l.operation_history_list=[],void 0===t.OPERATION_HISTORY_LIST||0===t.OPERATION_HISTORY_LIST.length?l.operation_history_state=0:(l.operation_history_state=1,l.operation_history_list=n.stringToDateObj(t.OPERATION_HISTORY_LIST,"OPERATION_TIME")),l.injury_history_list=[],void 0===t.INJURY_HISTORY_LIST||0===t.INJURY_HISTORY_LIST.length?l.injury_history_state=0:(l.injury_history_state=1,l.injury_history_list=n.stringToDateObj(t.INJURY_HISTORY_LIST,"INJURY_TIME")),l.transfusion_history_list=[],void 0===t.TRANSFUSION_HISTORY_LIST||0===t.TRANSFUSION_HISTORY_LIST.length?l.transfusion_history_state=0:(l.transfusion_history_state=1,l.transfusion_history_list=n.stringToDateObj(t.TRANSFUSION_HISTORY_LIST,"TRANSFUSION_TIME")),l.hospitalization_history_list=[],void 0===t.HOSPITALIZATION_HISTORY||0===t.HOSPITALIZATION_HISTORY.length?l.hospitalization_history_state=0:(l.hospitalization_history_state=1,l.hospitalization_history_list=n.stringToDateObj(t.HOSPITALIZATION_HISTORY,"HOSPITALIZATION_TIME")),l.family_medical_history_list=[],void 0===t.FAMILY_MEDICAL_HISTORY_LIST||0===t.FAMILY_MEDICAL_HISTORY_LIST.length?l.family_medical_history_state=0:(l.family_medical_history_state=1,l.family_medical_history_list=t.FAMILY_MEDICAL_HISTORY_LIST),l.genetic_history_list=[],void 0===t.GENETIC_HISTORY_LIST||0===t.GENETIC_HISTORY_LIST.length?l.genetic_history_state=0:(l.genetic_history_state=1,l.genetic_history_list=t.GENETIC_HISTORY_LIST)}var l=this,c=0;l.editable=!1,l.hasSideNav=!0,l.show_householder_symbol=!0,l.RESIDENT_KEY_ID=i.RESIDENT_KEY_ID,l.medicalExpensesPaymentWaySelected=[],l.drugAllergyHistorySelected=[],l.exposureHistorySelected=[],l.deformityConditionSelected=[];var E=[{DICT_TYPE_CODE:"0009",LIST_NAME:"sexCodeName"},{DICT_TYPE_CODE:"0010",LIST_NAME:"nationArr"},{DICT_TYPE_CODE:"0007001",LIST_NAME:"resideTypeArr"},{DICT_TYPE_CODE:"0011",LIST_NAME:"maritalStateArr"},{DICT_TYPE_CODE:"0008001",LIST_NAME:"householdRegisterArr"},{DICT_TYPE_CODE:"0007002",LIST_NAME:"registerSignArr"},{DICT_TYPE_CODE:"0008002",LIST_NAME:"bloodTypeArr"},{DICT_TYPE_CODE:"0008003",LIST_NAME:"degreeOfEducationArr"},{DICT_TYPE_CODE:"0008004",LIST_NAME:"careerTypeArr"},{DICT_TYPE_CODE:"0012",LIST_NAME:"medicalExpensesPaymentWayArr"},{DICT_TYPE_CODE:"0008005",LIST_NAME:"drugAllergyHistoryArr"},{DICT_TYPE_CODE:"0008006",LIST_NAME:"exposureHistoryArr"},{DICT_TYPE_CODE:"0008007",LIST_NAME:"deformityConditionArr"},{DICT_TYPE_CODE:"0007006",LIST_NAME:"kitchen_ventilation_system_arr"},{DICT_TYPE_CODE:"0007007",LIST_NAME:"fuel_type_arr"},{DICT_TYPE_CODE:"0007008",LIST_NAME:"water_source_arr"},{DICT_TYPE_CODE:"0007009",LIST_NAME:"toilet_type_arr"},{DICT_TYPE_CODE:"0007010",LIST_NAME:"pinfold_position_arr"}];return l.exists=function(e,t){return t.indexOf(e)>-1},l.toggle=function(e,t){var i=t.indexOf(e);i>-1?t.splice(i,1):t.push(e)},e.commonService("getDictList",{DICT_TYPE_CODE_LIST:E},function(t){e.handleMessage(t,function(e){l.dictList=e,a(e),r()},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")}),l.remove=function(e,t){t.splice(e,1)},l.checkIdNo=function(t){n.isEmptyObject(t.idNo.$error)&&n.checkIdNo({RESIDENT_KEY_ID:l.RESIDENT_KEY_ID,RESIDENT_ID_NO:l.idNo},function(t){e.handleMessage(t,function(t){t&&e.alertDialog("根据身份证号验证，该居民已创建过档案，不能重复创建")},function(){e.alertDialog("身份证查重失败")})},function(){e.alertDialog("身份证查重失败")})},l.drugAllergyHistoryArr=[],l.exposureHistoryArr=[],l.deformityConditionArr=[],l.disease_history_list=[],l.operation_history_list=[],l.injury_history_list=[],l.transfusion_history_list=[],l.hospitalization_history_list=[],l.family_medical_history_list=[],l.genetic_history_list=[],l.addDiseaseHistory=function(){l.disease_history_list.push({DISEASE_NAME:"",TIME_OF_DIAGNOSIS:null,REMARK:""})},l.disease_history_tate_change=function(){0===l.disease_history_tate?l.disease_history_list=[]:1===l.disease_history_tate&&l.addDiseaseHistory()},l.addOperationHistory=function(){l.operation_history_list.push({OPERATION_NAME:"",OPERATION_TIME:null,OPERATION_DIAGNOSIS:"",REMARK:""})},l.operation_history_state_change=function(){0===l.operation_history_state?l.operation_history_list=[]:1===l.operation_history_state&&l.addOperationHistory()},l.addInjuryHistory=function(){l.injury_history_list.push({INJURY_NAME:"",INJURY_TIME:null,REMARK:""})},l.injury_history_state_change=function(){0===l.injury_history_state?l.injury_history_list=[]:1===l.injury_history_state&&l.addInjuryHistory()},l.addTransfusionHistory=function(){l.transfusion_history_list.push({TRANSFUSION_REASON:"",TRANSFUSION_TIME:null,TRANSFUSION_VOLUME:"",REMARK:""})},l.transfusion_history_state_change=function(){0===l.transfusion_history_state?l.transfusion_history_list=[]:1===l.transfusion_history_state&&l.addTransfusionHistory()},l.addHospitalizationHistory=function(){l.hospitalization_history_list.push({HOSPITALIZATION_REASON:"",HOSPITALIZATION_TIME:null,DIAGNOSIS:"",MEDICAL_INSTITUTION_NAME:"",REMARK:""})},l.hospitalization_history_state_change=function(){0===l.hospitalization_history_state?l.hospitalization_history_list=[]:1===l.hospitalization_history_state&&l.addHospitalizationHistory()},l.addFamilyMedicalHistory=function(){l.family_medical_history_list.push({DISEASE_NAME:"",RELATIONSHIP:"",REMARK:""})},l.family_medical_history_state_change=function(){0===l.family_medical_history_state?l.family_medical_history_list=[]:1===l.family_medical_history_state&&l.addFamilyMedicalHistory()},l.addGeneticHistory=function(){l.genetic_history_list.push({DISEASE_NAME:"",REMARK:""})},l.genetic_history_state_change=function(){0===l.genetic_history_state?l.genetic_history_list=[]:1===l.genetic_history_state&&l.addGeneticHistory()},l.changeAddress=function(e){switch(e){case 11:l.nativePlaceCity="-1";break;case 21:l.registerCity="-1",l.registerCounty="-1",l.registerStreet="-1";break;case 22:l.registerCounty="-1",l.registerStreet="-1";break;case 23:l.registerStreet="-1";break;case 31:l.addressCity="-1",l.addressCounty="-1",l.addressStreet="-1";break;case 32:l.addressCounty="-1",l.addressStreet="-1";break;case 33:l.addressStreet="-1"}},l.initProvinceList=function(t,i,n){var o=void 0;o=l[n]+""=="-1"?"-1":l[n].PROVINCE_CODE,t||e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(t){l[i]=t,o+""=="-1"?l[n]="-1":l[n]=e.selectItem(l[i],"PROVINCE_CODE",o)},function(){l[i]=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})},l.initProvinceValue=function(t,i,n){e.commonService("getProvinceList","",function(o){e.handleMessage(o,function(o){l[t]=o,l[i]=e.selectItem(l[t],"PROVINCE_CODE",n)},function(){l[t]=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})},l.initCityListOfCertainProvince=function(t,i,n){if(l[t]+""=="-1")return void(l[i]=[]);var o={PROVINCE_CODE:l[t].PROVINCE_CODE},a=void 0;a=l[n]+""=="-1"?"-1":l[n].CITY_CODE,e.commonService("getCityListOfCertainProvince",o,function(t){e.handleMessage(t,function(t){l[i]=t,a+""=="-1"?l[n]="-1":l[n]=e.selectItem(l[i],"CITY_CODE",a)},function(){l[i]=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})},l.initCityValue=function(t,i,n,o){var a={PROVINCE_CODE:t};e.commonService("getCityListOfCertainProvince",a,function(t){e.handleMessage(t,function(t){l[i]=t,l[n]=e.selectItem(l[i],"CITY_CODE",o)},function(){
l[i]=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})},l.initCountyListOfCertainCity=function(t,i,n){if("-1"===l[t])return void(l[i]=[]);var o={CITY_CODE:l[t].CITY_CODE},a=void 0;a=l[n]+""=="-1"?"-1":l[n].COUNTY_DISTRICT_CODE,e.commonService("getCountyListOfCertainCity",o,function(t){e.handleMessage(t,function(t){l[i]=t,a+""=="-1"?l[n]="-1":l[n]=e.selectItem(l[i],"COUNTY_DISTRICT_CODE",a)},function(){l[i]=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")})},l.initCountyValue=function(t,i,n,o){var a={CITY_CODE:t};e.commonService("getCountyListOfCertainCity",a,function(t){e.handleMessage(t,function(t){l[i]=t,l[n]=e.selectItem(l[i],"COUNTY_DISTRICT_CODE",o)},function(){l[i]=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")})},l.initSubdistrictListOfCertainCounty=function(t,i,n){if("-1"===l[t])return void(l[i]=[]);var o={COUNTY_DISTRICT_CODE:l[t].COUNTY_DISTRICT_CODE},a=void 0;a=l[n]+""=="-1"?"-1":l[n].STREET_TOWNSHIP_NAME,e.commonService("getSubdistrictListOfCertainCounty",o,function(t){e.handleMessage(t,function(t){l[i]=t,a+""=="-1"?l[n]="-1":l[n]=e.selectItem(l[i],"STREET_TOWNSHIP_NAME",a)},function(){l[i]=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})},l.initStreetValue=function(t,i,n,o){var a={COUNTY_DISTRICT_CODE:t};e.commonService("getSubdistrictListOfCertainCounty",a,function(t){e.handleMessage(t,function(t){l[i]=t,l[n]=e.selectItem(l[i],"STREET_TOWNSHIP_CODE",o)},function(){l[i]=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})},l.save=function(t){if(e.check(t)){var i={RESIDENT_NAME:l.personName,RESIDENT_ID_NO:l.idNo,RESIDENT_SEX_CODE:l.sexItem.DICT_VALUE_CODE,RESIDENT_SEX_NAME:l.sexItem.DICT_VALUE_NAME,BIRTHDAY:o("commonDate")(l.dateOfBirth),NATION_CODE:l.nation.DICT_VALUE_CODE,NATION_NAME:l.nation.DICT_VALUE_NAME,WORK_UNIT:l.workingAgency,RESIDENT_PHONE_NO:l.phone,LIVING_TYPE_CODE:l.resideType?l.resideType.DICT_VALUE_CODE:"",LIVING_TYPE_NAME:l.resideType?l.resideType.DICT_VALUE_NAME:"",MARITAL_STATUS_CODE:l.maritalState?l.maritalState.DICT_VALUE_CODE:"",MARITAL_STATUS_NAME:l.maritalState?l.maritalState.DICT_VALUE_NAME:"",HOUSEHOLD_REGISTER_CODE:l.householdRegister?l.householdRegister.DICT_VALUE_CODE:"",HOUSEHOLD_REGISTER_NAME:l.householdRegister?l.householdRegister.DICT_VALUE_NAME:"",RESIDENT_TYPE_CODE:l.registerSign.DICT_VALUE_CODE,RESIDENT_TYPE_NAME:l.registerSign.DICT_VALUE_NAME,NATIVE_PLACE_PROVINCE_CODE:l.nativePlaceProvince?l.nativePlaceProvince.PROVINCE_CODE:"",NATIVE_PLACE_PROVINCE_NAME:l.nativePlaceProvince?l.nativePlaceProvince.PROVINCE_NAME:"",NATIVE_PLACE_CITY_CODE:l.nativePlaceCity?l.nativePlaceCity.CITY_CODE:"",NATIVE_PLACE_CITY_NAME:l.nativePlaceCity?l.nativePlaceCity.CITY_NAME:"",REGISTER_PROVINCE_CODE:l.registerProvince?l.registerProvince.PROVINCE_CODE:"",REGISTER_PROVINCE_NAME:l.registerProvince?l.registerProvince.PROVINCE_NAME:"",REGISTER_CITY_CODE:l.registerCity?l.registerCity.CITY_CODE:"",REGISTER_CITY_NAME:l.registerCity?l.registerCity.CITY_NAME:"",REGISTER_COUNTY_DISTRICT_CODE:l.registerCounty?l.registerCounty.COUNTY_DISTRICT_CODE:"",REGISTER_COUNTY_DISTRICT_NAME:l.registerCounty?l.registerCounty.COUNTY_DISTRICT_NAME:"",REGISTER_STREET_TOWNSHIP_CODE:l.registerStreet?l.registerStreet.STREET_TOWNSHIP_CODE:"",REGISTER_STREET_TOWNSHIP_NAME:l.registerStreet?l.registerStreet.STREET_TOWNSHIP_NAME:"",HOUSEHOLD_REGISTER_ADDRESS:l.householdRegisterAddress?l.householdRegisterAddress:"",ADDRESS_PROVINCE_CODE:l.addressProvince?l.addressProvince.PROVINCE_CODE:"",ADDRESS_PROVINCE_NAME:l.addressProvince?l.addressProvince.PROVINCE_NAME:"",ADDRESS_CITY_CODE:l.addressCity?l.addressCity.CITY_CODE:"",ADDRESS_CITY_NAME:l.addressCity?l.addressCity.CITY_NAME:"",ADDRESS_COUNTY_DISTRICT_CODE:l.addressCounty?l.addressCounty.COUNTY_DISTRICT_CODE:"",ADDRESS_COUNTY_DISTRICT_NAME:l.addressCounty?l.addressCounty.COUNTY_DISTRICT_NAME:"",ADDRESS_STREET_TOWNSHIP_CODE:l.addressStreet?l.addressStreet.STREET_TOWNSHIP_CODE:"",ADDRESS_STREET_TOWNSHIP_NAME:l.addressStreet?l.addressStreet.STREET_TOWNSHIP_NAME:"",HOUSE_ADDRESS:l.houseAddress?l.houseAddress:"",BLOOD_TYPE_CODE:l.bloodType.DICT_VALUE_CODE,BLOOD_TYPE_NAME:l.bloodType.DICT_VALUE_NAME,RH_NEGATIVE:l.rhNegative,DEGREE_OF_EDUCATION_CODE:l.degreeOfEducation?l.degreeOfEducation.DICT_VALUE_CODE:"",DEGREE_OF_EDUCATION_NAME:l.degreeOfEducation?l.degreeOfEducation.DICT_VALUE_NAME:"",CAREER_TYPE_CODE:l.careerType?l.careerType.DICT_VALUE_CODE:"",CAREER_TYPE_NAME:l.careerType?l.careerType.DICT_VALUE_NAME:"",CONTACT_NAME:l.contactName,CONTACT_PHONE_NO:l.contactPhoneNo,KITCHEN_VENTILATION_SYSTEM_CODE:l.kitchen_ventilation_system?l.kitchen_ventilation_system.DICT_VALUE_CODE:"",KITCHEN_VENTILATION_SYSTEM_NAME:l.kitchen_ventilation_system?l.kitchen_ventilation_system.DICT_VALUE_NAME:"",FUEL_TYPE_CODE:l.fuel_type?l.fuel_type.DICT_VALUE_CODE:"",FUEL_TYPE_NAME:l.fuel_type?l.fuel_type.DICT_VALUE_NAME:"",WATER_SOURCE_CODE:l.water_source?l.water_source.DICT_VALUE_CODE:"",WATER_SOURCE_NAME:l.water_source?l.water_source.DICT_VALUE_NAME:"",TOILET_TYPE_CODE:l.toilet_type?l.toilet_type.DICT_VALUE_CODE:"",TOILET_TYPE_NAME:l.toilet_type?l.toilet_type.DICT_VALUE_NAME:"",PINFOLD_POSITION_CODE:l.pinfold_position?l.pinfold_position.DICT_VALUE_CODE:"",PINFOLD_POSITION_NAME:l.pinfold_position?l.pinfold_position.DICT_VALUE_NAME:"",REMARK:l.remark||""};if(void 0!==i.REGISTER_PROVINCE_CODE&&""===i.HOUSEHOLD_REGISTER_ADDRESS)return void e.alertDialog("请填写完整的户籍地址");if(void 0!==i.ADDRESS_PROVINCE_CODE&&""===i.HOUSE_ADDRESS)return void e.alertDialog("请填写完整的居住地址");if(void 0===l.medicalExpensesPaymentWaySelected||0===l.medicalExpensesPaymentWaySelected.length)return void e.alertDialog("医疗费用支付方式为必选");var a=n.objectToString(l.medicalExpensesPaymentWaySelected);if(i.MEDICAL_EXPENSES_PAYMENT_WAY_CODE=a.CODE,i.MEDICAL_EXPENSES_PAYMENT_WAY_NAME=a.NAME,void 0===l.drugAllergyHistoryState)return void e.alertDialog("药物过敏史为必选");if(0===l.drugAllergyHistoryState)i.DRUG_ALLERGY_HISTORY_CODE="",i.DRUG_ALLERGY_HISTORY_NAME="",i.OTHER_DRUG_ALLERGY_HISTORY_NAME="";else{if((void 0===l.drugAllergyHistorySelected||0===l.drugAllergyHistorySelected.length)&&l.other_drug_allergy_history_state!==!0||l.other_drug_allergy_history_state===!0&&(void 0===l.other_drug_allergy_history_name||""===l.other_drug_allergy_history_name.replace(/(^\s*)|(\s*$)/g,"")))return void e.alertDialog("请填写完整的药物过敏史");var s=n.objectToString(l.drugAllergyHistorySelected);i.DRUG_ALLERGY_HISTORY_CODE=s.CODE,i.DRUG_ALLERGY_HISTORY_NAME=s.NAME,i.OTHER_DRUG_ALLERGY_HISTORY_NAME=l.other_drug_allergy_history_name}if(void 0===l.exposureHistoryState)return void e.alertDialog("暴露史为必选");if(0===l.exposureHistoryState)i.EXPOSURE_HISTORY_CODE="",i.EXPOSURE_HISTORY_NAME="";else{if(void 0===l.exposureHistorySelected||0===l.exposureHistorySelected.length)return void e.alertDialog("请填写完整的暴露史");var c=n.objectToString(l.exposureHistorySelected);i.EXPOSURE_HISTORY_CODE=c.CODE,i.EXPOSURE_HISTORY_NAME=c.NAME}if(1!==l.deformityConditionState)i.DEFORMITY_CONDITION_CODE="",i.DEFORMITY_CONDITION_NAME="",i.OTHER_DEFORMITY_CONDITION_NAME="";else{if((void 0===l.deformityConditionSelected||0===l.deformityConditionSelected.length)&&l.other_deformity_condition_state!==!0||l.other_deformity_condition_state===!0&&(void 0===l.other_deformity_condition_name||""===l.other_deformity_condition_name.replace(/(^\s*)|(\s*$)/g,"")))return void e.alertDialog("请填写完整的残疾情况");var E=n.objectToString(l.deformityConditionSelected);i.DEFORMITY_CONDITION_CODE=E.CODE,i.DEFORMITY_CONDITION_NAME=E.NAME,i.OTHER_DEFORMITY_CONDITION_NAME=l.other_deformity_condition_name}void 0===l.disease_history_tate||0===l.disease_history_tate||1===l.disease_history_tate&&0===l.disease_history_list.length?i.DISEASE_HISTORY_LIST=[]:(i.DISEASE_HISTORY_LIST=[],angular.forEach(l.disease_history_list,function(e){""!==e.DISEASE_NAME&&""!==e.TIME_OF_DIAGNOSIS&&null!==e.TIME_OF_DIAGNOSIS&&i.DISEASE_HISTORY_LIST.push(angular.copy(e))}),n.dateObjToString(i.DISEASE_HISTORY_LIST,"TIME_OF_DIAGNOSIS")),void 0===l.operation_history_state||0===l.operation_history_state||1===l.operation_history_state&&0===l.operation_history_list.length?i.OPERATION_HISTORY_LIST=[]:(i.OPERATION_HISTORY_LIST=[],angular.forEach(l.operation_history_list,function(e){""!==e.OPERATION_NAME&&""!==e.OPERATION_TIME&&null!==e.OPERATION_TIME&&""!==e.OPERATION_DIAGNOSIS&&i.OPERATION_HISTORY_LIST.push(angular.copy(e))}),n.dateObjToString(i.OPERATION_HISTORY_LIST,"OPERATION_TIME")),void 0===l.injury_history_state||0===l.injury_history_state||1===l.injury_history_state&&0===l.injury_history_list.length?i.INJURY_HISTORY_LIST=[]:(i.INJURY_HISTORY_LIST=[],angular.forEach(l.injury_history_list,function(e){""!==e.INJURY_NAME&&""!==e.INJURY_TIME&&null!==e.INJURY_TIME&&i.INJURY_HISTORY_LIST.push(angular.copy(e))}),n.dateObjToString(i.INJURY_HISTORY_LIST,"INJURY_TIME")),void 0===l.transfusion_history_state||0===l.transfusion_history_state||1===l.transfusion_history_state&&0===l.transfusion_history_list.length?i.TRANSFUSION_HISTORY_LIST=[]:(i.TRANSFUSION_HISTORY_LIST=[],angular.forEach(l.transfusion_history_list,function(e){""!==e.TRANSFUSION_REASON&&""!==e.TRANSFUSION_TIME&&null!==e.TRANSFUSION_TIME&&""!==e.TRANSFUSION_VOLUME&&i.TRANSFUSION_HISTORY_LIST.push(angular.copy(e))}),n.dateObjToString(i.TRANSFUSION_HISTORY_LIST,"TRANSFUSION_TIME")),void 0===l.hospitalization_history_state||0===l.hospitalization_history_state||1===l.hospitalization_history_state&&0===l.hospitalization_history_list.length?i.HOSPITALIZATION_HISTORY_LIST=[]:(i.HOSPITALIZATION_HISTORY_LIST=[],angular.forEach(l.hospitalization_history_list,function(e){""!==e.HOSPITALIZATION_REASON&&""!==e.HOSPITALIZATION_TIME&&null!==e.HOSPITALIZATION_TIME&&""!==e.DIAGNOSIS&&""!==e.MEDICAL_INSTITUTION_NAME&&i.HOSPITALIZATION_HISTORY_LIST.push(angular.copy(e))}),n.dateObjToString(i.HOSPITALIZATION_HISTORY_LIST,"HOSPITALIZATION_TIME")),void 0===l.family_medical_history_state||0===l.family_medical_history_state||1===l.family_medical_history_state&&0===l.family_medical_history_list.length?i.FAMILY_MEDICAL_HISTORY_LIST=[]:(i.FAMILY_MEDICAL_HISTORY_LIST=[],angular.forEach(l.family_medical_history_list,function(e){""!==e.DISEASE_NAME&&""!==e.RELATIONSHIP&&i.FAMILY_MEDICAL_HISTORY_LIST.push(angular.copy(e))})),void 0===l.genetic_history_state||0===l.genetic_history_state||1===l.genetic_history_state&&0===l.genetic_history_list.length?i.GENETIC_HISTORY_LIST=[]:(i.GENETIC_HISTORY_LIST=[],angular.forEach(l.genetic_history_list,function(e){""!==e.DISEASE_NAME&&i.GENETIC_HISTORY_LIST.push(angular.copy(e))})),i.RESIDENT_KEY_ID=l.RESIDENT_KEY_ID,n.editResidentInfo(i,function(t){e.handleMessage(t,function(){l.editable=!l.editable,r()},function(){e.alertDialog("编辑失败")})},function(){e.alertDialog("编辑失败")})}},l.cancel=function(t){t.$dirty?e.confirmDialog("您确定要放弃保存吗?",function(){s(l.originalInfo),l.editable=!l.editable},function(){}):l.editable=!l.editable},l.back=function(){t.go("main.resident.residentArchivesListReturn",{TYPE:c})},l.edit=function(e){e.$setPristine(),e.$setUntouched(),l.editable=!l.editable},l}function residentArchivesListCtrl(e,t,i,n,o){var a=this;a.isDownloading=!1,a.selectedIndex=t.params.TYPE?t.params.TYPE:0,a.residentAddressProvince="-1",a.residentAddressCity="-1",a.residentAddressCounty="-1",a.residentAddressStreet="-1",a.residentSex="-1";var r={},s={},l=null,c=null,E=null;return a.searchTerm,a.selectedDoctoer={},a.doctor=[],a.getDoctorList=function(){i.getDoctorListOrganizationConstraint({DOCTOR_NAME:a.searchTerm},function(t){e.handleMessage(t,function(e){a.doctor=e},function(){e.alertDialog("获取医生列表失败")})},function(){e.alertDialog("获取医生列表失败")})},a.clearSearchTerm=function(){if(a.searchTerm="",void 0!==a.selectedDoctor){var t=e.selectItem(a.doctor,"FAMILY_DOCTOR_KEY_ID",a.selectedDoctor.FAMILY_DOCTOR_KEY_ID);void 0!==t?a.selectedDoctor=t:(a.doctor=[],a.doctor.push(t),a.selectedDoctor=a.doctor[0])}},a.getSearchTerm=function(){a.searchTerm=a.selectedDoctor?a.selectedDoctor.DOCTOR_NAME:void 0,a.searchTermChange()},angular.element('input[name="doctor"]').on("keydown",function(e){e.stopPropagation()}),a.searchTermChange=function(){""!==a.searchTerm&&void 0!==a.searchTerm&&a.getDoctorList()},a.initSexList=function(t){t||i.getResidentSexList("",function(t){e.handleMessage(t,function(e){a.residentSexs=e},function(){a.residentSexs=[],e.alertDialog("获取性别列表失败")})},function(){e.alertDialog("获取性别列表失败")})},a.initProvinceList=function(t){t||e.commonService("getProvinceList","",function(t){e.handleMessage(t,function(e){a.residentAddressProvinces=e},function(){a.residentAddressProvinces=[],e.alertDialog("获取省列表失败")})},function(){e.alertDialog("获取省列表失败")})},a.initCityListOfCertainProvince=function(){if("-1"===a.residentAddressProvince)return void(a.residentAddressCitys=[]);if(!l||l!==a.residentAddressProvince.PROVINCE_CODE){var t={PROVINCE_CODE:a.residentAddressProvince.PROVINCE_CODE};l=a.residentAddressProvince.PROVINCE_CODE,e.commonService("getCityListOfCertainProvince",t,function(t){e.handleMessage(t,function(e){a.residentAddressCitys=e},function(){a.residentAddressCitys=[],e.alertDialog("获取市列表失败")})},function(){e.alertDialog("获取市列表失败")})}},a.initCountyListOfCertainCity=function(){if("-1"===a.residentAddressCity)return void(a.residentAddressCountys=[]);if(!c||c!==a.residentAddressCity.CITY_CODE){var t={CITY_CODE:a.residentAddressCity.CITY_CODE};c=a.residentAddressCity.CITY_CODE,e.commonService("getCountyListOfCertainCity",t,function(t){e.handleMessage(t,function(e){a.residentAddressCountys=e},function(){a.residentAddressCountys=[],e.alertDialog("获取区/县失败")})},function(){e.alertDialog("获取区/县失败")})}},a.initSubdistrictListOfCertainCounty=function(){if("-1"===a.residentAddressCounty)return void(a.residentAddressStreets=[]);if(!E||E!==a.residentAddressCounty.COUNTY_DISTRICT_CODE){var t={COUNTY_DISTRICT_CODE:a.residentAddressCounty.COUNTY_DISTRICT_CODE};E=a.residentAddressCounty.COUNTY_DISTRICT_CODE,e.commonService("getSubdistrictListOfCertainCounty",t,function(t){e.handleMessage(t,function(e){a.residentAddressStreets=e},function(){a.residentAddressStreets=[],e.alertDialog("获取街道列表失败")})},function(){e.alertDialog("获取街道列表失败")})}},a.changeAddress=function(e){switch(e){case 1:a.residentAddressCity="-1",a.residentAddressCounty="-1",a.residentAddressStreet="-1";break;case 2:a.residentAddressCounty="-1",a.residentAddressStreet="-1";break;case 3:a.residentAddressStreet="-1"}},a.searchTextChange=function(t){var o={DOCTOR_NAME:t},a=n.defer();return i.getDoctorListOrganizationConstraint(o,function(t){e.handleMessage(t,function(e){a.resolve(e)},function(){a.resolve([])})},function(){}),a.promise},a.create=function(){t.go("main.resident.residentArchivesAdd")},a.initTableData=function(t){return a.startAge&&a.endAge&&a.endAge<a.startAge?void e.alertDialog("开始年龄不能大于结束年龄"):void(0===t?(s={IS_SIGNED:!0,FAMILY_DOCTOR_KEY_ID:a.selectedDoctor?a.selectedDoctor.FAMILY_DOCTOR_KEY_ID:null,START_AGE:a.startAge?a.startAge:null,END_AGE:a.endAge?a.endAge:null,RESIDENT_SEX_CODE:"-1"===a.residentSex?null:a.residentSex.DICT_VALUE_CODE,ADDRESS_PROVINCE_CODE:"-1"===a.residentAddressProvince?null:a.residentAddressProvince.PROVINCE_CODE,ADDRESS_CITY_CODE:"-1"===a.residentAddressCity?null:a.residentAddressCity.CITY_CODE,ADDRESS_COUNTY_DISTRICT_CODE:"-1"===a.residentAddressCounty?null:a.residentAddressCounty.COUNTY_DISTRICT_CODE,ADDRESS_STREET_TOWNSHIP_CODE:"-1"===a.residentAddressStreet?null:a.residentAddressStreet.STREET_TOWNSHIP_CODE,RESIDENT_ID_NO:a.residentIdNo?a.residentIdNo:null,RESIDENT_PHONE_NO:a.residentPhone?a.residentPhone:null,RESIDENT_NAME:a.residentName?a.residentName:null},i.getResidentSignedListHtml(a,s)):(r={IS_SIGNED:null,FAMILY_DOCTOR_KEY_ID:a.selectedDoctor?a.selectedDoctor.FAMILY_DOCTOR_KEY_ID:null,START_AGE:a.startAge?a.startAge:null,END_AGE:a.endAge?a.endAge:null,RESIDENT_SEX_CODE:"-1"===a.residentSex?null:a.residentSex.DICT_VALUE_CODE,ADDRESS_PROVINCE_CODE:"-1"===a.residentAddressProvince?null:a.residentAddressProvince.PROVINCE_CODE,ADDRESS_CITY_CODE:"-1"===a.residentAddressCity?null:a.residentAddressCity.CITY_CODE,ADDRESS_COUNTY_DISTRICT_CODE:"-1"===a.residentAddressCounty?null:a.residentAddressCounty.COUNTY_DISTRICT_CODE,ADDRESS_STREET_TOWNSHIP_CODE:"-1"===a.residentAddressStreet?null:a.residentAddressStreet.STREET_TOWNSHIP_CODE,RESIDENT_ID_NO:a.residentIdNo?a.residentIdNo:null,RESIDENT_PHONE_NO:a.residentPhone?a.residentPhone:null,RESIDENT_NAME:a.residentName?a.residentName:null},i.getResidentListHtml(a,r)))},a.initTableData(0),a.initTableData(1),a.downLoadFile=function(t){a.isDownloading=!0,0===t?i.downloadOrganizationList(s,function(t){e.handleMessage(t,function(e){o.downloadFile(e.fileName,"居民档案信息.xls"),a.isDownloading=!1},function(){a.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){a.isDownloading=!1,e.alertDialog("信息导出失败")}):i.downloadOrganizationList(r,function(t){e.handleMessage(t,function(e){o.downloadFile(e.fileName,"居民档案信息.xls"),a.isDownloading=!1},function(){a.isDownloading=!1,e.alertDialog("信息导出失败")})},function(){a.isDownloading=!1,e.alertDialog("信息导出失败")})},a}function residentArchivesSidebarCtrl(e,t,i,n){var o=this;return o.FAMILY_KEY_ID=0,o.RESIDENT_KEY_ID=i.RESIDENT_KEY_ID,n.getResidentDiseaseFlag({RESIDENT_KEY_ID:o.RESIDENT_KEY_ID},function(t){e.handleMessage(t,function(e){o.FAMILY_KEY_ID=e.FAMILY_KEY_ID+""=="0"?null:e.FAMILY_KEY_ID,o.PHYSICAL_RECORD_KEY_ID=e.PHYSICAL_RECORD_KEY_ID+""=="0"?null:e.PHYSICAL_RECORD_KEY_ID,o.HYPERTENSION_RECORD_KEY_ID=e.HYPERTENSION_RECORD_KEY_ID+""=="0"?null:e.HYPERTENSION_RECORD_KEY_ID,o.DIABETES_RECORD_KEY_ID=e.DIABETES_RECORD_KEY_ID+""=="0"?null:e.DIABETES_RECORD_KEY_ID,o.RESIDENT_NAME=e.RESIDENT_NAME},function(){e.alertDialog("查询标志信息失败")})},function(){e.alertDialog("查询标志信息失败")}),n.getSignedDoctor({RESIDENT_KEY_ID:o.RESIDENT_KEY_ID},function(t){e.handleMessage(t,function(e){null===e?o.signedDoctorName=void 0:o.signedDoctorName=e.DOCTOR_NAME},function(){e.alertDialog("查询签约医生姓名失败")})},function(){e.alertDialog("查询签约医生姓名失败")}),o.currentTab="basicArchive",o.tabShow=!0,o.tabClick=function(e){o.currentTab===e?o.tabShow=!o.tabShow:(o.tabShow=!0,o.currentTab=e)},e.$on("url-change",function(){o.judgePage()}),o.judgePage=function(){e.isContains(t.current.name,"Examination")?o.currentPage="examination":e.isContains(t.current.name,"Identification")?o.currentPage="identification":e.isContains(t.current.name,"family")?o.currentPage="family":e.isContains(t.current.name,"hypertension")?o.currentPage="hypertension":e.isContains(t.current.name,"diabetes")?o.currentPage="diabetes":o.currentPage="basic"},o.judgePage(),o.gotoResidentArchive=function(){o.currentPage="basic",t.go("main.resident.residentArchivesSidebar.detail.residentArchivesEdit",{RESIDENT_KEY_ID:o.RESIDENT_KEY_ID})},o.gotoFamilyArchive=function(){o.currentPage="family",t.go("main.resident.residentArchivesSidebar.detail.familyArchivesEdit",{FAMILY_KEY_ID:o.FAMILY_KEY_ID})},o.gotoFamilyMember=function(){o.currentPage="family",t.go("main.resident.residentArchivesSidebar.detail.familyMember",{FAMILY_KEY_ID:o.FAMILY_KEY_ID})},o.gotoPhysicalExaminationRecords=function(){o.currentPage="examination",t.go("main.resident.residentArchivesSidebar.detail.physicalExamination",{RESIDENT_KEY_ID:o.RESIDENT_KEY_ID})},o.gotoPhysicalIdentification=function(){o.currentPage="identification",t.go("main.resident.residentArchivesSidebar.detail.physicalIdentification",{RESIDENT_KEY_ID:o.RESIDENT_KEY_ID})},o.gotoHypertensionArchive=function(){o.currentPage="hypertension",t.go("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.hypertensionEdit",{RESIDENT_KEY_ID:o.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:o.HYPERTENSION_RECORD_KEY_ID})},o.gotoDiabetesArchive=function(){o.currentPage="diabetes",t.go("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.diabetesEdit",{DIABETES_RECORD_KEY_ID:o.DIABETES_RECORD_KEY_ID})},o}function residentBehaviorListCtrl(e,t,i){var n=this;return n}function residentMedicalListCtrl(e,t,i){var n=this;return n}function residentArchivesService(e,t,i,n){function o(e){var t=e.getFullYear(),i=e.getMonth()+1,n=e.getDate();return t+"-"+i+"-"+n}var a=this;return a.getResidentSexList=function(e,t,n){i.getResidentSexList(JSON.stringify(e)).$promise.then(t,n)},a.getDoctorListOrganizationConstraint=function(e,t,n){i.getDoctorListOrganizationConstraint(JSON.stringify(e)).$promise.then(t,n)},a.downloadOrganizationList=function(e,t,n){i.exportResidentListExcel(JSON.stringify(e)).$promise.then(t,n)},a.getResidentListHtml=function(o,a){function r(t,n,o){i.getResidentList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:a,columns:[{field:"RESIDENT_NAME",title:"姓名",align:"center",formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,i,n){t.go("main.resident.residentArchivesSidebar.detail.residentArchivesEdit",{RESIDENT_KEY_ID:n.RESIDENT_KEY_ID})}}},{field:"RESIDENT_SEX_NAME",title:"性别",align:"center"},{field:"BIRTHDAY",title:"出生日期",align:"center"},{field:"RESIDENT_PHONE_NO",title:"联系方式",align:"center"},{field:"REGISTER_ADDRESS",title:"居住地址",align:"center"},{field:"CREATE_TIME",title:"建档时间",align:"center"}]};o.residentTableData={bsTableControl:{options:n.initOption(s)}}},a.getResidentSignedListHtml=function(o,a){function r(t,n,o){i.getResidentList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:a,columns:[{field:"RESIDENT_NAME",title:"姓名",align:"center",formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,i,n){t.go("main.resident.residentArchivesSidebar.detail.residentArchivesEdit",{RESIDENT_KEY_ID:n.RESIDENT_KEY_ID})}}},{field:"RESIDENT_SEX_NAME",title:"性别",align:"center"},{field:"BIRTHDAY",title:"出生日期",align:"center"},{field:"RESIDENT_PHONE_NO",title:"联系方式",align:"center"},{field:"REGISTER_ADDRESS",title:"居住地址",align:"center"},{field:"CREATE_TIME",title:"建档时间",align:"center"},{field:"DOCTOR_NAME",title:"签约医生",align:"center"},{field:"ORGANIZATION_NAME",title:"医生所属机构",align:"center"}]};o.residentSignedTableData={bsTableControl:{options:n.initOption(s)}}},a.isEmptyObject=function(e){for(var t in e)return!1;return!0},a.checkIdNo=function(e,t,n){i.checkIdNo(JSON.stringify(e)).$promise.then(t,n)},a.createResident=function(e,t,n){i.createResident(JSON.stringify(e)).$promise.then(t,n)},a.objectToString=function(e){var t=[],i=[];return angular.forEach(e,function(e){t.push(e.DICT_VALUE_NAME),i.push(e.DICT_VALUE_CODE)}),{NAME:t.toString(),CODE:i.toString()}},a.dateObjToString=function(e,t){if(0===e.length)return[];for(var i=0;i<e.length;i++)e[i][t]=o(e[i][t])},a.stringToDateObj=function(e,t){if(0===e.length)return[];for(var i=0;i<e.length;i++)e[i][t]=new Date(e[i][t]);return e},a.getResidentDetailInfo=function(e,t,n){i.getResidentDetailInfo(JSON.stringify(e)).$promise.then(t,n)},a.getItemArrByCodeArr=function(t,i,n){var o=[];if(""===i[0])return[];for(var a=0;a<i.length;a++)o.push(e.selectItem(t,n,i[a]));return o},a.editResidentInfo=function(e,t,n){i.editResidentInfo(JSON.stringify(e)).$promise.then(t,n)},a.getSignedDoctor=function(e,t,n){i.getSignedDoctor(JSON.stringify(e)).$promise.then(t,n)},a.getResidentDiseaseFlag=function(e,t,n){i.getResidentDiseaseFlag(JSON.stringify(e)).$promise.then(t,n)},a}function diabetesHeadBarCtrl(e,t){var i=this;return i.residentKeyId=t.params.RESIDENT_KEY_ID,i.diabetesRecordKeyId=t.params.DIABETES_RECORD_KEY_ID,i.goBasic=function(){i.currentPage="diabetesEdit",t.go("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.diabetesEdit",{DIABETES_RECORD_KEY_ID:i.diabetesRecordKeyId})},i.goGlucose=function(){i.currentPage="bloodGlucose",t.go("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.bloodGlucoseList",{RESIDENT_KEY_ID:i.residentKeyId,DIABETES_RECORD_KEY_ID:i.diabetesRecordKeyId})},i.goFollow=function(){i.currentPage="followup",t.go("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.followupList",{RESIDENT_KEY_ID:i.residentKeyId,DIABETES_RECORD_KEY_ID:i.diabetesRecordKeyId})},e.$on("url-change",function(e,t){i.judgePage(t)}),i.judgePage=function(t){e.isContains(t,"diabetesEdit")?i.currentPage="diabetesEdit":e.isContains(t,"bloodGlucose")?i.currentPage="bloodGlucose":e.isContains(t,"followup")&&(i.currentPage="followup")},i.judgePage(t.current.name),i}function hypertensionHeadBarCtrl(e,t){var i=this;return i.residentKeyId=t.params.RESIDENT_KEY_ID,i.hypertensionRecordKeyId=t.params.HYPERTENSION_RECORD_KEY_ID,i.goBasic=function(){i.currentPage="hypertension",t.go("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.hypertensionEdit",{RESIDENT_KEY_ID:i.residentKeyId,HYPERTENSION_RECORD_KEY_ID:i.hypertensionRecordKeyId})},i.goPressure=function(){i.currentPage="bloodPressure",t.go("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.bloodPressureList",{HYPERTENSION_RECORD_KEY_ID:i.hypertensionRecordKeyId})},i.goFollow=function(){i.currentPage="followup",t.go("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.followupList",{RESIDENT_KEY_ID:i.residentKeyId,HYPERTENSION_RECORD_KEY_ID:i.hypertensionRecordKeyId})},i.goEval=function(){i.currentPage="evaluation",t.go("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.evaluationList",{HYPERTENSION_RECORD_KEY_ID:i.hypertensionRecordKeyId})},e.$on("url-change",function(e,t){i.judgePage(t)}),i.judgePage=function(t){e.isContains(t,"hypertensionEdit")?i.currentPage="hypertension":e.isContains(t,"bloodPressure")?i.currentPage="bloodPressure":e.isContains(t,"followup")?i.currentPage="followup":e.isContains(t,"evaluation")&&(i.currentPage="evaluation")},i.judgePage(t.current.name),i}function diabetesEditCtrl(e,t,i,n,o){function a(){I.managementLevel={},I.drugCompliance={}}function r(){n.getDetailedArchives({RESIDENT_KEY_ID:I.residentKeyId},function(t){e.handleMessage(t,function(e){c(e),T=angular.copy(e)},function(){e.alertDialog("查询糖尿病数据失败")})},function(){e.alertDialog("查询糖尿病数据失败")})}function s(){e.commonService("getDictList",{DICT_TYPE_CODE_LIST:D},function(t){e.handleMessage(t,function(e){l(e),r()},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")})}function l(t){angular.forEach(D,function(i){I[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}function c(t){I.diabetesRecordKeyId=t.DIABETES_RECORD_KEY_ID,I.residentName=t.RESIDENT_NAME,I.residentSexName=t.RESIDENT_SEX_NAME,I.birthday=t.BIRTHDAY,I.residentIdNo=t.RESIDENT_ID_NO,I.residentPhoneNo=t.RESIDENT_PHONE_NO,I.houseAddress=t.HOUSE_ADDRESS,I.livingTypeName=t.LIVING_TYPE_NAME,I.firstDateOfOnset=_(t.FIRST_DATE_OF_ONSET),I.diagnosisTime=_(t.DIAGNOSIS_TIME),I.diagnosisDoctorName=t.DIAGNOSIS_DOCTOR_NAME,I.diagnosisOrganization=t.DIAGNOSIS_ORGANIZATION,I.treatmentSituation=t.TREATMENT_SITUATION,I.fastingBloodGlucose=t.FASTING_BLOOD_GLUCOSE,I.postPrandialBloodGlucose=t.POSTPRANDIAL_BLOOD_GLUCOSE,I.totalCholesterol=t.TOTAL_CHOLESTEROL,I.serumCreatinine=t.SERUM_CREATININE,I.urineProtein=t.URINE_PROTEIN,I.isTakingInsulin=t.IS_TAKING_INSULIN,I.otherAssayIndex=t.OTHER_ASSAY_INDEX,I.managementLevelName=t.MANAGEMENT_LEVEL_NAME,I.drugComplianceName=t.DRUG_COMPLIANCE_NAME,I.managementLevel=d(e.selectItem(I.managementLevelList,"DICT_VALUE_CODE",t.MANAGEMENT_LEVEL_CODE)),I.drugCompliance=d(e.selectItem(I.drugComplianceList,"DICT_VALUE_CODE",t.DRUG_COMPLIANCE_CODE)),I.createTime=E(t.CREATE_TIME),I.creatorName=t.CREATOR_NAME,I.creatorOrganizationName=t.CREATED_ORGANIZATION_NAME}function E(e){var t=new Date;t.setTime(e);var i=t.format("yyyy-MM-dd");return i}function _(e){var t=Date.parse(e),i=new Date(t);return i}function d(e){return void 0===e||null===e||""===e?{DICT_VALUE_CODE:"",DICT_VALUE_NAME:""}:e}var I=this;I.data={},I.edit=!0,I.editable=!1,I.residentKeyId=i.RESIDENT_KEY_ID;var D=[{DICT_TYPE_CODE:"0025",LIST_NAME:"managementLevelList"},{DICT_TYPE_CODE:"0026",LIST_NAME:"drugComplianceList"}],T={};return a(),s(),Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e},I.edit=function(){I.editable=!I.editable},I.save=function(t){if(e.check(t)){var i={DIABETES_RECORD_KEY_ID:I.diabetesRecordKeyId,FIRST_DATE_OF_ONSET:I.firstDateOfOnset?o("date")(I.firstDateOfOnset,"yyyy-MM-dd")+" 00:00:00":null,DIAGNOSIS_TIME:I.diagnosisTime?o("date")(I.diagnosisTime,"yyyy-MM-dd")+" 00:00:00":null,DIAGNOSIS_DOCTOR_NAME:I.diagnosisDoctorName,DIAGNOSIS_ORGANIZATION:I.diagnosisOrganization,TREATMENT_SITUATION:I.treatmentSituation,FASTING_BLOOD_GLUCOSE:I.fastingBloodGlucose,POSTPRANDIAL_BLOOD_GLUCOSE:I.postPrandialBloodGlucose,TOTAL_CHOLESTEROL:I.totalCholesterol,SERUM_CREATININE:I.serumCreatinine,URINE_PROTEIN:I.urineProtein,IS_TAKING_INSULIN:I.isTakingInsulin,OTHER_ASSAY_INDEX:I.otherAssayIndex,MANAGEMENT_LEVEL_CODE:I.managementLevel.DICT_VALUE_CODE,MANAGEMENT_LEVEL_NAME:I.managementLevel.DICT_VALUE_NAME,DRUG_COMPLIANCE_CODE:I.drugCompliance.DICT_VALUE_CODE,DRUG_COMPLIANCE_NAME:I.drugCompliance.DICT_VALUE_NAME};n.edit(i,function(t){e.handleMessage(t,function(){e.alertDialog("编辑糖尿病档案成功"),I.editable=!1,a(),s()},function(){e.alertDialog("编辑糖尿病档案失败")})},function(){e.alertDialog("编辑糖尿病档案失败")})}},I.cancel=function(t){function i(){var e=angular.copy(T);a(),c(e)}t.$dirty?e.confirmDialog("您确定要放弃保存吗?",function(){i(),I.editable=!1},function(){}):I.editable=!1},I}function diabetesListCtrl(e,t,i,n,o){function a(){s.search.followUpTypes=[{value:"",name:"全部"},{value:"NEAR",name:"近期随访"},{value:"OVERDUE",name:"过期随访"},{value:"NO_PLAN",name:"无随访计划"}],s.search.nextFollowUpType="",r()}function r(){var e={SEARCH_CONDITION:s.search.searchCondition,LAST_FOLLOW_UP_BEGIN_TIME:s.search.lastFollowUpBeginTime?o("date")(s.search.lastFollowUpBeginTime,"yyyy-MM-dd")+" 00:00:00":null,LAST_FOLLOW_UP_END_TIME:s.search.lastFollowUpEndTime?o("date")(s.search.lastFollowUpEndTime,"yyyy-MM-dd")+" 23:59:59":null,NEXT_FOLLOW_UP_BEGIN_TIME:s.search.nextFollowUpBeginTime?o("date")(s.search.nextFollowUpBeginTime,"yyyy-MM-dd")+" 00:00:00":null,NEXT_FOLLOW_UP_END_TIME:s.search.nextFollowUpEndTime?o("date")(s.search.nextFollowUpEndTime,"yyyy-MM-dd")+" 23:59:59":null,NEXT_FOLLOW_UP_TYPE:s.search.nextFollowUpType};n.getDiabetesList(s,e,t)}var s=this;return s.search={},s.search.options=null,s.initScope=a,s.getDiabetesList=r,s.initScope(),s.create=function(){function e(e,i,n,o,a){i.$on("panelClose",function(){n.close()}),i.cancel=function(){n.close()},i.findResident=function(){o.findResident({RESIDENT_ID_NO:i.idNo},function(t){null===t?e.alertDialog("没有查询到数据"):i.residentInfo=t})},i.ensureResident=function(){a.getDetailedArchives({RESIDENT_KEY_ID:i.residentInfo.RESIDENT_KEY_ID},function(o){e.handleMessage(o,function(e){n.close().then(function(){0===e.HAS_DIABETES_ARCHIVES?t.go("main.special.diabetesAdd",{RESIDENT_KEY_ID:i.residentInfo.RESIDENT_KEY_ID}):t.go("main.special.diabetesSidebar.detail.diabetesEdit",{RESIDENT_KEY_ID:i.residentInfo.RESIDENT_KEY_ID})})},function(){e.alertDialog("查询糖尿病数据失败")})},function(){e.alertDialog("查询糖尿病数据失败")})}}SMS.CONTROLLERS.controller("DialogAddDiabetesController",e),e.$inject=["$rootScope","$scope","mdPanelRef","hypertensionService","diabetesService"];var n=i.newPanelPosition().absolute().center(),o=i.newPanelAnimation().withAnimation(i.animation.FADE),a={animation:o,attachTo:angular.element(document.body),controller:e,templateUrl:"template/special/hypertension/_add.html",
position:n,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:s.customFullscreen};i.open(a)},s}function diabetesSidebarCtrl(e,t,i){function n(){i.getSidebarBasicMsg({RESIDENT_KEY_ID:a.residentKeyId},function(t){e.handleMessage(t,function(e){o(e)},function(){e.alertDialog("查询基础信息失败")})},function(){e.alertDialog("查询基础信息失败")})}function o(e){a.name=e.RESIDENT_NAME,a.gender=e.RESIDENT_SEX_NAME,a.age=e.AGE,a.nextFollowUpDate=e.NEXT_FOLLOW_UP_DATE,a.diabetesRecordKeyId=e.DIABETES_RECORD_KEY_ID}var a=this;return a.residentKeyId=t.params.RESIDENT_KEY_ID,n(),e.$on("url-change",function(){a.judgePage()}),a.judgePage=function(){return e.isContains(t.current.name,"diabetesEdit")?"basic":e.isContains(t.current.name,"bloodGlucose")?"blood":e.isContains(t.current.name,"followup")?"follow":"basic"},a}function diabetesService(e,t,i){var n=this;return n.getDiabetesList=function(n,o,a){function r(i,n,o){t.getDiabetesList(JSON.stringify(i)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:o,columns:[{field:"RESIDENT_NAME",title:"居民姓名",align:"center",formatter:function(e){return"<div class='edit' style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click .edit":function(e,t,i){a.go("main.special.diabetesSidebar.detail.diabetesEdit",{RESIDENT_KEY_ID:i.RESIDENT_KEY_ID})}}},{field:"FASTING_BLOOD_GLUCOSE",title:"最近一次空腹血糖(mmol/L)",align:"center"},{field:"POSTPRANDIAL_BLOOD_GLUCOSE",title:"最近一次餐后血糖(mmol/L)",align:"center"},{field:"LAST_FOLLOW_UP_DATE",title:"上一次随访时间",align:"center"},{field:"NEXT_FOLLOW_UP_DATE",title:"下一次随访时间",align:"center"},{title:"操作",align:"center",formatter:function(){return"<span class='interview' style='color: #428bca;cursor: pointer;'>随访</span>"},events:{"click .interview":function(e,t,i){a.go("main.special.diabetesSidebar.detail.followupAdd",{RESIDENT_KEY_ID:i.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:i.DIABETES_RECORD_KEY_ID})}}}]};n.diabetesData={bsTableControl:{options:i.initOption(s)}}},n.getDetailedArchives=function(e,i,n){return t.getDetailedArchives(JSON.stringify(e)).$promise.then(i,n)},n.add=function(e,i,n){return t.saveArchives(JSON.stringify(e)).$promise.then(i,n)},n.edit=function(e,i,n){return t.editArchives(JSON.stringify(e)).$promise.then(i,n)},n.getSidebarBasicMsg=function(e,i,n){return t.getSidebarBasicMsg(JSON.stringify(e)).$promise.then(i,n)},n}function hypertensionEditCtrl(e,t,i,n){function o(e,t,i){angular.forEach(e,function(e){e.DICT_VALUE_CODE===i&&(c[t]=e)})}function a(e,t,i){if("string"==typeof i){var n=i.split(",");angular.forEach(e,function(e){angular.forEach(n,function(i){e.DICT_VALUE_CODE===i&&c[t].push(e)})})}}function r(){n.getDetailedArchives({RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID},function(e){e.BIRTHDAY&&(e.BIRTHDAY=new Date(e.BIRTHDAY)),e.FILE_CREATE_TIME&&(e.FILE_CREATE_TIME=new Date(e.FILE_CREATE_TIME)),e.EVALUATION_TIME&&(e.EVALUATION_TIME=new Date(e.EVALUATION_TIME)),e.FIRST_DATE_OF_ONSET&&(e.FIRST_DATE_OF_ONSET=new Date(e.FIRST_DATE_OF_ONSET)),e.DIAGNOSIS_TIME&&(e.DIAGNOSIS_TIME=new Date(e.DIAGNOSIS_TIME)),e.IS_HAS_DIABETES+="",c.CARDIOVASCULAR_RISK=[],c.TARGET_ORGAN_DAMAGES=[],c.COEXISTING_ASSOCIATED_DISEASES=[],o(c.drugComplianceList,"DRUG_COMPLIANCE",e.DRUG_COMPLIANCE_CODE),o(c.bloodPressureGradingList,"BLOOD_PRESSURE_GRADING",e.FIRST_BLOOD_PRESSURE_GRADING_CODE),o(c.criticalityGradingList,"CRITICALITY_GRADING",e.FIRST_CRITICALITY_GRADING_CODE),o(c.gradingManagementList,"GRADING_MANAGEMENT",e.FIRST_GRADING_MANAGEMENT_CODE),a(c.cardiovascularRiskFactorsList,"CARDIOVASCULAR_RISK",e.CARDIOVASCULAR_RISK_FACTORS_CODE),a(c.targetOrganDamagesList,"TARGET_ORGAN_DAMAGES",e.TARGET_ORGAN_DAMAGES_CODE),a(c.coexistingAssociatedDiseasesList,"COEXISTING_ASSOCIATED_DISEASES",e.COEXISTING_ASSOCIATED_DISEASES_CODE),c.archiveInfo=e,c.archiveInfo.BIRTHDAY=i("date")(e.BIRTHDAY,"yyyy-MM-dd"),E.CARDIOVASCULAR_RISK=e.CARDIOVASCULAR_RISK_FACTORS_CODE,E.TARGET_ORGAN_DAMAGES=e.TARGET_ORGAN_DAMAGES_CODE,E.COEXISTING_ASSOCIATED_DISEASES=e.COEXISTING_ASSOCIATED_DISEASES_CODE})}function s(){var t=[{DICT_TYPE_CODE:"0009",LIST_NAME:"residentSexList"},{DICT_TYPE_CODE:"0007001",LIST_NAME:"livingTypeList"},{DICT_TYPE_CODE:"0026",LIST_NAME:"drugComplianceList"},{DICT_TYPE_CODE:"0031",LIST_NAME:"cardiovascularRiskFactorsList"},{DICT_TYPE_CODE:"0032",LIST_NAME:"targetOrganDamagesList"},{DICT_TYPE_CODE:"0033",LIST_NAME:"coexistingAssociatedDiseasesList"},{DICT_TYPE_CODE:"0028",LIST_NAME:"bloodPressureGradingList"},{DICT_TYPE_CODE:"0029",LIST_NAME:"gradingManagementList"},{DICT_TYPE_CODE:"0030",LIST_NAME:"criticalityGradingList"}];e.commonService("getDictList",{DICT_TYPE_CODE_LIST:t},function(i){e.handleMessage(i,function(i){angular.forEach(t,function(t){c[t.LIST_NAME]=e.selectItem(i,"DICT_TYPE_CODE",t.DICT_TYPE_CODE).DICT_CODE_LIST}),r()},function(){e.alertDialog("获取列表失败")})},function(){e.alertDialog("获取列表失败")})}function l(){function e(e){var t,i=[];return E[e]=E[e]||"",t=E[e].split(","),angular.forEach(c[e],function(e){i.push(e.DICT_VALUE_CODE)}),t.sort(),i.sort(),t.join(",")===i.join(",")}return e("CARDIOVASCULAR_RISK")&&e("TARGET_ORGAN_DAMAGES")&&e("COEXISTING_ASSOCIATED_DISEASES")?!1:!0}var c=this,E={};return c.CARDIOVASCULAR_RISK=[],c.TARGET_ORGAN_DAMAGES=[],c.COEXISTING_ASSOCIATED_DISEASES=[],c.residentSexList=[],c.livingTypeList=[],c.drugComplianceList=[],c.cardiovascularRiskFactorsList=[],c.targetOrganDamagesList=[],c.coexistingAssociatedDiseasesList=[],c.bloodPressureGradingList=[],c.gradingManagementList=[],c.criticalityGradingList=[],c.edit=!1,c.toggle=function(e,t){var i=t.indexOf(e);i>-1?t.splice(i,1):t.push(e)},c.exists=function(e,t){return t.indexOf(e)>-1},c.calculate=function(){if(!c.archiveInfo.SYSTOLIC_PRESSURE)return void e.alertDialog("请填写收缩压");if(!c.archiveInfo.DIASTOLIC_PRESSURE)return void e.alertDialog("请填写舒张压");var t={SYSTOLIC_PRESSURE:c.archiveInfo.SYSTOLIC_PRESSURE,DIASTOLIC_PRESSURE:c.archiveInfo.DIASTOLIC_PRESSURE,lengthArray:[c.CARDIOVASCULAR_RISK.length,c.TARGET_ORGAN_DAMAGES.length,c.COEXISTING_ASSOCIATED_DISEASES.length]},i=e.calculateHypertensionEvaluation(t);c.BLOOD_PRESSURE_GRADING=e.selectItem(c.bloodPressureGradingList,"DICT_VALUE_CODE",i.bloodPressureGradingCount),c.CRITICALITY_GRADING=e.selectItem(c.criticalityGradingList,"DICT_VALUE_CODE",i.criticalityGradingCount),c.GRADING_MANAGEMENT=e.selectItem(c.gradingManagementList,"DICT_VALUE_CODE",i.gradingManagementCount)},c.save=function(){function t(e,t){var i=[];return angular.forEach(e,function(e){i.push(e[t])}),i.join(",")}if(e.check(form)){var o={HYPERTENSION_RECORD_KEY_ID:c.archiveInfo.HYPERTENSION_RECORD_KEY_ID,ASSESS_RECORD_KEY_ID:c.archiveInfo.ASSESS_RECORD_KEY_ID,FIRST_DATE_OF_ONSET:i("date")(c.archiveInfo.FIRST_DATE_OF_ONSET,"yyyy-MM-dd"),DIAGNOSIS_TIME:i("date")(c.archiveInfo.DIAGNOSIS_TIME,"yyyy-MM-dd"),DIAGNOSIS_DOCTOR_NAME:c.archiveInfo.DIAGNOSIS_DOCTOR_NAME,DIAGNOSIS_ORGANIZATION:c.archiveInfo.DIAGNOSIS_ORGANIZATION,TREATMENT_SITUATION:c.archiveInfo.TREATMENT_SITUATION,SYSTOLIC_PRESSURE:c.archiveInfo.SYSTOLIC_PRESSURE,DIASTOLIC_PRESSURE:c.archiveInfo.DIASTOLIC_PRESSURE,FASTING_BLOOD_GLUCOSE:c.archiveInfo.FASTING_BLOOD_GLUCOSE,SERUM_CREATININE:c.archiveInfo.SERUM_CREATININE,OTHER_ASSAY_INDEX:c.archiveInfo.OTHER_ASSAY_INDEX,TOTAL_CHOLESTEROL:c.archiveInfo.TOTAL_CHOLESTEROL,URINE_PROTEIN:c.archiveInfo.URINE_PROTEIN,DRUG_COMPLIANCE_CODE:c.DRUG_COMPLIANCE?c.DRUG_COMPLIANCE.DICT_VALUE_CODE:null,DRUG_COMPLIANCE_NAME:c.DRUG_COMPLIANCE?c.DRUG_COMPLIANCE.DICT_VALUE_NAME:null,CARDIOVASCULAR_RISK_FACTORS_CODE:c.CARDIOVASCULAR_RISK.length?t(c.CARDIOVASCULAR_RISK,"DICT_VALUE_CODE"):null,CARDIOVASCULAR_RISK_FACTORS_NAME:c.CARDIOVASCULAR_RISK.length?t(c.CARDIOVASCULAR_RISK,"DICT_VALUE_NAME"):null,TARGET_ORGAN_DAMAGES_CODE:c.TARGET_ORGAN_DAMAGES.length?t(c.TARGET_ORGAN_DAMAGES,"DICT_VALUE_CODE"):null,TARGET_ORGAN_DAMAGES_NAME:c.TARGET_ORGAN_DAMAGES.length?t(c.TARGET_ORGAN_DAMAGES,"DICT_VALUE_NAME"):null,IS_HAS_DIABETES:+c.archiveInfo.IS_HAS_DIABETES,COEXISTING_ASSOCIATED_DISEASES_CODE:c.COEXISTING_ASSOCIATED_DISEASES.length?t(c.COEXISTING_ASSOCIATED_DISEASES,"DICT_VALUE_CODE"):null,COEXISTING_ASSOCIATED_DISEASES_NAME:c.COEXISTING_ASSOCIATED_DISEASES.length?t(c.COEXISTING_ASSOCIATED_DISEASES,"DICT_VALUE_NAME"):null,FIRST_BLOOD_PRESSURE_GRADING_CODE:c.BLOOD_PRESSURE_GRADING.DICT_VALUE_CODE,FIRST_BLOOD_PRESSURE_GRADING_NAME:c.BLOOD_PRESSURE_GRADING.DICT_VALUE_NAME,FIRST_CRITICALITY_GRADING_CODE:c.CRITICALITY_GRADING.DICT_VALUE_CODE,FIRST_CRITICALITY_GRADING_NAME:c.CRITICALITY_GRADING.DICT_VALUE_NAME,FIRST_GRADING_MANAGEMENT_CODE:c.GRADING_MANAGEMENT.DICT_VALUE_CODE,FIRST_GRADING_MANAGEMENT_NAME:c.GRADING_MANAGEMENT.DICT_VALUE_NAME,OVERALL_EVALUATION:c.archiveInfo.OVERALL_EVALUATION};n.editArchive(o,function(){c.edit=!1,e.alertDialog("保存成功"),r()})}},c.cancel=function(t){t.$dirty||l()?e.confirmDialog("是否放弃已经编辑的内容?",function(){c.edit=!1},function(){}):c.edit=!1},c.clickEdit=function(e){c.edit=!0,e.$setPristine(),e.$setUntouched()},s(),c}function hypertensionListCtrl(e,t,i,n,o){var a=this;return a.initSelect=function(){var t=[{DICT_TYPE_CODE:"0028",LIST_NAME:"bloodPressureGradingList"},{DICT_TYPE_CODE:"0029",LIST_NAME:"gradingManagementList"}];e.commonService("getDictList",{DICT_TYPE_CODE_LIST:t},function(i){e.handleMessage(i,function(i){angular.forEach(t,function(t){a[t.LIST_NAME]=e.selectItem(i,"DICT_TYPE_CODE",t.DICT_TYPE_CODE).DICT_CODE_LIST})},function(){e.alertDialog("获取列表失败")})},function(){e.alertDialog("获取列表失败")})},a.tableDataHtml=function(){var e={SEARCH_CONDITION:a.searchCondition,LAST_FOLLOW_UP_BEGIN_TIME:a.lastFollowUpBeginTime?o("date")(a.lastFollowUpBeginTime,"yyyy-MM-dd")+" 00:00:00":null,LAST_FOLLOW_UP_END_TIME:a.lastFollowUpEndTime?o("date")(a.lastFollowUpEndTime,"yyyy-MM-dd")+" 23:59:59":null,NEXT_FOLLOW_UP_BEGIN_TIME:a.nextFollowUpBeginTime?o("date")(a.nextFollowUpBeginTime,"yyyy-MM-dd")+" 00:00:00":null,NEXT_FOLLOW_UP_END_TIME:a.nextFollowUpEndTime?o("date")(a.nextFollowUpEndTime,"yyyy-MM-dd")+" 23:59:59":null,BLOOD_PRESSURE_GRADING_CODE:a.bloodPressureGrading&&"-1"!==a.bloodPressureGrading?a.bloodPressureGrading.DICT_VALUE_CODE:null,BLOOD_PRESSURE_GRADING_NAME:a.bloodPressureGrading&&"-1"!==a.bloodPressureGrading?a.bloodPressureGrading.DICT_VALUE_NAME:null,GRADING_MANAGEMENT_CODE:a.gradingManagement&&"-1"!==a.gradingManagement?a.gradingManagement.DICT_VALUE_CODE:null,GRADING_MANAGEMENT_NAME:a.gradingManagement&&"-1"!==a.gradingManagement?a.gradingManagement.DICT_VALUE_NAME:null,NEXT_FOLLOW_UP_TYPE:a.nextFollowUpType&&"-1"!==a.nextFollowUpType?a.nextFollowUpType:null};n.hypertensionList(a,e)},a.searchTermChange=function(){a.tableDataHtml()},a.create=function(){function n(i,n,o){i.$on("panelClose",function(){n.close()}),i.hide=function(){n.close()},i.cancel=function(){n.close()},i.findResident=function(){o.findResident({RESIDENT_ID_NO:i.idNo},function(t){i.residentInfo=t,t||e.alertDialog("没有数据"),i.flag=!0})},i.ensureResident=function(){n.close().then(function(){t.go("main.special.hypertensionAdd",{RESIDENT_KEY_ID:i.residentInfo.RESIDENT_KEY_ID})})}}SMS.CONTROLLERS.controller("DialogAddHyController",n),n.$inject=["$scope","mdPanelRef","hypertensionService"];var o=i.newPanelPosition().absolute().center(),r=i.newPanelAnimation().withAnimation(i.animation.FADE),s={animation:r,attachTo:angular.element(document.body),controller:n,templateUrl:"template/special/hypertension/_add.html",position:o,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:a.customFullscreen};i.open(s)},a.initSelect(),a.tableDataHtml(),a}function hypertensionSidebarCtrl(e,t,i){function n(){i.getSidebarInfo({RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID},function(e){o.sideInfo=e})}var o=this;return o.jumpTo=function(e){switch(e){case"basic":t.go("main.special.hypertensionSidebar.detail.hypertensionEdit",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID});break;case"blood":t.go("main.special.hypertensionSidebar.detail.bloodPressureList",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID});break;case"follow":t.go("main.special.hypertensionSidebar.detail.followupList",{HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID});break;case"eval":t.go("main.special.hypertensionSidebar.detail.evaluationList",{HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID});break;default:t.go("main.special.hypertensionSidebar.detail.hypertensionEdit",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID})}},n(),o}function hypertensionService(e,t,i,n,o){var a=this;return a.hypertensionList=function(a,r){function s(t,i,o){n.getHypertensionList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){i(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var l={dataFunction:s,dataParams:r,columns:[{field:"RESIDENT_NAME",title:"居民姓名",align:"center",formatter:function(e){return"<div class='edit' style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click .edit":function(e,t,n){i.go("main.special.hypertensionSidebar.detail.hypertensionEdit",{RESIDENT_KEY_ID:n.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:n.HYPERTENSION_RECORD_KEY_ID})}}},{field:"LAST_BLOOD_PRESSURE_RECORD",title:"最近血压(mmHg)",align:"center"},{field:"BLOOD_PRESSURE_GRADING_NAME",title:"血压分级",align:"center"},{field:"GRADING_MANAGEMENT_NAME",title:"分级管理",align:"center"},{field:"LAST_FOLLOW_UP_DATE",title:"上次随访日期",align:"center",formatter:function(e){return e?t("date")(new Date(e),"yyyy-MM-dd"):"-"}},{field:"NEXT_FOLLOW_UP_DATE",title:"下次随访日期",align:"center",formatter:function(e){return e?e?t("date")(new Date(e),"yyyy-MM-dd"):"-":void 0}},{title:"操作",align:"center",formatter:function(){return"<span class='interview' style='color: #428bca;cursor: pointer;'>随访</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class='judge' style='color: #428bca;cursor: pointer;'>评估</span>"},events:{"click .interview":function(e,t,n){i.go("main.special.hypertensionSidebar.detail.followupAdd",{RESIDENT_KEY_ID:n.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:n.HYPERTENSION_RECORD_KEY_ID})},"click .judge":function(e,t,n){i.go("main.special.hypertensionSidebar.detail.evaluationAdd",{HYPERTENSION_RECORD_KEY_ID:n.HYPERTENSION_RECORD_KEY_ID,RESIDENT_KEY_ID:n.RESIDENT_KEY_ID})}}}]};a.tableHyData={bsTableControl:{options:o.initOption(l)}}},a.addArchive=function(t,i){n.addArchive(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){i(t.value)},function(){e.alertDialog("创建高血压档案失败")})},function(){e.alertDialog("创建高血压档案失败")})},a.editArchive=function(t,i){n.editArchive(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){i(t.value)},function(){e.alertDialog("编辑高血压档案失败")})},function(){e.alertDialog("编辑高血压档案失败")})},a.getDetailedArchives=function(t,i){n.getDetailedArchives(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){i(t.value)},function(){e.alertDialog("获取信息失败")})},function(){e.alertDialog("获取信息失败")})},a.getSidebarInfo=function(t,i){n.getSidebarInfo(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){i(t.value)},function(){e.alertDialog("获取信息失败")})},function(){e.alertDialog("获取信息失败")})},a.findResident=function(t,i){n.getResidentByIdNo(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){i(t.value)},function(){e.alertDialog("获取信息失败")})},function(){e.alertDialog("获取信息失败")})},a}function doctorIndividualSignRecordCtrl(e,t,i){function n(){var e={DOCTOR_KEY_ID:o.FAMILY_DOCTOR_KEY_ID};i.getSignedRecordList(o,e,t)}var o=this;return o.FAMILY_DOCTOR_KEY_ID=t.params.FAMILY_DOCTOR_KEY_ID,n(),o}function signedFamilyListCtrl(e,t,i,n,o,a,r){var s=this;return s.DOCTOR_NAME=i.params.DOCTOR_NAME,s.FAMILY_DOCTOR_KEY_ID=i.params.FAMILY_DOCTOR_KEY_ID,n.getDoctorInfoById({FAMILY_DOCTOR_KEY_ID:s.FAMILY_DOCTOR_KEY_ID},function(t){e.handleMessage(t,function(e){s.IS_ONLINE=e.IS_ONLINE},function(){e.alertDialog("获取医生信息失败")})},function(){e.alertDialog("获取医生信息失败")}),s.signingHomeTable=function(){var e={DOCTOR_KEY_ID:s.FAMILY_DOCTOR_KEY_ID};n.showSingingHomeTable(s,e,i)},s.signingHomeTable(),s.back=function(){i.go("main.doctor.doctorIndividualList")},s.searchHome=function(){function t(t,n,r){t.unsigningHomeTableData=!1,t.total=!0,t.FAMILY_DOCTOR_KEY_ID=s.FAMILY_DOCTOR_KEY_ID,t.hide=function(){n.close()},t.cancel=function(){n.close()},t.search=function(){var e={SEARCH_CONDITION:t.searchCondition||""};r.showUnsingingHomeTable(t,e,i)},t.signEnsureShow=function(t){function r(o,r,l){function c(){var e={FAMILY_KEY_ID:t.FAMILY_KEY_ID};l.showHomeMemberTable(o,e,i),o.editView=t.IS_SIGNED,o.signDoctor=t.DOCTOR_NAME,o.signedDoctor=s.DOCTOR_NAME,o.signTime=a("date")(t.BEGIN_TIME,"yyyy年MM月dd日")+" - "+a("date")(t.END_TIME,"yyyy年MM月dd日")}o.hide=function(){r.hide()},o.cancel=function(){r.cancel()},o.ensure=function(){l.ensureSign({FAMILY_KEY_ID:t.FAMILY_KEY_ID,DOCTOR_KEY_ID:s.FAMILY_DOCTOR_KEY_ID,DOCTOR_NAME:s.DOCTOR_NAME},function(t){e.handleMessage(t,function(){s.signingHomeTableData.bsTableControl.operat="refresh",e.alertDialog("签约成功！").then(n.close())},function(){e.alertDialog("签约失败")})},function(){e.alertDialog("签约失败")})},o.change=function(){l.updateFamilyDoctorBatch({FAMILY_LIST:[{FAMILY_KEY_ID:t.FAMILY_KEY_ID}],RESPONSIBLE_DOCTOR_ID:s.FAMILY_DOCTOR_KEY_ID,RESPONSIBLE_DOCTOR_NAME:s.DOCTOR_NAME,BEFORE_DOCTOR_ID:t.FAMILY_DOCTOR_KEY_ID},function(t){e.handleMessage(t,function(){s.signingHomeTableData.bsTableControl.operat="refresh",e.alertDialog("更换签约成功！")},function(){e.alertDialog("更换签约医生失败")})},function(){e.alertDialog("更换签约医生失败")})},c()}SMS.CONTROLLERS.controller("DialogEnsureController",r),r.$inject=["$scope","$mdDialog","doctorIndividualService"],o.show({controller:r,templateUrl:"template/doctor/doctorIndividual/signManage/_signEnsure.html",parent:angular.element(document.body),clickOutsideToClose:!1,fullscreen:s.customFullscreen})},t.$on("panelClose",function(){n.close()})}SMS.CONTROLLERS.controller("DialogUnSignController",t),t.$inject=["$scope","mdPanelRef","doctorIndividualService"];var n=r.newPanelPosition().absolute().center(),l=r.newPanelAnimation().withAnimation(r.animation.FADE),c={animation:l,attachTo:angular.element(document.body),controller:t,templateUrl:"template/doctor/doctorIndividual/signManage/_searchHome.html",position:n,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};r.open(c)},s.removeSign=function(t){function i(t,i){function n(n,o,a,r){function l(){n.signedDoctor=s.DOCTOR_NAME,n.remark="",n.doctorModel=!0}n.data=i,n.hide=function(){a.close()},n.cancel=function(){a.close()},n.ensure=function(i){if(e.check(i)){var o={BEFORE_DOCTOR_ID:s.FAMILY_DOCTOR_KEY_ID,REMARK:n.remark};if(0===t){o.FAMILY_LIST=[];for(var l=0;l<n.data.length;l++)o.FAMILY_LIST.push({FAMILY_KEY_ID:n.data[l].FAMILY_KEY_ID})}else o.DOCTOR_KEY_ID=s.FAMILY_DOCTOR_KEY_ID;r.terminateBatch(o,function(t){e.handleMessage(t,function(){s.signingHomeTableData.bsTableControl.operat="refresh",e.alertDialog("解约成功！").then(a.close())},function(){e.alertDialog("解约失败")})},function(){e.alertDialog("解约失败")})}},l(),n.$on("panelClose",function(){a.close()})}SMS.CONTROLLERS.controller("DialogRemoveSignEnsureController",n),n.$inject=["$scope","$mdDialog","mdPanelRef","doctorIndividualService"];var o=r.newPanelPosition().absolute().center(),a=r.newPanelAnimation().withAnimation(r.animation.FADE),l={animation:a,attachTo:angular.element(document.body),controller:n,templateUrl:"template/doctor/doctorIndividual/signManage/_removeSignEnsure.html",position:o,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};r.open(l)}s.signingHomeTableData.bsTableControl.getSelectionsBack=function(n){0===n.length&&0===t?e.alertDialog("请先选中家庭"):i(t,n)},s.signingHomeTableData.bsTableControl.operat="getSelections"},s.changeSign=function(t){function i(e,t){function i(i,n,o,a,r){function l(e){n.searched=!0,r.getselectedDoctorList(n,{},{total:1,rows:[e]}),n.row=e,i.getCurrentDateTime(function(e){if(void 0===s.beginTimeFormat){s.beginTimeFormat=e,s.beginTime=a("commonDate")(s.beginTimeFormat);var t=new Date(new Date(s.beginTimeFormat).getTime());t.setFullYear(t.getFullYear()+1),t.setDate(t.getDate()-1),s.endTimeFormat=t,s.endTime=a("commonDate")(s.endTimeFormat)}void 0===n.beginTime&&(n.beginTime=a("commonDate")(s.beginTimeFormat,"yyyy年MM月dd日"),n.endTime=a("commonDate")(s.endTimeFormat,"yyyy年MM月dd日"))})}n.data=t,n.searched=!1,n.hide=function(){o.close()},n.cancel=function(){o.close()},n.back=function(){n.searched=!1},n.changeDoctor=function(){var t={RESPONSIBLE_DOCTOR_ID:n.row.FAMILY_DOCTOR_KEY_ID,RESPONSIBLE_DOCTOR_NAME:n.row.DOCTOR_NAME,BEFORE_DOCTOR_ID:s.FAMILY_DOCTOR_KEY_ID};if(0===e){t.FAMILY_LIST=[];for(var a=0;a<n.data.length;a++)t.FAMILY_LIST.push({FAMILY_KEY_ID:n.data[a].FAMILY_KEY_ID})}else t.DOCTOR_KEY_ID=s.FAMILY_DOCTOR_KEY_ID;r.updateFamilyDoctorBatch(t,function(e){i.handleMessage(e,function(){s.signingHomeTableData.bsTableControl.operat="refresh",i.alertDialog("已成功更换家庭的签约！").then(o.close())},function(){i.alertDialog("更换签约失败")})},function(){i.alertDialog("更换签约失败")})},n.search=function(){n.getDoctorList()},n.getDoctorList=function(){var e={SEARCH_DOCTOR:n.searchValue};r.getDoctorList(n,e,l)},n.$on("panelClose",function(){o.close()})}SMS.CONTROLLERS.controller("selectDoctorController",i),i.$inject=["$rootScope","$scope","mdPanelRef","$filter","doctorIndividualService"];var n=r.newPanelPosition().absolute().center(),o=r.newPanelAnimation().withAnimation(r.animation.FADE),a={animation:o,attachTo:angular.element(document.body),controller:i,templateUrl:"template/doctor/doctorIndividual/signManage/_changeSignEnsure.html",position:n,trapFocus:!0,disableParentScroll:!0,clickOutsideToClose:!1,clickEscapeToClose:!0,hasBackdrop:!0,fullscreen:!1};r.open(a)}s.signingHomeTableData.bsTableControl.getSelectionsBack=function(n){0===n.length&&0===t?e.alertDialog("请先选中家庭"):i(t,n)},s.signingHomeTableData.bsTableControl.operat="getSelections"},s}function physicalExaminationEditCtrl(e,t,i,n,o,a,r){function s(){T.data={},T.editable=!1,T.residentKeyId=t.params.RESIDENT_KEY_ID,T.physicalRecordKeyId=t.params.PHYSICAL_RECORD_KEY_ID,T.isResident=e.isContains(t.current.name,"resident"),_(),l()}function l(){var t=o.dictTypeCodeList;e.commonService("getDictList",{DICT_TYPE_CODE_LIST:t},function(i){e.handleMessage(i,function(i){angular.forEach(t,function(t){T[t.LIST_NAME]=e.selectItem(i,"DICT_TYPE_CODE",t.DICT_TYPE_CODE).DICT_CODE_LIST}),c()},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")})}function c(){o.getDetail({PHYSICAL_RECORD_KEY_ID:T.physicalRecordKeyId},function(t){e.handleMessage(t,function(e){E(e),T.dataBak=e},function(){e.alertDialog("查询体检档案失败")})},function(){e.alertDialog("查询体检档案失败")})}function E(t){T.residentInfo={},T.residentInfo.RESIDENT_ID_NO=t.RESIDENT_ID_NO,T.residentInfo.RESIDENT_NAME=t.RESIDENT_NAME,T.residentInfo.RESIDENT_SEX_NAME=t.RESIDENT_SEX_NAME,T.residentInfo.RESIDENT_PHONE_NO=t.RESIDENT_PHONE_NO,T.residentInfo.LIVING_TYPE_NAME=t.LIVING_TYPE_NAME,T.residentInfo.HOUSE_ADDRESS=t.HOUSE_ADDRESS,T.residentInfo.RESPONSIBLE_DOCTOR_NAME=t.RESPONSIBLE_DOCTOR_NAME,T.residentInfo.BIRTHDAY=r("commonDate")(t.BIRTHDAY),I(T.ZYZZSelected,T.ZYZZList,t.ZHENGZHUANG_ZYZZ_CODE),T.zhengzhuangQtzz=t.ZHENGZHUANG_QTZZ,T.yibanTw=t.YIBAN_TW,T.yibanMl=t.YIBAN_ML,T.yibanHxpl=t.YIBAN_HXPL,T.yibanZcssy=t.YIBAN_ZCSSY,T.yibanZcszy=t.YIBAN_ZCSZY,T.yibanYcssy=t.YIBAN_YCSSY,T.yibanYcszy=t.YIBAN_YCSZY,T.yibanSg=t.YIBAN_SG,T.yibanTz=t.YIBAN_TZ,T.yibanYw=t.YIBAN_YW,T.yibanRzzs=t.YIBAN_RZZS,T.LNRJKZTZWPG=d(e.selectItem(T.LNRJKZTZWPGList,"DICT_VALUE_CODE",t.YIBAN_LNRJKZTZWPG_CODE)),T.LNRSHZLNLZWPG=d(e.selectItem(T.LNRSHZLNLZWPGList,"DICT_VALUE_CODE",t.YIBAN_LNRSHZLNLZWPG_CODE)),T.RZGN=d(e.selectItem(T.RZGNList,"DICT_VALUE_CODE",t.YIBAN_RZGN_CODE)),T.yibanJlzzzljczf=t.YIBAN_JLZZZLJCZF,T.QGZZ=d(e.selectItem(T.QGZZList,"DICT_VALUE_CODE",t.YIABN_QGZZ_CODE)),T.yibanYypfjczf=t.YIBAN_YYPFJCZF,T.DLPL=d(e.selectItem(T.DLPLList,"DICT_VALUE_CODE",t.SHENGHUO_DLPL_CODE)),T.shenghuoMcdlsj=t.SHENGHUO_MCDLSJ,T.shenghuoJcdlsj=t.SHENGHUO_JCDLSJ,T.shenghuoDlfs=t.SHENGHUO_DLFS,I(T.YSXGSelected,T.YSXGList,t.SHENGHUO_YSXG_CODE),T.XYZK=d(e.selectItem(T.XYZKList,"DICT_VALUE_CODE",t.SHENGHUO_XYZK_CODE)),T.shenghuoRxyl=t.SHENGHUO_RXYL,T.shenghuoKsxynl=t.SHENGHUO_KSXYNL,T.shenghuoJynl=t.SHENGHUO_JYNL,T.YJPL=d(e.selectItem(T.YJPLList,"DICT_VALUE_CODE",t.SHENGHUO_YJPL_CODE)),T.shenghuoRyjl=t.SHENGHUO_RYJL,T.shenghuoSfjj=t.SHENGHUO_SFJJ,T.shenghuoJjnl=t.SHENGHUO_JJNL,T.shenghuoKsyjnl=t.SHENGHUO_KSYJNL,T.shenghuoJyynsfczj=t.SHENGHUO_JYNNSFCZJ,I(T.YJZLSelected,T.YJZLList,t.SHENGHUO_YJZL_CODE),T.shenghuoQtyjzl=t.SHENGHUO_QTYJZL,T.shenghuoZybwhsjcs=t.SHENGHUO_ZYBWHYSJCS,T.shenghuoGz=t.SHENGHUO_GZ,T.shenghuoCysj=t.SHENGHUO_CYSJ,T.shenghuoFc=t.SHENGHUO_FC,T.shenghuoFcfhcs=t.SHENGHUO_FCFHCS,T.shenghuoFcfhcsms=t.SHENGHUO_FCFHCSMS,T.shenghuoFswz=t.SHENGHUO_FSWZ,T.shenghuoFswzcs=t.SHENGHUO_FSWZCS,T.shenghuoFswzcsms=t.SHENGHUO_FSWZCSMS,T.shenghuoWlys=t.SHENGHUO_WLYS,T.shenghuoWlysfhcs=t.SHENGHUO_WLYSFHCS,T.shenghuoWlysfhcsms=t.SHENGHUO_WLYSFHCSMS,T.shenghuoHxwz=t.SHENGHUO_HXWZ,T.shenghuoHxwzfhcs=t.SHENGHUO_HXWZFHCS,T.shenghuoHxwzfhcsms=t.SHENGHUO_HXWZFHCSMS,T.shenghuoQt=t.SHENGHUO_QT,T.shenghuoQtfhcs=t.SHENGHUO_QTFHCS,T.shenghuoQtfhcsms=t.SHENGHUO_QTFHCSMS,T.KCTJJG=d(e.selectItem(T.KCTJJGList,"DICT_VALUE_CODE",t.ZANGQI_KCTJJG_CODE)),T.CLTJJG=d(e.selectItem(T.CLTJJGList,"DICT_VALUE_CODE",t.ZANGQI_CLTJJG_CODE)),T.YBTJJG=d(e.selectItem(T.YBTJJGList,"DICT_VALUE_CODE",t.ZANGQI_YBTJJG_CODE)),T.zangqiZysl=t.ZANGQI_ZYSL,T.zangqiYysl=t.ZANGQI_YYSL,T.zangqiZyjz=t.ZANGQI_ZYJZ,T.zangqiYyjz=t.ZANGQI_YYJZ,T.TLTJJG=d(e.selectItem(T.TLTJJGList,"DICT_VALUE_CODE",t.ZANGQI_TLTJJG_CODE)),T.YDGNTJJG=d(e.selectItem(T.YDGNTJJGList,"DICT_VALUE_CODE",t.ZANGQI_YDGNTJJG_CODE)),T.YDTJJG=d(e.selectItem(T.YDTJJGList,"DICT_VALUE_CODE",t.CHATI_YDTJJG_CODE)),T.chatiYdycms=t.CHATI_YDYCMS,T.PFTJJG=d(e.selectItem(T.PFTJJGList,"DICT_VALUE_CODE",t.CHATI_PFTJJG_CODE)),T.chatiPfqt=t.CHATI_PFQT,T.GMTJJG=d(e.selectItem(T.GMTJJGList,"DICT_VALUE_CODE",t.CHATI_GMTJJG_CODE)),T.chatiGmqt=t.CHATI_GMQT,T.LBJTJJG=d(e.selectItem(T.LBJTJJGList,"DICT_VALUE_CODE",t.CHATI_LBJTJJG_CODE)),T.chatiLbjqt=t.CHATI_LBJQT,T.chatiSfstzx=t.CHATI_SFSTZX,T.chatiHxysfyc=t.CHATI_HXYSFYC,T.chatiHxyycms=t.CHATI_HXYYCMS,T.LMYTJJG=d(e.selectItem(T.LMYTJJGList,"DICT_VALUE_CODE",t.CHATI_LMYTJJG_CODE)),T.chatiLmyqt=t.CHATI_LMYQT,T.chatiXl=t.CHATI_XL,T.XLTJJG=d(e.selectItem(T.XLTJJGList,"DICT_VALUE_CODE",t.CHATI_XLTJJG_CODE)),T.chatiSfyzy=t.CHATI_SFYZY,T.chatiZyms=t.CHATI_ZYMS,T.chatiSfyyt=t.CHATI_SFYYT,T.chatiYtms=t.CHATI_YTMS,T.chatiSfybk=t.CHATI_SFYBK,T.chatiBkms=t.CHATI_BKMS,T.chatiSfygd=t.CHATI_SFYGD,T.chatiGdms=t.CHATI_GDMS,T.chatiSfypd=t.CHATI_SFYPD,T.chatiPdms=t.CHATI_PDMS,T.chatiSfyydxzy=t.CHATI_SFYYDXZY,T.chatiYdxzyms=t.CHATI_YDXZYMS,T.XZSZTJJG=d(e.selectItem(T.XZSZTJJGList,"DICT_VALUE_CODE",t.CHATI_XZSZTJJG_CODE)),T.ZBDMBDTJJG=d(e.selectItem(T.ZBDMBDTJJGList,"DICT_VALUE_CODE",t.CHATI_ZBDMBDTJJG_CODE)),T.GMTZTJJG=d(e.selectItem(T.GMTZTJJGList,"DICT_VALUE_CODE",t.CHATI_GMTZTJJG_CODE)),T.chatiGmtzqt=t.CHATI_GMTZQT,I(T.RXTJJGSelected,T.RXTJJGList,t.CHATI_RXTJJG_CODE),T.chatiRxqt=t.CHATI_RXQT,T.chatiWysfyc=t.CHATI_WYSFYC,T.chatiWyycms=t.CHATI_WYYCMS,T.chatiYdsfyc=t.CHATI_YDSFYC,T.chatiYindycms=t.CHATI_YINDYCMS,T.chatiGgsfyc=t.CHATI_GGSFYC,T.chatiGgycms=t.CHATI_GGYCMS,T.chatiGtsfyc=t.CHATI_GTSFYC,T.chatiGtycms=t.CHATI_GTYCMS,T.chatiFjsfyc=t.CHATI_FJSFYC,T.chatiFjycms=t.CHATI_FJYCMS,T.chatiQtjc=t.CHATI_QTJC,T.fuzhuXhdb=t.FUZHU_XHDB,T.fuzhuBxb=t.FUZHU_BXB,T.fuzhuXxb=t.FUZHU_XXB,T.fuzhuXcgqt=t.FUZHU_XCGQT,T.fuzhuNdb=t.FUZHU_NDB,T.fuzhuNt=t.FUZHU_NT,T.fuzhuNtt=t.FUZHU_NTT,T.fuzhuNtx=t.FUZHU_NTX,T.fuzhuNcgqt=t.FUZHU_NCGQT,T.fuzhuKfxtMmol=t.FUZHU_KFXT_MMOL,T.fuzhuKfxtMg=t.FUZHU_KFXT_MG,T.fuzhuChxt=t.FUZHU_CHXT,T.fuzhuXdtsfyc=t.FUZHU_XDTSFYC,T.fuzhuXdtycms=t.FUZHU_XDTYCMS,T.fuzhuNwlbdb=t.FUZHU_NWLBDB,T.DBQXTJJG=d(e.selectItem(T.DBQXTJJGList,"DICT_VALUE_CODE",t.FUZHU_DBQXTJJG_CODE)),T.fuzhuThxhdb=t.FUZHU_THXHDB,T.YXGYBMKYTJJG=d(e.selectItem(T.YXGYBMKYTJJGList,"DICT_VALUE_CODE",t.FUZHU_YXGYBMKYTJJG_CODE)),T.fuzhuGbzam=t.FUZHU_GBZAM,T.fuzhuXqgczam=t.FUZHU_XQGCZAM,T.fuzhuBdb=t.FUZHU_BDB,T.fuzhuZdhs=t.FUZHU_ZDHS,T.fuzhuJhdhs=t.FUZHU_JHDHS,T.fuzhuXqjg=t.FUZHU_XQJG,T.fuzhuXnsd=t.FUZHU_XNSD,T.fuzhuXjnd=t.FUZHU_XJND,T.fuzhuXnnd=t.FUZHU_XNND,T.fuzhuZdgc=t.FUZHU_ZDGC,T.fuzhuGysz=t.FUZHU_GYSZ,T.fuzhuXqdmdzdbdgc=t.FUZHU_XQDMDZDBDGC,T.fuzhuXqgmdzdbdgc=t.FUZHU_XQGMDZDBDGC,T.fuzhuXbxxpsfyc=t.FUZHU_XBXXPSFYC,T.fuzhuXbxxpycms=t.FUZHU_XBXXPYCMS,T.fuzhuBcsfyc=t.FUZHU_BCSFYC,T.fuzhuBcycms=t.FUZHU_BCYCMS,T.fuzhuGgtpsfyc=t.FUZHU_GGTPSFYC,T.fuzhuGgtuycms=t.FUZHU_GGTUYCMS,T.fuzhuQtjc=t.FUZHU_QTJC,T.constitutionNormal=t.NORMAL_CONSTITUTION,T.constitutionQiDeficiency=t.QI_DEFICIENCY_CONSTITUTION,T.constitutionYangDeficiency=t.YANG_DEFICIENCY_CONSTITUTION,T.constitutionYinDeficiency=t.YIN_DEFICIENCY_CONSTITUTION,T.constitutionPhlegmDampness=t.PHLEGM_DAMPNESS_CONSTITUTION,T.constitutionDampHeat=t.DAMP_HEAT_CONSTITUTION,T.constitutionBloodStasis=t.BLOOD_STASIS_CONSTITUTION,T.constitutionQiStagnation=t.QI_STAGNATION_CONSTITUTION,T.constitutionSpecial=t.SPECIAL_CONSTITUTION,I(T.NXGJBSelected,T.NXGJBList,t.WENTI_NXGJB_CODE),T.wentiNxgjbqt=t.WENTI_NXGJBQT,I(T.SZJBSelected,T.SZJBList,t.WENTI_SZJB_CODE),T.wentiSzjbqt=t.WENTI_SZJBQT,I(T.XZJBSelected,T.XZJBList,t.WENTI_XZJB_CODE),T.wentiXzjbqt=t.WENTI_XZJBQT,I(T.XGJBSelected,T.XGJBList,t.WENTI_XGJB_CODE),T.wentiXgjbqt=t.WENTI_XGJBQT,I(T.YBJBSelected,T.YBJBList,t.WENTI_YBJB_CODE),T.wentiYbjbqt=t.WENTI_YBJBQT,T.wentiSfysjxtjb=t.WENTI_SFYSJXTJB,T.wentiSjxtjbms=t.WENTI_SJXTJBMS,T.wentiSfyqtxtjb=t.WENTI_SFYQTXTJB,T.wentiQtxtjbms=t.WENTI_QTXTJBMS,I(T.JKZDSelected,T.JKZDList,t.ZHIDAO_JKZD_CODE),I(T.WXYSKZSelected,T.WXYSKZList,t.ZHIDAO_WXYSKZ_CODE),T.zhidaoMbtz=t.ZHIDAO_MBTZ,T.zhidaoJyjzym=t.ZHIDAO_JYJZYM,T.zhidaoJkzdqt=t.ZHIDAO_JKZDQT,void 0!==t.PHYSICAL_DATE&&""!==t.PHYSICAL_DATE&&null!==t.PHYSICAL_DATE&&(T.physicalDate=new Date(t.PHYSICAL_DATE)),void 0!==t.CREATE_TIME&&""!==t.CREATE_TIME&&null!==t.CREATE_TIME&&(T.createTime=new Date(t.CREATE_TIME)),T.physicalOrganization=t.PHYSICAL_ORGANIZATION,T.inputPerson=t.INPUT_PERSON,T.hospitalization_history_list=t.HOSPITALIZATION_HISTORY_LIST,T.family_bed_history_list=t.FAMILY_BED_HISTORY_LIST,T.medication_record_list=t.MEDICATION_RECORD_LIST,T.nonimmune_vaccination_history_list=t.NONIMMUNE_VACCINATION_HISTORY_LIST,angular.forEach(T.hospitalization_history_list,function(e){e.HOSPITALIZATION_DATE=D(e.HOSPITALIZATION_DATE),e.DISCHARGE_DATE=D(e.DISCHARGE_DATE)}),angular.forEach(T.family_bed_history_list,function(e){e.DATE_OF_CONSTRUCTION=D(e.DATE_OF_CONSTRUCTION),e.DATE_OF_WITHDRAWAL=D(e.DATE_OF_WITHDRAWAL)}),angular.forEach(T.medication_record_list,function(e){e.MEDICATION_TIME=D(e.MEDICATION_TIME),angular.forEach(T.drugComplianceList,function(t){t.DICT_VALUE_CODE===e.DRUG_COMPLIANCE_CODE&&(e.DRUG_COMPLIANCE=t)})}),angular.forEach(T.nonimmune_vaccination_history_list,function(e){e.VACCINATION_DATE=D(e.VACCINATION_DATE)}),T.abnormal_record_list=t.ABNORMAL_RECORD_LIST,T.abnormal_record_list.length>0?T.abnormal_record_state=!0:T.abnormal_record_state=!1}function _(){T.ZYZZSelected=[],T.YSXGSelected=[],T.YJZLSelected=[],T.RXTJJGSelected=[],T.NXGJBSelected=[],T.SZJBSelected=[],T.XZJBSelected=[],T.XGJBSelected=[],T.YBJBSelected=[],T.JKZDSelected=[],T.WXYSKZSelected=[],T.LNRJKZTZWPG={},T.LNRSHZLNLZWPG={},T.RZGN={},T.QGZZ={},T.DLPL={},T.XYZK={},T.YJPL={},T.KCTJJG={},T.CLTJJG={},T.YBTJJG={},T.TLTJJG={},T.YDGNTJJG={},T.YDTJJG={},T.PFTJJG={},T.GMTJJG={},T.LBJTJJG={},T.LMYTJJG={},T.XLTJJG={},T.XZSZTJJG={},T.ZBDMBDTJJG={},T.GMTZTJJG={},T.DBQXTJJG={},T.YXGYBMKYTJJG={},T.hospitalization_history_list=[],
T.family_bed_history_list=[],T.medication_record_list=[],T.nonimmune_vaccination_history_list=[],T.abnormal_record_list=[]}function d(e){return void 0===e||null===e||""===e?{DICT_VALUE_CODE:"",DICT_VALUE_NAME:""}:e}function I(t,i,n){if(void 0!==n&&null!==n&&""!==n){var o=n.split(",");angular.forEach(o,function(n){t.push(e.selectItem(i,"DICT_VALUE_CODE",n))})}}function D(e){return void 0!==e&&""!==e&&null!==e&&(e=new Date(e)),e}var T=this;return T.changeZybwhsjcs=function(){1===T.shenghuoZybwhsjcs&&(T.shenghuoFcfhcs=0,T.shenghuoFswzcs=0,T.shenghuoWlysfhcs=0,T.shenghuoHxwzfhcs=0,T.shenghuoQtfhcs=0)},T.changeZybwhsjcs=function(){1===T.shenghuoZybwhsjcs&&(T.shenghuoFcfhcs=0,T.shenghuoFswzcs=0,T.shenghuoWlysfhcs=0,T.shenghuoHxwzfhcs=0,T.shenghuoQtfhcs=0)},T.addHistory=function(e){switch(e){case 1:T.hospitalization_history_list.push({HOSPITALIZATION_DATE:null,DISCHARGE_DATE:null,REASON:"",ORGANIZATION_NAME:"",MEDICAL_RECORD_NUMBER:""});break;case 2:T.family_bed_history_list.push({DATE_OF_CONSTRUCTION:null,DATE_OF_WITHDRAWAL:null,REASON:"",ORGANIZATION_NAME:"",MEDICAL_RECORD_NUMBER:""});break;case 3:T.medication_record_list.push({MEDICATION_NAME:"",MEDICATION_USAGE:"",DOSAGE:"",MEDICATION_TIME:null,DRUG_COMPLIANCE_CODE:"",DRUG_COMPLIANCE_NAME:""});break;case 4:T.nonimmune_vaccination_history_list.push({VACCINATION_NAME:"",VACCINATION_DATE:null,VACCINATION_ORGANIZATION_NAME:""});break;case 5:T.abnormal_record_list.push({ABNORMAL_DESCRIPTION:""})}},T.calculateBMI=function(){if(T.yibanSg&&T.yibanTz){var e=(1e5*T.yibanTz/(T.yibanSg*T.yibanSg)).toFixed(0);T.yibanRzzs=parseInt(e)/10}},T.abnormal_record_state_change=function(){0===T.abnormal_record_state?T.abnormal_record_list=[]:1===T.abnormal_record_state&&T.addHistory(5)},T.goBack=function(){e.back()},T.remove=o.remove,T.exists=o.exists,T.toggle=o.toggle,T.listContainsCode=o.listContainsCode,T.isEmptyObject=o.isEmptyObject,T.scrollTo=function(e){i.hash(e),n()},s(),T}function residentExaminationListCtrl(e,t,i){var n=this;return n.residentKeyId=t.RESIDENT_KEY_ID,i.getPhysicalExaminationListByResident(n,{RESIDENT_KEY_ID:n.residentKeyId},e),n}function physicalExaminationService(e,t,i){var n=this;n.dictTypeCodeList=[{DICT_TYPE_CODE:"0026",LIST_NAME:"drugComplianceList"},{DICT_TYPE_CODE:"0034001",LIST_NAME:"ZYZZList"},{DICT_TYPE_CODE:"0034002",LIST_NAME:"LNRJKZTZWPGList"},{DICT_TYPE_CODE:"0034003",LIST_NAME:"LNRSHZLNLZWPGList"},{DICT_TYPE_CODE:"0034004",LIST_NAME:"RZGNList"},{DICT_TYPE_CODE:"0034005",LIST_NAME:"QGZZList"},{DICT_TYPE_CODE:"0034006",LIST_NAME:"DLPLList"},{DICT_TYPE_CODE:"0034007",LIST_NAME:"YSXGList"},{DICT_TYPE_CODE:"0034008",LIST_NAME:"XYZKList"},{DICT_TYPE_CODE:"0034009",LIST_NAME:"YJPLList"},{DICT_TYPE_CODE:"0034010",LIST_NAME:"YJZLList"},{DICT_TYPE_CODE:"0034011",LIST_NAME:"KCTJJGList"},{DICT_TYPE_CODE:"0034012",LIST_NAME:"CLTJJGList"},{DICT_TYPE_CODE:"0034013",LIST_NAME:"YBTJJGList"},{DICT_TYPE_CODE:"0034014",LIST_NAME:"TLTJJGList"},{DICT_TYPE_CODE:"0034015",LIST_NAME:"YDGNTJJGList"},{DICT_TYPE_CODE:"0034016",LIST_NAME:"YDTJJGList"},{DICT_TYPE_CODE:"0034017",LIST_NAME:"PFTJJGList"},{DICT_TYPE_CODE:"0034018",LIST_NAME:"GMTJJGList"},{DICT_TYPE_CODE:"0034019",LIST_NAME:"LBJTJJGList"},{DICT_TYPE_CODE:"0034020",LIST_NAME:"LMYTJJGList"},{DICT_TYPE_CODE:"0034021",LIST_NAME:"XLTJJGList"},{DICT_TYPE_CODE:"0034022",LIST_NAME:"XZSZTJJGList"},{DICT_TYPE_CODE:"0034023",LIST_NAME:"ZBDMBDTJJGList"},{DICT_TYPE_CODE:"0034024",LIST_NAME:"GMTZTJJGList"},{DICT_TYPE_CODE:"0034025",LIST_NAME:"RXTJJGList"},{DICT_TYPE_CODE:"0034026",LIST_NAME:"DBQXTJJGList"},{DICT_TYPE_CODE:"0034027",LIST_NAME:"YXGYBMKYTJJGList"},{DICT_TYPE_CODE:"0034028",LIST_NAME:"NXGJBList"},{DICT_TYPE_CODE:"0034029",LIST_NAME:"SZJBList"},{DICT_TYPE_CODE:"0034030",LIST_NAME:"XZJBList"},{DICT_TYPE_CODE:"0034031",LIST_NAME:"XGJBList"},{DICT_TYPE_CODE:"0034032",LIST_NAME:"YBJBList"},{DICT_TYPE_CODE:"0034033",LIST_NAME:"JKZDList"},{DICT_TYPE_CODE:"0034034",LIST_NAME:"WXYSKZList"}],n.remove=function(e,t){t.splice(e,1)},n.exists=function(e,t){return t.indexOf(e)>-1},n.isEmptyObject=function(e){if(isNaN(e)){for(var t in e)return!1;return!0}return!1};var o=["0034001000010","0034025000010","0034028000010","0034029000010","0034030000010","0034031000010","0034032000010"];return n.toggle=function(t,i){var n=o.indexOf(t.DICT_VALUE_CODE);if(n>-1){var a=i.indexOf(t);a>-1?i.splice(a,1):(i.splice(0,i.length),i.push(t))}else{angular.forEach(i,function(t){var n=o.indexOf(t.DICT_VALUE_CODE);if(n>-1){var a=e.selectIndex(i,"DICT_VALUE_CODE",t.DICT_VALUE_CODE);return i.splice(a,1),!1}});var a=i.indexOf(t);a>-1?i.splice(a,1):i.push(t)}},n.listContainsCode=function(e,t){for(var i=0;i<e.length;i++)if(e[i].DICT_VALUE_CODE===t)return!0;return!1},n.getPhysicalExaminationListByResident=function(n,o,a){function r(i,n,o){t.getPhysicalExaminationListByResident(JSON.stringify(i)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var s={dataFunction:r,dataParams:o,columns:[{field:"PHYSICAL_DATE",title:"体检日期",align:"center",formatter:function(e){return"<div class='edit' style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click .edit":function(e,t,i){a.go("main.resident.residentArchivesSidebar.detail.physicalExaminationEdit",{RESIDENT_KEY_ID:a.params.RESIDENT_KEY_ID,RESIDENT_ID_NO:a.params.RESIDENT_ID_NO,PHYSICAL_RECORD_KEY_ID:i.PHYSICAL_RECORD_KEY_ID})}}},{field:"PHYSICAL_ORGANIZATION",title:"体检机构",align:"center"},{field:"CREATOR_NAME",title:"录入人",align:"center"}]};n.physicalExaminationData={bsTableControl:{options:i.initOption(s)}}},n.getDetail=function(e,i,n){return t.getDetail(JSON.stringify(e)).$promise.then(i,n)},n}function physicalIdentificationEditCtrl(e,t,i,n,o){function a(){D.mainConstitutionSelected=[],D.preferConstitutionSelected=[],D.guideSelected=[],D.questions=[],D.residentName="",D.residentIdNo="",D.residentSexName="",D.residentSexCode="",D.assessDoctor="",D.assessDate=new Date,D.constitutionTypeScoreObject=angular.copy(o.ConstitutionTypeScoreObject)}function r(){e.commonService("getDictList",{DICT_TYPE_CODE_LIST:T},function(t){e.handleMessage(t,function(e){D.dictList=e,s(e),I(D.originData)},function(){e.alertDialog("获取字典列表失败")})},function(){e.alertDialog("获取字典列表失败")})}function s(t){angular.forEach(T,function(i){D[i.LIST_NAME]=e.selectItem(t,"DICT_TYPE_CODE",i.DICT_TYPE_CODE).DICT_CODE_LIST})}function l(){D.constitutionTypeScoreObject.QI_DEFICIENCY_CONSTITUTION_SCORE=c([2,3,4,14]),D.constitutionTypeScoreObject.YANG_DEFICIENCY_CONSTITUTION_SCORE=c([11,12,13,29]),D.constitutionTypeScoreObject.YIN_DEFICIENCY_CONSTITUTION_SCORE=c([10,21,26,31]),D.constitutionTypeScoreObject.PHLEGM_DAMPNESS_CONSTITUTION_SCORE=c([9,16,28,32]),D.constitutionTypeScoreObject.DAMP_HEAT_CONSTITUTION_SCORE=c([23,25,27,30]),D.constitutionTypeScoreObject.BLOOD_STASIS_CONSTITUTION_SCORE=c([19,22,24,33]),D.constitutionTypeScoreObject.QI_STAGNATION_CONSTITUTION_SCORE=c([5,6,7,8]),D.constitutionTypeScoreObject.SPECIAL_CONSTITUTION_SCORE=c([15,17,18,20]),D.constitutionTypeScoreObject.NORMAL_CONSTITUTION_SCORE=E([1,2,4,5,13])}function c(e){var t=0;return angular.forEach(e,function(e){D.questions[e-1].score&&(t+=D.questions[e-1].score.BIASED_CONSTITUTION_SCORE)}),t}function E(e){var t=0;return angular.forEach(e,function(e){D.questions[e-1].score&&(t+=D.questions[e-1].score.NORMAL_CONSTITUTION_SCORE)}),t}function _(){var e=!0,t=!0;D.mainConstitutionSelected=[],D.preferConstitutionSelected=[];for(var i in D.constitutionTypeScoreObject)i+""!="NORMAL_CONSTITUTION_SCORE"&&(D.constitutionTypeScoreObject[i]>=11?D.mainConstitutionSelected.push(u+i.substring(0,i.length-6)):D.constitutionTypeScoreObject[i]>=9&&D.preferConstitutionSelected.push(O+i.substring(0,i.length-6)),D.constitutionTypeScoreObject[i]>=10?(t=!1,e=!1):D.constitutionTypeScoreObject[i]>=8&&(e=!1));D.constitutionTypeScoreObject.NORMAL_CONSTITUTION_SCORE>=17&&(e?D.mainConstitutionSelected.push(u+"NORMAL_CONSTITUTION"):t&&D.preferConstitutionSelected.push(O+"NORMAL_CONSTITUTION"))}function d(e,t){var i=[];for(var n in e)1==t[n]&&i.push(n);return i}function I(t){D.residentKeyId=t.RESIDENT_KEY_ID,D.residentName=t.RESIDENT_NAME,D.residentIdNo=t.RESIDENT_ID_NO,D.residentSexName=t.RESIDENT_SEX_NAME,D.residentSexCode=t.RESIDENT_SEX_CODE,D.dateOfBirth=new Date(t.BIRTHDAY),D.questions=t.ASSESS_ITEM_LIST,D.assessDoctor=t.ASSESS_DOCTOR,D.assessDate=new Date(t.ASSESS_DATE),D.creatorName=t.CREATOR_NAME,D.createTime=new Date(t.CREATE_TIME),D.updateTime=new Date(t.UPDATE_TIME),D.sexItem=e.selectItem(D.sexCodeName,"DICT_VALUE_CODE",D.residentSexCode);var i=t.TCM_HEALTH_GUIDANCE_CODE?t.TCM_HEALTH_GUIDANCE_CODE.split(","):[];i.length<1?D.guideSelected=[]:D.guideSelected=o.getItemArrByCodeArr(D.guideList,i,"DICT_VALUE_CODE"),D.mainConstitutionSelected=d(D.MainConstitutionMap,t),D.preferConstitutionSelected=d(D.PreferConstitutionMap,t),angular.forEach(D.questions,function(e){angular.forEach(e.ASSESS_ITEM_OPTION_LIST,function(t){1==t.IS_OPTION_SELECTED&&(e.score=t)})});for(var n in D.constitutionTypeScoreObject)D.constitutionTypeScoreObject[n]=t[n]}var D=this;D.editable=!1,D.tcmConstitutionRecordKeyId=i.TCM_CONSTITUTION_RECORD_KEY_ID,D.residentKeyId=i.RESIDENT_KEY_ID,D.exists=function(e,t){return t.indexOf(e)>-1},D.isResident=e.isContains(t.current.name,"resident"),D.toggle=function(e,t){var i=t.indexOf(e);i>-1?t.splice(i,1):t.push(e)},D.ConstitutionTypeTable=o.ConstitutionTypeTable,D.ConstitutionTypeScoreMap=o.ConstitutionTypeScoreMap,D.MainConstitutionMap=o.MainConstitutionMap,D.PreferConstitutionMap=o.PreferConstitutionMap;var T=[{DICT_TYPE_CODE:"0009",LIST_NAME:"sexCodeName"},{DICT_TYPE_CODE:"0035",LIST_NAME:"guideList"}];D.detail=function(){o.detail({TCM_CONSTITUTION_RECORD_KEY_ID:D.tcmConstitutionRecordKeyId,RESIDENT_KEY_ID:D.residentKeyId},function(t){e.handleMessage(t,function(e){D.originData=e,r()},function(){e.alertDialog("获取个人信息失败")})},function(){e.alertDialog("获取个人信息失败")})},D.reEvaluate=function(){l(),_()};var u="IS_MAIN_",O="IS_PREFER_";return D.back=function(){e.back()},D.failedTip=function(e){n.show(n.alert().clickOutsideToClose(!0).title("提示").textContent(e).ok("确定"))},a(),D.detail(),D}function residentIdentificationListCtrl(e,t,i,n,o){var a=this;return a.residentKeyId=i.RESIDENT_KEY_ID,a.create=function(){t.go("main.resident.residentArchivesSidebar.detail.physicalIdentificationAdd",{RESIDENT_KEY_ID:a.residentKeyId})},o.showResidentTable(a,{RESIDENT_KEY_ID:a.residentKeyId},t),a}function physicalIdentificationService(e,t,i,n){function o(e){var t=[];for(var i in r.MainConstitutionMap)1==e[i]&&t.push(r.MainConstitutionMap[i]);return t.toString()}function a(e){var t=[];for(var i in r.PreferConstitutionMap)1==e[i]&&t.push(r.PreferConstitutionMap[i]);return t.toString()}var r=this;return r.ConstitutionTypeTable=["气虚质","阳虚质","	阴虚质","痰湿质","湿热质","血瘀质","气郁质","特禀质","平和质"],r.ConstitutionTypeScoreObject={QI_DEFICIENCY_CONSTITUTION_SCORE:0,YANG_DEFICIENCY_CONSTITUTION_SCORE:0,YIN_DEFICIENCY_CONSTITUTION_SCORE:0,PHLEGM_DAMPNESS_CONSTITUTION_SCORE:0,DAMP_HEAT_CONSTITUTION_SCORE:0,BLOOD_STASIS_CONSTITUTION_SCORE:0,QI_STAGNATION_CONSTITUTION_SCORE:0,SPECIAL_CONSTITUTION_SCORE:0,NORMAL_CONSTITUTION_SCORE:0},r.ConstitutionTypeScoreMap={QI_DEFICIENCY_CONSTITUTION_SCORE:"气虚质",YANG_DEFICIENCY_CONSTITUTION_SCORE:"阳虚质",YIN_DEFICIENCY_CONSTITUTION_SCORE:"阴虚质",PHLEGM_DAMPNESS_CONSTITUTION_SCORE:"痰湿质",DAMP_HEAT_CONSTITUTION_SCORE:"湿热质",BLOOD_STASIS_CONSTITUTION_SCORE:"血瘀质",QI_STAGNATION_CONSTITUTION_SCORE:"气郁质",SPECIAL_CONSTITUTION_SCORE:"特禀质",NORMAL_CONSTITUTION_SCORE:"平和质"},r.MainConstitutionMap={IS_MAIN_NORMAL_CONSTITUTION:"平和质",IS_MAIN_QI_DEFICIENCY_CONSTITUTION:"气虚质",IS_MAIN_YANG_DEFICIENCY_CONSTITUTION:"阳虚质",IS_MAIN_YIN_DEFICIENCY_CONSTITUTION:"阴虚质",IS_MAIN_PHLEGM_DAMPNESS_CONSTITUTION:"痰湿质",IS_MAIN_DAMP_HEAT_CONSTITUTION:"湿热质",IS_MAIN_BLOOD_STASIS_CONSTITUTION:"血瘀质",IS_MAIN_QI_STAGNATION_CONSTITUTION:"气郁质",IS_MAIN_SPECIAL_CONSTITUTION:"特禀质"},r.PreferConstitutionMap={IS_PREFER_NORMAL_CONSTITUTION:"平和质",IS_PREFER_QI_DEFICIENCY_CONSTITUTION:"气虚质",IS_PREFER_YANG_DEFICIENCY_CONSTITUTION:"阳虚质",IS_PREFER_YIN_DEFICIENCY_CONSTITUTION:"阴虚质",IS_PREFER_PHLEGM_DAMPNESS_CONSTITUTION:"痰湿质",IS_PREFER_DAMP_HEAT_CONSTITUTION:"湿热质",IS_PREFER_BLOOD_STASIS_CONSTITUTION:"血瘀质",IS_PREFER_QI_STAGNATION_CONSTITUTION:"气郁质",IS_PREFER_SPECIAL_CONSTITUTION:"特禀质"},r.isEmptyObject=function(e){for(var t in e)return!1;return!0},r.contains=function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return 1;return 0},r.objectToString=function(e){var t=[],i=[];return angular.forEach(e,function(e){t.push(e.DICT_VALUE_NAME),i.push(e.DICT_VALUE_CODE)}),{NAME:t.toString(),CODE:i.toString()}},r.detail=function(e,t,n){i.getResidentTCMConstitutionDetail(JSON.stringify(e)).$promise.then(t,n)},r.getItemArrByCodeArr=function(t,i,n){var o=[];if(""===i[0])return[];for(var a=0;a<i.length;a++)o.push(e.selectItem(t,n,i[a]));return o},r.showResidentTable=function(t,r,s){function l(t,n,o){i.getResidentTCMConstitutionList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取中医体质辨识列表信息失败")})},function(){e.alertDialog("获取中医体质辨识列表信息失败"),o()})}var c={dataFunction:l,dataParams:r,columns:[{field:"ASSESS_DATE",title:"评估日期",align:"center",formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,i,n){s.go("main.resident.residentArchivesSidebar.detail.physicalIdentificationEdit",{TCM_CONSTITUTION_RECORD_KEY_ID:n.TCM_CONSTITUTION_RECORD_KEY_ID,RESIDENT_KEY_ID:t.residentKeyId})}}},{field:"IS_MAIN_YANG_DEFICIENCY_CONSTITUTION",title:"主要体质",align:"center",formatter:function(e,t){return o(t)}},{field:"IS_PREFER_NORMAL_CONSTITUTION",title:"倾向体质",align:"center",formatter:function(e,t){return a(t)}},{field:"TCM_HEALTH_GUIDANCE_NAME",title:"保健指导",align:"center"},{field:"ASSESS_DOCTOR",title:"评估医生",align:"center"}]};t.tableData={bsTableControl:{options:n.initOption(c)}}},r}function diabetesBloodGlucoseEditCtrl(e,t,i,n){function o(){n.getDetailById({BLOOD_GLUCOSE_RECORD_KEY_ID:t.params.RECORD_KEY_ID},function(e){s.FASTING_BLOOD_GLUCOSE=e.FASTING_BLOOD_GLUCOSE,s.POSTPRANDIAL_BLOOD_GLUCOSE=e.POSTPRANDIAL_BLOOD_GLUCOSE,s.MEASURE_DATE=new Date(e.MEASURE_DATE),s.recordDoctor=e.MEASURE_DOCTOR,s.MEASURE_TYPE_NAME=e.MEASURE_TYPE_NAME})}function a(){r(),o()}function r(){e.isContains(t.current.name,"main.special")?s.statePre="main.special.diabetesSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(s.statePre="main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.")}var s=this;return s.isEdit=!0,s.delectable=!0,s.saveBloodGlucose=function(o){if(e.check(o)){var a={BLOOD_GLUCOSE_RECORD_KEY_ID:t.params.RECORD_KEY_ID,DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID,FASTING_BLOOD_GLUCOSE:s.FASTING_BLOOD_GLUCOSE,POSTPRANDIAL_BLOOD_GLUCOSE:s.POSTPRANDIAL_BLOOD_GLUCOSE,MEASURE_TYPE_CODE:s.recordType.DICT_VALUE_CODE,MEASURE_TYPE_NAME:s.recordType.DICT_VALUE_NAME,MEASURE_DATE:i("commonDate")(s.MEASURE_DATE),MEASURE_DOCTOR:s.recordDoctor?s.recordDoctor:null};n.editBloodGlucose(a,function(i){e.handleMessage(i,function(){e.alertDialog("保存成功"),t.go(s.statePre+"bloodGlucoseList",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID})},function(){e.alertDialog("保存失败")})},function(){e.alertDialog("保存失败")})}},s.changeType=function(){"0027000040"===s.recordType.DICT_VALUE_CODE&&(s.recordDoctor="")},s.returnBack=function(t){t.$dirty?e.confirmDialog("是否放弃已经编辑的内容?",function(){s.isEdit=!0,o()},function(){}):s.isEdit=!0},s.goBack=function(){t.go(s.statePre+"bloodGlucoseList",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID})},s.editBloodGlucose=function(e){s.isEdit=!1,e.$setPristine(),e.$setUntouched()},a(),s}function diabetesBloodGlucoseListCtrl(e,t,i){function n(){o(),i.getBloodGlucoseList(a,{DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID},a.statePre)}function o(){e.isContains(t.current.name,"main.special")?a.statePre="main.special.diabetesSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(a.statePre="main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.")}var a=this;return a.addRecord=function(){t.go(a.statePre+"bloodGlucoseAdd",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID})},a.showReport=function(){t.go(a.statePre+"bloodGlucoseReport",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID})},n(),a}function diabetesBloodGlucoseReportCtrl(e,t,i){function n(){a(),i.getBloodGlucoseCurveList({DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID,RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID},function(t){e.handleMessage(t,function(e){o(e)},function(){e.alertDialog("获取血糖曲线信息失败")})},function(){e.alertDialog("获取血糖曲线信息失败")})}function o(e){for(var t=[],i=[],n=[],o=0;o<e.length;o++)t.push(e[o].MEASURE_DATE),i.push(e[o].FASTING_BLOOD_GLUCOSE),n.push(e[o].POSTPRANDIAL_BLOOD_GLUCOSE);r.reportData={tooltip:{trigger:"axis",formatter:function(e){return e&&null!=e.length&&0!==e.length&&""!==e[0].name?["<div><span>"+e[0].name+"</span><br/>","<span>"+e[0].seriesName+":"+e[0].value+"mmol/L</span><br/>","<span>"+e[1].seriesName+":"+e[1].value+"mmol/L</span><br/>","<span>空腹血糖低值：3.9mmol/L</span><br/>","<span>空腹血糖高值：6.1mmol/L</span><br/>","<span>餐后血糖正常值：7.8mmol/L</span><br/>","<span>餐后血糖高值：11.1mmol/L</span>"].join(""):void 0}},legend:{data:["空腹血糖曲线","餐后血糖曲线"]},grid:{left:"8%",right:"18%",bottom:"5%",containLabel:!0},xAxis:[{type:"category",axisLabel:{interval:0,rotate:30},boundaryGap:!1,data:t}],yAxis:[{type:"value"}],series:[{name:"空腹血糖曲线",type:"line",symbol:"emptyRect",symbolSize:6,connectNulls:!0,markLine:{symbol:"none",label:{normal:{show:!0,formatter:"{b}"}},data:[{name:"空腹血糖低值",yAxis:3.9},{name:"空腹血糖高值",yAxis:6.1}]},data:i},{name:"餐后血糖曲线",type:"line",symbol:"emptyRect",symbolSize:6,connectNulls:!0,markLine:{symbol:"none",label:{normal:{show:!0,formatter:"{b}"}},data:[{name:"餐后血糖正常值",yAxis:7.8},{name:"餐后血糖高值",yAxis:11.1}]},data:n},{name:"空腹血糖低值",type:"line",symbol:"none",data:[3.9]},{name:"空腹血糖高值",type:"line",symbol:"none",data:[6.1]},{name:"餐后血糖正常值",type:"line",symbol:"none",data:[7.8]},{name:"餐后血糖高值",type:"line",symbol:"none",data:[11.1]}]}}function a(){e.isContains(t.current.name,"main.special")?r.statePre="main.special.diabetesSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(r.statePre="main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.")}var r=this;return r.returnBack=function(){t.go(r.statePre+"bloodGlucoseList",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID})},n(),r}function diabetesBloodGlucoseRecordService(e,t,i,n){var o=this;return o.getBloodGlucoseList=function(o,a,r){function s(t,n,o){e.getBloodGlucoseList(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(e){n(e||{total:0,rows:[]})},function(){i.alertDialog("获取列表信息失败")})},function(){i.alertDialog("获取列表信息失败"),o()})}var l={dataFunction:s,dataParams:a,columns:[{field:"MEASURE_DATE",title:"测量日期",align:"center",width:298,formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,t,i){"0027000010"===i.MEASURE_TYPE_CODE?n.go(r+"followupEdit",{RESIDENT_KEY_ID:n.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:n.params.DIABETES_RECORD_KEY_ID,FOLLOW_UP_RECORD_KEY_ID:i.RECORD_KEY_ID}):"0027000060"===i.MEASURE_TYPE_CODE?"main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail."===r?n.go("main.resident.residentArchivesSidebar.detail.physicalExaminationEdit",{RESIDENT_KEY_ID:n.params.RESIDENT_KEY_ID,RESIDENT_ID_NO:i.RESIDENT_ID_NO,PHYSICAL_RECORD_KEY_ID:i.RECORD_KEY_ID}):n.go("main.physicalExaminationEdit",{RESIDENT_KEY_ID:n.params.RESIDENT_KEY_ID,RESIDENT_ID_NO:i.RESIDENT_ID_NO,PHYSICAL_RECORD_KEY_ID:i.RECORD_KEY_ID}):n.go(r+"bloodGlucoseEdit",{RESIDENT_KEY_ID:n.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:n.params.DIABETES_RECORD_KEY_ID,RECORD_KEY_ID:i.RECORD_KEY_ID})}}},{field:"FASTING_BLOOD_GLUCOSE",title:"空腹血糖(mmol/L)",width:238,align:"center"},{field:"POSTPRANDIAL_BLOOD_GLUCOSE",title:"餐后血糖(mmol/L)",width:366,align:"center"},{field:"MEASURE_TYPE_NAME",title:"测量类型",width:298,align:"center"},{field:"MEASURE_DOCTOR",title:"测量医生",width:298,align:"center",formatter:function(e){return e?e:"-"}}]};o.bloodGlucoseTableData={bsTableControl:{options:t.initOption(l)}}},o.createBloodGlucose=function(t,i,n){e.createBloodGlucose(JSON.stringify(t)).$promise.then(i,n)},o.getBloodGlucoseCurveList=function(t,i,n){e.getBloodGlucoseCurveList(JSON.stringify(t)).$promise.then(i,n)},o.getDetailById=function(t,n){e.getDetailById(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(e){n(e||{})},function(){i.alertDialog("获取血糖信息失败")})},function(){i.alertDialog("获取血糖信息失败")})},o.editBloodGlucose=function(t,i,n){e.editBloodGlucose(JSON.stringify(t)).$promise.then(i,n)},o}function diabetesFollowupEditCtrl(e,t,i,n,o){function a(){n.getFollowUpRecordInfo({SUITABLE_CROWD_CODE:"0020000020",FOLLOW_UP_RECORD_KEY_ID:D},function(t){e.handleMessage(t,function(e){T=e.SPLIT_06;var t=r(e);d.templateInfo=t,d.TITLE_LIST=t.TITLE_LIST,E(d.TITLE_LIST)},function(){e.alertDialog("随访模版信息获取失败")})},function(){e.alertDialog("随访模版信息获取失败")})}function r(e){for(var t=0;t<e.TITLE_LIST.length;t++)for(var i=0;i<e.TITLE_LIST[t].FIELD_LIST.length;i++){if("0022000070"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE)for(var n=0;n<e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST.length;n++){for(var a=e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST[n].FIELD_DETAILED_CONTENT.split("\b"),r=[],s=0;s<a.length;s++)r.push({TEMP_NAME:a[s]});e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST[n].FIELD_DETAILED_CONTENT=r}if("0022000010"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE&&"0010001"===e.TITLE_LIST[t].FIELD_LIST[i].SYSTEM_FIELD_CODE&&(e.TITLE_LIST[t].FIELD_LIST[i].MODEL=o.get("loginInfo").username),"0022000050"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE&&"0010002"===e.TITLE_LIST[t].FIELD_LIST[i].SYSTEM_FIELD_CODE&&(e.TITLE_LIST[t].FIELD_LIST[i].MODEL=e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST[0]),"0022000030"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE&&"0010003"===e.TITLE_LIST[t].FIELD_LIST[i].SYSTEM_FIELD_CODE&&(e.TITLE_LIST[t].FIELD_LIST[i].MODEL=new Date),"0022000030"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE&&"0010004"===e.TITLE_LIST[t].FIELD_LIST[i].SYSTEM_FIELD_CODE){var l=new Date;l.setMonth(l.getMonth()+3),e.TITLE_LIST[t].FIELD_LIST[i].MODEL=l}}return e}function s(e,t,i){var n=l(d.templateInfo,e);if(null!==n&&void 0!==n){var o=l(d.templateInfo,t);if(null!==o&&void 0!==o){var a=(o/n/n*1e5).toFixed(0),r=parseInt(a)/10;c(d.templateInfo,i,r)}}}function l(e,t){for(var i=0;i<e.TITLE_LIST.length;i++)for(var n=0;n<e.TITLE_LIST[i].FIELD_LIST.length;n++)if("0022000020"===e.TITLE_LIST[i].FIELD_LIST[n].FIELD_TYPE_CODE&&e.TITLE_LIST[i].FIELD_LIST[n].SYSTEM_FIELD_CODE===t)return e.TITLE_LIST[i].FIELD_LIST[n].MODEL}function c(e,t,i){for(var n=0;n<e.TITLE_LIST.length;n++)for(var o=0;o<e.TITLE_LIST[n].FIELD_LIST.length;o++)"0022000020"===e.TITLE_LIST[n].FIELD_LIST[o].FIELD_TYPE_CODE&&e.TITLE_LIST[n].FIELD_LIST[o].SYSTEM_FIELD_CODE===t&&(e.TITLE_LIST[n].FIELD_LIST[o].MODEL=i)}function E(t){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].FIELD_LIST.length;n++){if("0022000010"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE&&(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE?t[i].FIELD_LIST[n].MODEL=void 0:t[i].FIELD_LIST[n].MODEL=t[i].FIELD_LIST[n].FIELD_VALUE),"0022000020"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE&&(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE?t[i].FIELD_LIST[n].MODEL=void 0:t[i].FIELD_LIST[n].MODEL=+t[i].FIELD_LIST[n].FIELD_VALUE),"0022000030"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE&&(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE?t[i].FIELD_LIST[n].MODEL=void 0:t[i].FIELD_LIST[n].MODEL=new Date(t[i].FIELD_LIST[n].FIELD_VALUE)),("0022000040"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE||"0022000050"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE)&&(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE?t[i].FIELD_LIST[n].MODEL=void 0:(t[i].FIELD_LIST[n].MODEL=e.selectItem(t[i].FIELD_LIST[n].FIELD_DETAILED_LIST,"FIELD_DETAILED_KEY_ID",parseInt(t[i].FIELD_LIST[n].FIELD_VALUE)),""!==t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE&&(t[i].FIELD_LIST[n].MODEL.MODEL=t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE))),"0022000060"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE)if(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE)t[i].FIELD_LIST[n].MODEL=void 0;else{t[i].FIELD_LIST[n].FIELD_VALUE=t[i].FIELD_LIST[n].FIELD_VALUE.split(T),t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE=t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE?t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE.split(T):"",t[i].FIELD_LIST[n].MODEL=[],t[i].FIELD_LIST[n].VIEW_VALUE="";for(var o=0;o<t[i].FIELD_LIST[n].FIELD_VALUE.length;o++){var a=e.selectItem(t[i].FIELD_LIST[n].FIELD_DETAILED_LIST,"FIELD_DETAILED_KEY_ID",parseInt(t[i].FIELD_LIST[n].FIELD_VALUE[o]));1===a.IS_HAS_TEXT_SUFFIX&&(a.MODEL=t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE[o]),t[i].FIELD_LIST[n].MODEL.push(a)}for(var r=0;r<t[i].FIELD_LIST[n].MODEL.length;r++)0===r?void 0!==t[i].FIELD_LIST[n].MODEL[r].MODEL?t[i].FIELD_LIST[n].VIEW_VALUE+=t[i].FIELD_LIST[n].MODEL[r].FIELD_DETAILED_CONTENT+":"+t[i].FIELD_LIST[n].MODEL[r].MODEL:t[i].FIELD_LIST[n].VIEW_VALUE+=t[i].FIELD_LIST[n].MODEL[r].FIELD_DETAILED_CONTENT:void 0!==t[i].FIELD_LIST[n].MODEL[r].MODEL?t[i].FIELD_LIST[n].VIEW_VALUE+=";"+t[i].FIELD_LIST[n].MODEL[r].FIELD_DETAILED_CONTENT+":"+t[i].FIELD_LIST[n].MODEL[r].MODEL:t[i].FIELD_LIST[n].VIEW_VALUE+=";"+t[i].FIELD_LIST[n].MODEL[r].FIELD_DETAILED_CONTENT}if("0022000070"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE)for(var o=0;o<t[i].FIELD_LIST[n].FIELD_VALUE_DETAILED_LIST.length;o++)for(var r=0;r<t[i].FIELD_LIST[n].FIELD_VALUE_DETAILED_LIST[o].FIELD_VALUE_DETAIL_LIST.length;r++)t[i].FIELD_LIST[n].FIELD_DETAILED_LIST[o].FIELD_DETAILED_CONTENT[r].MODEL=t[i].FIELD_LIST[n].FIELD_VALUE_DETAILED_LIST[o].FIELD_VALUE_DETAIL_LIST[r]}}function _(){e.isContains(t.current.name,"main.special")?d.statePre="main.special.diabetesSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(d.statePre="main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.")}var d=this;d.editable=!1;var I=i.RESIDENT_KEY_ID,D=(i.DIABETES_RECORD_KEY_ID,i.FOLLOW_UP_RECORD_KEY_ID),T="";return _(),a(),d.calculateBMI=function(e){if("0010007"===e)s("0010007","0010008","0010010");else if("0010008"===e)s("0010007","0010008","0010010");else{if("0010009"!==e)return;s("0010007","0010009","0010011")}},d.toggle=function(e,t,i){void 0===t.MODEL&&(t.MODEL=[]);var n=t.MODEL.indexOf(e);n>-1?t.MODEL.splice(n,1):t.MODEL.push(e),i.$dirty=!0},d.exists=function(e,t){return void 0===t.MODEL&&(t.MODEL=[]),t.MODEL.indexOf(e)>-1},d["delete"]=function(){e.confirmDialog("您确定要删除该随访记录吗?",function(){n.deleteFollowUpRecordCascaded({FOLLOW_UP_RECORD_KEY_ID:D},function(t){e.handleMessage(t,function(){e.back()},function(){e.alertDialog("删除随访失败")})},function(){e.alertDialog("删除随访失败")})},function(){})},d.goBack=function(){t.go(d.statePre+"followupList",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:t.params.DIABETES_RECORD_KEY_ID})},d.edit=function(){d.editable=!0},d.cancel=function(t){t.$dirty?e.confirmDialog("是否放弃已经编辑的内容",function(){d.editable=!1,a(),t.$dirty=!1},function(){}):(d.editable=!1,a(),t.$dirty=!1)},d.save=function(){var t=n.getSaveData(d.TITLE_LIST);void 0!==t&&n.editFollowUpRecord({RESIDENT_KEY_ID:I,FOLLOW_UP_RECORD_KEY_ID:D,FIELD_VALUE_LIST:t},function(t){e.handleMessage(t,function(){a(),d.editable=!1},function(){e.alertDialog("编辑随访失败")})},function(){e.alertDialog("编辑随访失败")})},d}function diabetesFollowupListCtrl(e,t,i,n){function o(){e.isContains(t.current.name,"main.special")?a.statePre="main.special.diabetesSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(a.statePre="main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.")}var a=this;return o(),n.showTable(a,{DIABETES_RECORD_KEY_ID:i.DIABETES_RECORD_KEY_ID},t,a.statePre+"followupEdit"),a.createFollowUpRecord=function(){t.go(a.statePre+"followupAdd",{RESIDENT_KEY_ID:i.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:i.DIABETES_RECORD_KEY_ID})},a}function diabetesFollowupRecordService(e,t,i,n){function o(t,n,o){i.getFollowUpRecordList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var a=this;return a.showTable=function(e,t,i,a){function r(e){return'<div class="flag" style="color: #428bca">'+e+"</div>"}var s={dataFunction:o,dataParams:t,columns:[{field:"FOLLOW_UP_DATE",title:"随访日期",align:"center",valign:"middle",formatter:r,events:{"click .flag":function(e,t,n){i.go(a,{RESIDENT_KEY_ID:i.params.RESIDENT_KEY_ID,DIABETES_RECORD_KEY_ID:i.params.DIABETES_RECORD_KEY_ID,FOLLOW_UP_RECORD_KEY_ID:n.FOLLOW_UP_RECORD_KEY_ID})}}},{field:"FASTING_GLUCOSE",title:"空腹血糖(mmol/L)",align:"center",valign:"middle"},{field:"POSTPRANDIAL_GLUCOSE",title:"餐后血糖(mmol/L)",align:"center",valign:"middle"},{field:"FOLLOW_UP_TYPE",title:"随访方式",align:"center",valign:"middle"},{field:"FOLLOW_UP_CLASSIFICATION",title:"随访结果",align:"center",valign:"middle"},{field:"FOLLOW_UP_DOCTOR",title:"随访医生",align:"center",valign:"middle",formatter:function(e){return e?e:"-"}}]};return e.tableData={bsTableControl:{options:n.initOption(s)}},e},a.getFollowUpRecordInfo=function(e,t,n){i.getFollowUpRecordInfo(JSON.stringify(e)).$promise.then(t,n)},a.createFollowUpRecord=function(e,t,n){i.createFollowUpRecord(JSON.stringify(e)).$promise.then(t,n)},a.editFollowUpRecord=function(e,t,n){i.editFollowUpRecord(JSON.stringify(e)).$promise.then(t,n)},a.deleteFollowUpRecordCascaded=function(e,t,n){i.deleteFollowUpRecordCascaded(JSON.stringify(e)).$promise.then(t,n)},a.getSaveData=function(t){for(var i=[],n=0;n<t.length;n++)for(var o=0;o<t[n].FIELD_LIST.length;o++){if("0022000010"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:t[n].FIELD_LIST[o].MODEL||"",FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000020"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:void 0===t[n].FIELD_LIST[o].MODEL?"":t[n].FIELD_LIST[o].MODEL,FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000030"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:t[n].FIELD_LIST[o].MODEL?$filter("commonDate")(t[n].FIELD_LIST[o].MODEL):"",FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",
FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000040"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");void 0===t[n].FIELD_LIST[o].MODEL?i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:"",FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:[{FIELD_VALUE:"",FIELD_ADDITIONAL_VALUE:"",FIELD_VALUE_ORDER:""}],FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_CN:"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID}):i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_KEY_ID,FIELD_ADDITIONAL_VALUE:t[n].FIELD_LIST[o].MODEL.MODEL?t[n].FIELD_LIST[o].MODEL.MODEL:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:[{FIELD_VALUE:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_KEY_ID,FIELD_ADDITIONAL_VALUE:t[n].FIELD_LIST[o].MODEL.MODEL?t[n].FIELD_LIST[o].MODEL.MODEL:"",FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_ORDER}],FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_CN:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_CONTENT,FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000050"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:t[n].FIELD_LIST[o].MODEL?t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_KEY_ID:"",FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:[{FIELD_VALUE:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_KEY_ID,FIELD_ADDITIONAL_VALUE:"",FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_ORDER}],FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000060"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");if(void 0===t[n].FIELD_LIST[o].MODEL)i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:[{FIELD_VALUE:"",FIELD_ADDITIONAL_VALUE:"",FIELD_VALUE_ORDER:""}],FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID});else{for(var a=[],r=0;r<t[n].FIELD_LIST[o].MODEL.length;r++)a.push({FIELD_VALUE:t[n].FIELD_LIST[o].MODEL[r].FIELD_DETAILED_KEY_ID,FIELD_ADDITIONAL_VALUE:t[n].FIELD_LIST[o].MODEL[r].MODEL||"",FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].MODEL[r].FIELD_DETAILED_ORDER});i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:a,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}}if("0022000070"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){for(var s=[],r=0;r<t[n].FIELD_LIST[o].FIELD_DETAILED_LIST.length;r++){var l={FIELD_VALUE_DETAIL_LIST:[],FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_ORDER};if(1===t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].IS_HAS_TEXT_SUFFIX)for(var c=0;c<t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT.length;c++){if(void 0===t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT[c].MODEL&&1===t[n].FIELD_LIST[o].IS_REQUIRED)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");l.FIELD_VALUE_DETAIL_LIST.push({FIELD_VALUE:t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT[c].MODEL||""})}else for(var c=0;c<t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT.length-1;c++){if(void 0===t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT[c].MODEL&&1===t[n].FIELD_LIST[o].IS_REQUIRED)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");l.FIELD_VALUE_DETAIL_LIST.push({FIELD_VALUE:t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT[c].MODEL||""})}s.push(l)}i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:s,FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].TEMPLATE_FIELD_ORDER,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}}return i},a}function hypertensionBloodPressureEditCtrl(e,t,i,n,o){function a(e){l=e,s.systolicPressure=e.SYSTOLIC_PRESSURE,s.diastolicPressure=e.DIASTOLIC_PRESSURE,s.recordDoctor=e.MEASURE_DOCTOR,s.recordDate=new Date(e.MEASURE_DATE),s.recordType=e.MEASURE_TYPE_NAME;for(var t=0;t<s.pressureLevels.length;t++)if(s.pressureLevels[t].DICT_VALUE_CODE===e.BLOOD_PRESSURE_GRADING_CODE){s.pressureLevel=s.pressureLevels[t];break}}function r(){e.isContains(t.current.name,"main.special")?s.statePre="main.special.hypertensionSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(s.statePre="main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.")}var s=this,l=null;return s.isEdit=!0,s.delectable=!0,s.pressureLevels=[{DICT_VALUE_NAME:"血压正常",DICT_VALUE_CODE:"0028000010"},{DICT_VALUE_NAME:"血压偏高",DICT_VALUE_CODE:"0028000020"},{DICT_VALUE_NAME:"1级高血压",DICT_VALUE_CODE:"0028000030"},{DICT_VALUE_NAME:"2级高血压",DICT_VALUE_CODE:"0028000040"},{DICT_VALUE_NAME:"3级高血压",DICT_VALUE_CODE:"0028000050"}],n.getBloodPressureDetailById({BLOOD_PRESSURE_RECORD_KEY_ID:i.BLOOD_PRESSURE_RECORD_KEY_ID},function(t){e.handleMessage(t,function(e){a(e)},function(){e.alertDialog("获取血压记录信息失败！")})},function(){e.alertDialog("获取血压记录信息失败！")}),s.editBloodPressureRecord=function(){var t={HYPERTENSION_RECORD_KEY_ID:i.HYPERTENSION_RECORD_KEY_ID,SYSTOLIC_PRESSURE:s.systolicPressure,DIASTOLIC_PRESSURE:s.diastolicPressure,BLOOD_PRESSURE_GRADING_CODE:s.pressureLevel.DICT_VALUE_CODE,BLOOD_PRESSURE_GRADING_NAME:s.pressureLevel.DICT_VALUE_NAME,MEASURE_TYPE_CODE:s.recordType.MEASURE_TYPE_CODE,MEASURE_TYPE_NAME:s.recordType.MEASURE_TYPE_NAME,MEASURE_DATE:o("commonDate")(s.recordDate),MEASURE_DOCTOR:s.recordDoctor,BLOOD_PRESSURE_RECORD_KEY_ID:i.BLOOD_PRESSURE_RECORD_KEY_ID};n.editBloodPressureRecord(t,function(t){e.handleMessage(t,function(){e.alertDialog("保存成功")},function(){e.alertDialog("保存失败")})},function(){e.alertDialog("保存失败")})},s.setPressureLevel=function(){return void 0!==s.diastolicPressure&&void 0!==s.systolicPressure?s.systolicPressure>=180||s.diastolicPressure>=110?void(s.pressureLevel=s.pressureLevels[4]):s.systolicPressure>=160&&s.systolicPressure<180||s.diastolicPressure>=100&&s.diastolicPressure<110?void(s.pressureLevel=s.pressureLevels[3]):s.systolicPressure>=140&&s.systolicPressure<160||s.diastolicPressure>=90&&s.diastolicPressure<100?void(s.pressureLevel=s.pressureLevels[2]):s.systolicPressure>=120&&s.systolicPressure<140||s.diastolicPressure>=80&&s.diastolicPressure<90?void(s.pressureLevel=s.pressureLevels[1]):s.systolicPressure<120&&s.diastolicPressure<80?void(s.pressureLevel=s.pressureLevels[0]):void 0:void 0},s.changeType=function(){"0027000040"===s.recordType.DICT_VALUE_CODE&&(s.recordDoctor="")},s.returnBack=function(t){t.$dirty?e.confirmDialog("是否放弃已经编辑的内容?",function(){s.recordType=s.recordTypes[l.recordTypeNum],s.systolicPressure=l.SYSTOLIC_PRESSURE,s.diastolicPressure=l.DIASTOLIC_PRESSURE,s.recordDoctor=l.MEASURE_DOCTOR,s.recordDate=new Date(l.MEASURE_DATE),s.setPressureLevel(),s.isEdit=!0},function(){}):s.isEdit=!0},s.saveBloodPressure=function(t){if(e.check(t)){var a={HYPERTENSION_RECORD_KEY_ID:i.HYPERTENSION_RECORD_KEY_ID,BLOOD_PRESSURE_RECORD_KEY_ID:i.BLOOD_PRESSURE_RECORD_KEY_ID,SYSTOLIC_PRESSURE:s.systolicPressure,DIASTOLIC_PRESSURE:s.diastolicPressure,BLOOD_PRESSURE_GRADING_CODE:s.pressureLevel.DICT_VALUE_CODE,BLOOD_PRESSURE_GRADING_NAME:s.pressureLevel.DICT_VALUE_NAME,MEASURE_TYPE_CODE:s.recordType.DICT_VALUE_CODE,MEASURE_TYPE_NAME:s.recordType.DICT_VALUE_NAME,MEASURE_DATE:o("commonDate")(s.recordDate),MEASURE_DOCTOR:s.recordDoctor};n.editBloodPressureRecord(a,function(t){e.handleMessage(t,function(){s.isEdit=!0},function(){e.alertDialog("保存失败")})},function(){e.alertDialog("保存失败")})}},s.goBack=function(){t.go(s.statePre+"bloodPressureList",{HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID})},s.editBloodPressure=function(){s.isEdit=!1},s.deleteBloodPressure=function(){e.confirmDialog("是否删除本次血压测量记录?",function(){var o={BLOOD_PRESSURE_RECORD_KEY_ID:i.BLOOD_PRESSURE_RECORD_KEY_ID};n.deleteBloodPressureRecord(o,function(i){e.handleMessage(i,function(){e.alertDialog("删除成功"),t.go(s.statePre+"bloodPressureList",{HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID})},function(){e.alertDialog("删除失败")})},function(){e.alertDialog("删除失败")})},function(){})},r(),s}function hypertensionBloodPressureListCtrl(e,t,i,n){function o(){e.isContains(t.current.name,"main.special")?a.statePre="main.special.hypertensionSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(a.statePre="main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.")}var a=this;return a.newRecord=function(){t.go(a.statePre+"bloodPressureAdd",{HYPERTENSION_RECORD_KEY_ID:n.HYPERTENSION_RECORD_KEY_ID})},a.showBloodPressureReport=function(){t.go(a.statePre+"bloodPressureReport",{HYPERTENSION_RECORD_KEY_ID:n.HYPERTENSION_RECORD_KEY_ID})},a.bloodPressureTable=function(){i.getBloodPressureList(a,{HYPERTENSION_RECORD_KEY_ID:n.HYPERTENSION_RECORD_KEY_ID},t,a.statePre)},o(),a.bloodPressureTable(),a}function hypertensionBloodPressureReportCtrl(e,t,i,n){function o(){n.getBloodPressureCurveList({HYPERTENSION_RECORD_KEY_ID:i.HYPERTENSION_RECORD_KEY_ID,RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID},function(t){e.handleMessage(t,function(e){a(e)},function(){e.alertDialog("获取血压曲线信息失败")})},function(){e.alertDialog("获取血压曲线信息失败")})}function a(e){for(var t=[],i=[],n=[],o=0;o<e.length;o++)t.push(e[o].MEASURE_DATE),i.push(e[o].SYSTOLIC_PRESSURE),n.push(e[o].DIASTOLIC_PRESSURE);s.reportData={tooltip:{trigger:"axis",formatter:function(e){return e&&null!=e.length&&0!==e.length&&""!==e[0].name?"<div><span>"+e[0].name+"</span><br/><span>"+e[0].seriesName+":"+e[0].value+"mmHg</span><br/><span>"+e[1].seriesName+":"+e[1].value+"mmHg</span><br/><span>参考收缩压：140mmHg</span><br/><span>参考舒张压：90mmHg</span>":void 0}},legend:{data:["收缩压","舒张压","参考收缩压","参考舒张压"]},grid:{left:"6%",right:"13%",bottom:"5%",containLabel:!0},xAxis:[{type:"category",axisLabel:{interval:0,rotate:30},boundaryGap:!1,data:t}],yAxis:[{type:"value"}],series:[{name:"收缩压",type:"line",symbol:"emptyRect",symbolSize:6,markLine:{symbol:"none",label:{normal:{show:!0,formatter:"参考收缩压"}},data:[{name:"参考收缩压",yAxis:140}]},connectNulls:!0,data:i},{name:"舒张压",type:"line",symbol:"emptyRect",symbolSize:6,markLine:{symbol:"none",label:{normal:{show:!0,formatter:"参考舒张压"}},data:[{name:"参考舒张压",yAxis:90}]},connectNulls:!0,data:n},{name:"参考收缩压",type:"line",symbol:"none",symbolSize:6,data:[140]},{name:"参考舒张压",type:"line",symbol:"none",symbolSize:6,data:[90]}]}}function r(){e.isContains(t.current.name,"main.special")?s.statePre="main.special.hypertensionSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(s.statePre="main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.")}var s=this;return s.returnBack=function(){t.go(s.statePre+"bloodPressureList",{HYPERTENSION_RECORD_KEY_ID:i.HYPERTENSION_RECORD_KEY_ID})},r(),o(),s}function hypertensionBloodPressureService(e,t,i){var n=this;return n.getBloodPressureList=function(n,o,a,r){function s(t,n,o){e.getBloodPressureList(JSON.stringify(t)).$promise.then(function(e){i.handleMessage(e,function(e){n(e||{total:0,rows:[]})},function(){i.alertDialog("获取列表信息失败")})},function(){i.alertDialog("获取列表信息失败"),o()})}var l={dataFunction:s,dataParams:o,columns:[{field:"MEASURE_DATE",title:"测量日期",align:"center",width:298,formatter:function(e){return"<div  style='color: #428bca;cursor: pointer;'>"+e+"</div>"},events:{"click div":function(e,t,i){"0027000010"===i.MEASURE_TYPE_CODE?a.go(r+"followupEdit",{RESIDENT_KEY_ID:a.params.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:o.HYPERTENSION_RECORD_KEY_ID,FOLLOW_UP_RECORD_KEY_ID:i.RECORD_KEY_ID}):"0027000060"===i.MEASURE_TYPE_CODE?"main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail."===r?a.go("main.resident.residentArchivesSidebar.detail.physicalExaminationEdit",{RESIDENT_KEY_ID:a.params.RESIDENT_KEY_ID,RESIDENT_ID_NO:i.RESIDENT_ID_NO,PHYSICAL_RECORD_KEY_ID:i.RECORD_KEY_ID}):a.go("main.physicalExaminationEdit",{RESIDENT_KEY_ID:a.params.RESIDENT_KEY_ID,RESIDENT_ID_NO:i.RESIDENT_ID_NO,PHYSICAL_RECORD_KEY_ID:i.RECORD_KEY_ID}):a.go(r+"bloodPressureEdit",{BLOOD_PRESSURE_RECORD_KEY_ID:i.RECORD_KEY_ID,HYPERTENSION_RECORD_KEY_ID:o.HYPERTENSION_RECORD_KEY_ID})}}},{field:"PRESSURE",title:"收缩压/舒张压(mmHg)",width:238,align:"center",formatter:function(e,t){var i=void 0===t.SYSTOLIC_PRESSURE||null===t.SYSTOLIC_PRESSURE?"-":t.SYSTOLIC_PRESSURE,n=void 0===t.DIASTOLIC_PRESSURE||null===t.DIASTOLIC_PRESSURE?"-":t.DIASTOLIC_PRESSURE;return i+"/"+n}},{field:"MEASURE_TYPE_NAME",title:"测量类型",width:366,align:"center"},{field:"BLOOD_PRESSURE_GRADING_NAME",title:"血压分级",width:298,align:"center"},{field:"MEASURE_DOCTOR",title:"测量医生",width:298,align:"center",formatter:function(e){return e?e:"-"}}]};n.bloodPressureTableData={bsTableControl:{options:t.initOption(l)}}},n.createBloodPressure=function(t,i,n){e.createBloodPressure(JSON.stringify(t)).$promise.then(i,n)},n.getBloodPressureMeasureType=function(t,i,n){e.getBloodPressureMeasureType(JSON.stringify(t)).$promise.then(i,n)},n.getBloodPressureCurveList=function(t,i,n){e.getBloodPressureCurveList(JSON.stringify(t)).$promise.then(i,n)},n.getBloodPressureLevelList=function(t,i,n){e.getBloodPressureLevelList(JSON.stringify(t)).$promise.then(i,n)},n.editBloodPressureRecord=function(t,i,n){e.editBloodPressureRecord(JSON.stringify(t)).$promise.then(i,n)},n.getBloodPressureDetailById=function(t,i,n){e.getBloodPressureDetailById(JSON.stringify(t)).$promise.then(i,n)},n.deleteBloodPressureRecord=function(t,i,n){e.deleteBloodPressureRecord(JSON.stringify(t)).$promise.then(i,n)},n}function hypertensionEvaluationEditCtrl(e,t,i,n){function o(e,t,i){if("string"==typeof i){var n=i.split(",");angular.forEach(e,function(e){angular.forEach(n,function(i){e.DICT_VALUE_CODE===i&&E[t].push(e)})})}}function a(t){E.SYSTOLIC_PRESSURE=t.SYSTOLIC_PRESSURE,E.DIASTOLIC_PRESSURE=t.DIASTOLIC_PRESSURE,o(E.cardiovascularRiskFactorsList,"CARDIOVASCULAR_RISK",t.CARDIOVASCULAR_RISK_FACTORS_CODE),o(E.targetOrganDamagesList,"TARGET_ORGAN_DAMAGES",t.TARGET_ORGAN_DAMAGES_CODE),o(E.coexistingAssociatedDiseasesList,"COEXISTING_ASSOCIATED_DISEASES",t.COEXISTING_ASSOCIATED_DISEASES_CODE),E.IS_HAS_DIABETES=t.IS_HAS_DIABETES,E.BLOOD_PRESSURE_GRADING=e.selectItem(E.bloodPressureGradingList,"DICT_VALUE_CODE",t.BLOOD_PRESSURE_GRADING_CODE),E.CRITICALITY_GRADING=e.selectItem(E.criticalityGradingList,"DICT_VALUE_CODE",t.CRITICALITY_GRADING_CODE),E.GRADING_MANAGEMENT=e.selectItem(E.gradingManagementList,"DICT_VALUE_CODE",t.GRADING_MANAGEMENT_CODE),E.OVERALL_EVALUATION=t.OVERALL_EVALUATION,E.CREATE_TIME=new Date(t.CREATE_TIME),E.CREATOR_NAME=t.CREATOR_NAME}function r(){n.searchEvaluationRecord({ASSESS_RECORD_KEY_ID:t.params.ASSESS_RECORD_KEY_ID},function(t){e.handleMessage(t,function(e){a(e),_=angular.copy(e)},function(){e.alertDialog("获取高血压评估失败")})},function(){e.alertDialog("获取高血压评估失败")})}function s(){c(),E.CARDIOVASCULAR_RISK=[],E.TARGET_ORGAN_DAMAGES=[],E.COEXISTING_ASSOCIATED_DISEASES=[],E.BLOOD_PRESSURE_GRADING={},E.CRITICALITY_GRADING={},E.GRADING_MANAGEMENT={},E.cardiovascularRiskFactorsList=[],E.targetOrganDamagesList=[],E.coexistingAssociatedDiseasesList=[],E.bloodPressureGradingList=[],E.gradingManagementList=[],E.criticalityGradingList=[];var t=[{DICT_TYPE_CODE:"0031",LIST_NAME:"cardiovascularRiskFactorsList"},{DICT_TYPE_CODE:"0032",LIST_NAME:"targetOrganDamagesList"},{DICT_TYPE_CODE:"0033",LIST_NAME:"coexistingAssociatedDiseasesList"},{DICT_TYPE_CODE:"0028",LIST_NAME:"bloodPressureGradingList"},{DICT_TYPE_CODE:"0029",LIST_NAME:"gradingManagementList"},{DICT_TYPE_CODE:"0030",LIST_NAME:"criticalityGradingList"}];e.commonService("getDictList",{DICT_TYPE_CODE_LIST:t},function(i){e.handleMessage(i,function(i){angular.forEach(t,function(t){E[t.LIST_NAME]=e.selectItem(i,"DICT_TYPE_CODE",t.DICT_TYPE_CODE).DICT_CODE_LIST}),r()},function(){e.alertDialog("获取列表失败")})},function(){e.alertDialog("获取列表失败")})}function l(e,t){var i=[];return angular.forEach(e,function(e){i.push(e[t])}),i.join(",")}function c(){e.isContains(t.current.name,"main.special")?E.statePre="main.special.hypertensionSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(E.statePre="main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.")}var E=this;E.edit=!0,E.editable=!1;var _={};return s(),E.calculate=function(){if(!E.SYSTOLIC_PRESSURE)return void e.alertDialog("请填写收缩压");if(!E.DIASTOLIC_PRESSURE)return void e.alertDialog("请填写舒张压");var t={SYSTOLIC_PRESSURE:E.SYSTOLIC_PRESSURE,DIASTOLIC_PRESSURE:E.DIASTOLIC_PRESSURE,lengthArray:[E.CARDIOVASCULAR_RISK.length,E.TARGET_ORGAN_DAMAGES.length,E.COEXISTING_ASSOCIATED_DISEASES.length]},i=e.calculateHypertensionEvaluation(t);E.BLOOD_PRESSURE_GRADING=e.selectItem(E.bloodPressureGradingList,"DICT_VALUE_CODE",i.bloodPressureGradingCount),E.CRITICALITY_GRADING=e.selectItem(E.criticalityGradingList,"DICT_VALUE_CODE",i.criticalityGradingCount),E.GRADING_MANAGEMENT=e.selectItem(E.gradingManagementList,"DICT_VALUE_CODE",i.gradingManagementCount)},E.goBack=function(){t.go(E.statePre+"evaluationList",{HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID})},E.edit=function(e){e.$setPristine(),e.$setUntouched(),E.editable=!0},E.save=function(i){if(e.check(i)){var o={HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID,ASSESS_RECORD_KEY_ID:t.params.ASSESS_RECORD_KEY_ID,SYSTOLIC_PRESSURE:E.SYSTOLIC_PRESSURE,DIASTOLIC_PRESSURE:E.DIASTOLIC_PRESSURE,CARDIOVASCULAR_RISK_FACTORS_CODE:E.CARDIOVASCULAR_RISK?l(E.CARDIOVASCULAR_RISK,"DICT_VALUE_CODE"):null,CARDIOVASCULAR_RISK_FACTORS_NAME:E.CARDIOVASCULAR_RISK?l(E.CARDIOVASCULAR_RISK,"DICT_VALUE_NAME"):null,TARGET_ORGAN_DAMAGES_CODE:E.TARGET_ORGAN_DAMAGES?l(E.TARGET_ORGAN_DAMAGES,"DICT_VALUE_CODE"):null,TARGET_ORGAN_DAMAGES_NAME:E.TARGET_ORGAN_DAMAGES?l(E.TARGET_ORGAN_DAMAGES,"DICT_VALUE_NAME"):null,IS_HAS_DIABETES:E.IS_HAS_DIABETES,COEXISTING_ASSOCIATED_DISEASES_CODE:E.COEXISTING_ASSOCIATED_DISEASES?l(E.COEXISTING_ASSOCIATED_DISEASES,"DICT_VALUE_CODE"):null,COEXISTING_ASSOCIATED_DISEASES_NAME:E.COEXISTING_ASSOCIATED_DISEASES?l(E.COEXISTING_ASSOCIATED_DISEASES,"DICT_VALUE_NAME"):null,BLOOD_PRESSURE_GRADING_CODE:E.BLOOD_PRESSURE_GRADING.DICT_VALUE_CODE,BLOOD_PRESSURE_GRADING_NAME:E.BLOOD_PRESSURE_GRADING.DICT_VALUE_NAME,CRITICALITY_GRADING_CODE:E.CRITICALITY_GRADING.DICT_VALUE_CODE,CRITICALITY_GRADING_NAME:E.CRITICALITY_GRADING.DICT_VALUE_NAME,GRADING_MANAGEMENT_CODE:E.GRADING_MANAGEMENT.DICT_VALUE_CODE,GRADING_MANAGEMENT_NAME:E.GRADING_MANAGEMENT.DICT_VALUE_NAME,OVERALL_EVALUATION:E.OVERALL_EVALUATION};n.updateEvaluationRecord(o,function(t){e.handleMessage(t,function(){E.editable=!1},function(t){e.alertDialog(t.message)})},function(){e.alertDialog("保存血压评估失败")})}},E["delete"]=function(){e.confirmDialog("是否确定删除这条评估记录？",function(){n.deleteEvaluationRecord({ASSESS_RECORD_KEY_ID:t.params.ASSESS_RECORD_KEY_ID},function(i){e.handleMessage(i,function(){t.go(E.statePre+"evaluationList",{HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID})},function(){e.alertDialog(i.message)})},function(){e.alertDialog("删除高血压评估记录失败")})},function(){})},E.cancel=function(t){function i(){var e=angular.copy(_);a(e)}t.$dirty?e.confirmDialog("您确定要放弃保存吗?",function(){i(),E.editable=!1},function(){}):E.editable=!1},E.goBack=function(){t.go(E.statePre+"evaluationList",{HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID})},E.toggle=function(e,t){var i=t.indexOf(e);i>-1?t.splice(i,1):t.push(e)},E.exists=function(e,t){return t.indexOf(e)>-1},E}function hypertensionEvaluationListCtrl(e,t,i,n,o){function a(){e.isContains(t.current.name,"main.special")?r.statePre="main.special.hypertensionSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(r.statePre="main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.")}var r=this;return r.showTable=function(t,a,s){function l(e){return'<div class="flag" style="color: #428bca;cursor:pointer;">'+e+"</div>"}function c(t,i,o){n.getEvaluationRecordList(t,function(t){e.handleMessage(t,function(){i(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var E={dataFunction:c,dataParams:a,columns:[{field:"CREATE_TIME",title:"评估日期",align:"center",width:298,valign:"middle",formatter:l,events:{"click .flag":function(e,t,n){s.go(r.statePre+"evaluationEdit",{HYPERTENSION_RECORD_KEY_ID:i.HYPERTENSION_RECORD_KEY_ID,ASSESS_RECORD_KEY_ID:n.ASSESS_RECORD_KEY_ID})}}},{field:"BLOOD_PRESSURE",title:"收缩压/舒张压(mmHg)",align:"center",width:100,valign:"middle"},{field:"BLOOD_PRESSURE_GRADING_NAME",title:"血压分级",align:"center",width:100,valign:"middle"},{field:"CRITICALITY_GRADING_NAME",title:"危险分层",align:"center",width:100,valign:"middle"},{field:"GRADING_MANAGEMENT_NAME",title:"分级管理",align:"center",width:100,valign:"middle"},{field:"CREATOR_NAME",title:"评估医生",align:"center",width:100,valign:"middle"}]};return t.tableData={bsTableControl:{options:o.initOption(E)}},t},r.getEvaluationRecordList=function(){var e={RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID};r.showTable(r,e,t)},a(),r.getEvaluationRecordList(),r.newRecord=function(){t.go(r.statePre+"evaluationAdd",{HYPERTENSION_RECORD_KEY_ID:i.HYPERTENSION_RECORD_KEY_ID})},r}function hypertensionEvaluationRecordService(e,t){var i=this;return i.getEvaluationRecordList=function(e,i,n){return t.getEvaluationRecordList(JSON.stringify(e)).$promise.then(i,n)},i.addEvaluationRecord=function(e,i,n){return t.addEvaluationRecord(JSON.stringify(e)).$promise.then(i,n)},i.searchEvaluationRecord=function(e,i,n){return t.searchEvaluationRecord(JSON.stringify(e)).$promise.then(i,n)},i.updateEvaluationRecord=function(e,i,n){return t.updateEvaluationRecord(JSON.stringify(e)).$promise.then(i,n)},i.deleteEvaluationRecord=function(e,i,n){return t.deleteEvaluationRecord(JSON.stringify(e)).$promise.then(i,n)},i}function hypertensionFollowupEditCtrl(e,t,i,n,o){function a(){n.getFollowUpRecordInfo({SUITABLE_CROWD_CODE:"0020000010",FOLLOW_UP_RECORD_KEY_ID:D},function(t){e.handleMessage(t,function(e){T=e.SPLIT_06;var t=r(e);d.templateInfo=t,d.TITLE_LIST=t.TITLE_LIST,E(d.TITLE_LIST)},function(){e.alertDialog("随访模版信息获取失败")})},function(){e.alertDialog("随访模版信息获取失败")})}function r(e){for(var t=0;t<e.TITLE_LIST.length;t++)for(var i=0;i<e.TITLE_LIST[t].FIELD_LIST.length;i++){if("0022000070"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE)for(var n=0;n<e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST.length;n++){for(var a=e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST[n].FIELD_DETAILED_CONTENT.split("\b"),r=[],s=0;s<a.length;s++)r.push({TEMP_NAME:a[s]});e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST[n].FIELD_DETAILED_CONTENT=r}if("0022000010"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE&&"0010001"===e.TITLE_LIST[t].FIELD_LIST[i].SYSTEM_FIELD_CODE&&(e.TITLE_LIST[t].FIELD_LIST[i].MODEL=o.get("loginInfo").username),"0022000050"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE&&"0010002"===e.TITLE_LIST[t].FIELD_LIST[i].SYSTEM_FIELD_CODE&&(e.TITLE_LIST[t].FIELD_LIST[i].MODEL=e.TITLE_LIST[t].FIELD_LIST[i].FIELD_DETAILED_LIST[0]),"0022000030"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE&&"0010003"===e.TITLE_LIST[t].FIELD_LIST[i].SYSTEM_FIELD_CODE&&(e.TITLE_LIST[t].FIELD_LIST[i].MODEL=new Date),"0022000030"===e.TITLE_LIST[t].FIELD_LIST[i].FIELD_TYPE_CODE&&"0010004"===e.TITLE_LIST[t].FIELD_LIST[i].SYSTEM_FIELD_CODE){var l=new Date;l.setMonth(l.getMonth()+3),e.TITLE_LIST[t].FIELD_LIST[i].MODEL=l}}return e}function s(e,t,i){var n=l(d.templateInfo,e);if(null!==n&&void 0!==n){var o=l(d.templateInfo,t);if(null!==o&&void 0!==o){var a=(o/n/n*1e5).toFixed(0),r=parseInt(a)/10;c(d.templateInfo,i,r)}}}function l(e,t){for(var i=0;i<e.TITLE_LIST.length;i++)for(var n=0;n<e.TITLE_LIST[i].FIELD_LIST.length;n++)if("0022000020"===e.TITLE_LIST[i].FIELD_LIST[n].FIELD_TYPE_CODE&&e.TITLE_LIST[i].FIELD_LIST[n].SYSTEM_FIELD_CODE===t)return e.TITLE_LIST[i].FIELD_LIST[n].MODEL}function c(e,t,i){for(var n=0;n<e.TITLE_LIST.length;n++)for(var o=0;o<e.TITLE_LIST[n].FIELD_LIST.length;o++)"0022000020"===e.TITLE_LIST[n].FIELD_LIST[o].FIELD_TYPE_CODE&&e.TITLE_LIST[n].FIELD_LIST[o].SYSTEM_FIELD_CODE===t&&(e.TITLE_LIST[n].FIELD_LIST[o].MODEL=i)}function E(t){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].FIELD_LIST.length;n++){if("0022000010"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE&&(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE?t[i].FIELD_LIST[n].MODEL=void 0:t[i].FIELD_LIST[n].MODEL=t[i].FIELD_LIST[n].FIELD_VALUE),"0022000020"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE&&(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE?t[i].FIELD_LIST[n].MODEL=void 0:t[i].FIELD_LIST[n].MODEL=+t[i].FIELD_LIST[n].FIELD_VALUE),"0022000030"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE&&(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE?t[i].FIELD_LIST[n].MODEL=void 0:t[i].FIELD_LIST[n].MODEL=new Date(t[i].FIELD_LIST[n].FIELD_VALUE)),("0022000040"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE||"0022000050"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE)&&(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE?t[i].FIELD_LIST[n].MODEL=void 0:(t[i].FIELD_LIST[n].MODEL=e.selectItem(t[i].FIELD_LIST[n].FIELD_DETAILED_LIST,"FIELD_DETAILED_KEY_ID",parseInt(t[i].FIELD_LIST[n].FIELD_VALUE)),""!==t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE&&(t[i].FIELD_LIST[n].MODEL.MODEL=t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE))),"0022000060"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE)if(""===t[i].FIELD_LIST[n].FIELD_VALUE||void 0===t[i].FIELD_LIST[n].FIELD_VALUE)t[i].FIELD_LIST[n].MODEL=void 0;else{t[i].FIELD_LIST[n].FIELD_VALUE=t[i].FIELD_LIST[n].FIELD_VALUE.split(T),t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE=t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE?t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE.split(T):"",t[i].FIELD_LIST[n].MODEL=[],t[i].FIELD_LIST[n].VIEW_VALUE="";for(var o=0;o<t[i].FIELD_LIST[n].FIELD_VALUE.length;o++){var a=e.selectItem(t[i].FIELD_LIST[n].FIELD_DETAILED_LIST,"FIELD_DETAILED_KEY_ID",parseInt(t[i].FIELD_LIST[n].FIELD_VALUE[o]));1===a.IS_HAS_TEXT_SUFFIX&&(a.MODEL=t[i].FIELD_LIST[n].FIELD_ADDITIONAL_VALUE[o]),t[i].FIELD_LIST[n].MODEL.push(a)}for(var r=0;r<t[i].FIELD_LIST[n].MODEL.length;r++)0===r?void 0!==t[i].FIELD_LIST[n].MODEL[r].MODEL?t[i].FIELD_LIST[n].VIEW_VALUE+=t[i].FIELD_LIST[n].MODEL[r].FIELD_DETAILED_CONTENT+":"+t[i].FIELD_LIST[n].MODEL[r].MODEL:t[i].FIELD_LIST[n].VIEW_VALUE+=t[i].FIELD_LIST[n].MODEL[r].FIELD_DETAILED_CONTENT:void 0!==t[i].FIELD_LIST[n].MODEL[r].MODEL?t[i].FIELD_LIST[n].VIEW_VALUE+=";"+t[i].FIELD_LIST[n].MODEL[r].FIELD_DETAILED_CONTENT+":"+t[i].FIELD_LIST[n].MODEL[r].MODEL:t[i].FIELD_LIST[n].VIEW_VALUE+=";"+t[i].FIELD_LIST[n].MODEL[r].FIELD_DETAILED_CONTENT}if("0022000070"===t[i].FIELD_LIST[n].FIELD_TYPE_CODE)for(var o=0;o<t[i].FIELD_LIST[n].FIELD_VALUE_DETAILED_LIST.length;o++)for(var r=0;r<t[i].FIELD_LIST[n].FIELD_VALUE_DETAILED_LIST[o].FIELD_VALUE_DETAIL_LIST.length;r++)t[i].FIELD_LIST[n].FIELD_DETAILED_LIST[o].FIELD_DETAILED_CONTENT[r].MODEL=t[i].FIELD_LIST[n].FIELD_VALUE_DETAILED_LIST[o].FIELD_VALUE_DETAIL_LIST[r]}}function _(){e.isContains(t.current.name,"main.special")?d.statePre="main.special.hypertensionSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(d.statePre="main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.")}var d=this;d.editable=!1;var I=i.RESIDENT_KEY_ID,D=(i.HYPERTENSION_RECORD_KEY_ID,i.FOLLOW_UP_RECORD_KEY_ID),T="";return _(),a(),d.calculateBMI=function(e){if("0010007"===e)s("0010007","0010008","0010010");else if("0010008"===e)s("0010007","0010008","0010010");else{if("0010009"!==e)return;s("0010007","0010009","0010011")}},d.toggle=function(e,t,i){void 0===t.MODEL&&(t.MODEL=[]);var n=t.MODEL.indexOf(e);n>-1?t.MODEL.splice(n,1):t.MODEL.push(e),i.$dirty=!0},d.exists=function(e,t){return void 0===t.MODEL&&(t.MODEL=[]),t.MODEL.indexOf(e)>-1},d["delete"]=function(){e.confirmDialog("您确定要删除该随访记录吗?",function(){n.deleteFollowUpRecordCascaded({FOLLOW_UP_RECORD_KEY_ID:D},function(t){e.handleMessage(t,function(){e.back()},function(){e.alertDialog("删除随访失败")})},function(){e.alertDialog("删除随访失败")})},function(){})},d.goBack=function(){t.go(d.statePre+"followupList",{RESIDENT_KEY_ID:t.params.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:t.params.HYPERTENSION_RECORD_KEY_ID})},d.edit=function(){d.editable=!0},d.cancel=function(t){t.$dirty?e.confirmDialog("是否放弃已经编辑的内容",function(){d.editable=!1,a(),t.$dirty=!1},function(){}):(d.editable=!1,a(),t.$dirty=!1)},d.save=function(){var t=n.getSaveData(d.TITLE_LIST);void 0!==t&&n.editFollowUpRecord({RESIDENT_KEY_ID:I,FOLLOW_UP_RECORD_KEY_ID:D,FIELD_VALUE_LIST:t},function(t){e.handleMessage(t,function(){a(),d.editable=!1},function(){e.alertDialog("编辑随访失败")})},function(){e.alertDialog("编辑随访失败")})},d}function hypertensionFollowupListCtrl(e,t,i,n){function o(){e.isContains(t.current.name,"main.special")?a.statePre="main.special.hypertensionSidebar.detail.":e.isContains(t.current.name,"main.resident")&&(a.statePre="main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.")}var a=this;return o(),n.showTable(a,{HYPERTENSION_RECORD_KEY_ID:i.HYPERTENSION_RECORD_KEY_ID},t,a.statePre+"followupEdit"),a.createFollowUpRecord=function(){t.go(a.statePre+"followupAdd",{RESIDENT_KEY_ID:i.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:i.HYPERTENSION_RECORD_KEY_ID})},a}function hypertensionFollowupRecordService(e,t,i,n){function o(t,n,o){i.getFollowUpRecordList(JSON.stringify(t)).$promise.then(function(t){e.handleMessage(t,function(){n(t.value||{total:0,rows:[]})},function(){e.alertDialog("获取列表信息失败")})},function(){e.alertDialog("获取列表信息失败"),o()})}var a=this;return a.showTable=function(e,t,i,a){function r(e){return'<div class="flag" style="color: #428bca">'+e+"</div>"}var s={dataFunction:o,dataParams:t,columns:[{field:"FOLLOW_UP_DATE",title:"随访日期",align:"center",valign:"middle",formatter:r,events:{"click .flag":function(e,t,n){i.go(a,{RESIDENT_KEY_ID:i.params.RESIDENT_KEY_ID,HYPERTENSION_RECORD_KEY_ID:i.params.HYPERTENSION_RECORD_KEY_ID,FOLLOW_UP_RECORD_KEY_ID:n.FOLLOW_UP_RECORD_KEY_ID})}}},{field:"BLOOD_PRESSURE",title:"收缩压/舒张压(mmHg)",align:"center",valign:"middle"},{field:"FOLLOW_UP_TYPE",title:"随访方式",align:"center",valign:"middle"},{field:"PRESSURE_GRADE",title:"血压分级",align:"center",valign:"middle"},{field:"FOLLOW_UP_CLASSIFICATION",title:"随访结果",align:"center",valign:"middle"},{field:"FOLLOW_UP_DOCTOR",title:"随访医生",align:"center",valign:"middle",formatter:function(e){return e?e:"-"}}]};return e.tableData={bsTableControl:{options:n.initOption(s)}},e},a.getFollowUpRecordInfo=function(e,t,n){i.getFollowUpRecordInfo(JSON.stringify(e)).$promise.then(t,n)},a.createFollowUpRecord=function(e,t,n){i.createFollowUpRecord(JSON.stringify(e)).$promise.then(t,n)},a.editFollowUpRecord=function(e,t,n){
i.editFollowUpRecord(JSON.stringify(e)).$promise.then(t,n)},a.deleteFollowUpRecordCascaded=function(e,t,n){i.deleteFollowUpRecordCascaded(JSON.stringify(e)).$promise.then(t,n)},a.getLastHeight=function(e,t,n){i.getLastHeight(JSON.stringify(e)).$promise.then(t,n)},a.getSaveData=function(t){for(var i=[],n=0;n<t.length;n++)for(var o=0;o<t[n].FIELD_LIST.length;o++){if("0022000010"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:t[n].FIELD_LIST[o].MODEL||"",FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000020"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:void 0===t[n].FIELD_LIST[o].MODEL?"":t[n].FIELD_LIST[o].MODEL,FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000030"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:t[n].FIELD_LIST[o].MODEL?$filter("commonDate")(t[n].FIELD_LIST[o].MODEL):"",FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000040"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");void 0===t[n].FIELD_LIST[o].MODEL?i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:"",FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:[{FIELD_VALUE:"",FIELD_ADDITIONAL_VALUE:"",FIELD_VALUE_ORDER:""}],FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_CN:"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID}):i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_KEY_ID,FIELD_ADDITIONAL_VALUE:t[n].FIELD_LIST[o].MODEL.MODEL?t[n].FIELD_LIST[o].MODEL.MODEL:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:[{FIELD_VALUE:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_KEY_ID,FIELD_ADDITIONAL_VALUE:t[n].FIELD_LIST[o].MODEL.MODEL?t[n].FIELD_LIST[o].MODEL.MODEL:"",FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_ORDER}],FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_CN:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_CONTENT,FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000050"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_VALUE:t[n].FIELD_LIST[o].MODEL?t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_KEY_ID:"",FIELD_ADDITIONAL_VALUE:"",FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:[{FIELD_VALUE:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_KEY_ID,FIELD_ADDITIONAL_VALUE:"",FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].MODEL.FIELD_DETAILED_ORDER}],FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}if("0022000060"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){if(1===t[n].FIELD_LIST[o].IS_REQUIRED&&void 0===t[n].FIELD_LIST[o].MODEL)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");if(void 0===t[n].FIELD_LIST[o].MODEL)i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:[{FIELD_VALUE:"",FIELD_ADDITIONAL_VALUE:"",FIELD_VALUE_ORDER:""}],FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID});else{for(var a=[],r=0;r<t[n].FIELD_LIST[o].MODEL.length;r++)a.push({FIELD_VALUE:t[n].FIELD_LIST[o].MODEL[r].FIELD_DETAILED_KEY_ID,FIELD_ADDITIONAL_VALUE:t[n].FIELD_LIST[o].MODEL[r].MODEL||"",FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].MODEL[r].FIELD_DETAILED_ORDER});i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:a,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}}if("0022000070"===t[n].FIELD_LIST[o].FIELD_TYPE_CODE){for(var s=[],r=0;r<t[n].FIELD_LIST[o].FIELD_DETAILED_LIST.length;r++){var l={FIELD_VALUE_DETAIL_LIST:[],FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_ORDER};if(1===t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].IS_HAS_TEXT_SUFFIX)for(var c=0;c<t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT.length;c++){if(void 0===t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT[c].MODEL&&1===t[n].FIELD_LIST[o].IS_REQUIRED)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");l.FIELD_VALUE_DETAIL_LIST.push({FIELD_VALUE:t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT[c].MODEL||""})}else for(var c=0;c<t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT.length-1;c++){if(void 0===t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT[c].MODEL&&1===t[n].FIELD_LIST[o].IS_REQUIRED)return void e.alertDialog(t[n].FIELD_LIST[o].FIELD_NAME+"为必填字段");l.FIELD_VALUE_DETAIL_LIST.push({FIELD_VALUE:t[n].FIELD_LIST[o].FIELD_DETAILED_LIST[r].FIELD_DETAILED_CONTENT[c].MODEL||""})}s.push(l)}i.push({TEMPLATE_FIELD_KEY_ID:t[n].FIELD_LIST[o].TEMPLATE_FIELD_KEY_ID,FIELD_TYPE_CODE:t[n].FIELD_LIST[o].FIELD_TYPE_CODE,FIELD_VALUE_LIST:s,FIELD_VALUE_ORDER:t[n].FIELD_LIST[o].TEMPLATE_FIELD_ORDER,FIELD_NAME:t[n].FIELD_LIST[o].FIELD_NAME,FIELD_PROPERTY_NAME:t[n].FIELD_LIST[o].FIELD_PROPERTY_NAME,SYSTEM_FIELD_CODE:t[n].FIELD_LIST[o].SYSTEM_FIELD_CODE||"",FIELD_VALUE_KEY_ID:t[n].FIELD_LIST[o].FIELD_VALUE_KEY_ID})}}return i},a}var SMS={};SMS.CONFIG=angular.module("SMS.config",[]),SMS.CONTROLLERS=angular.module("SMS.controllers",["SMS.services","SMS.filters","ngMaterial","material.svgAssetsCache","ngMessages","bsTable"]),SMS.SERVICES=angular.module("SMS.services",["SMS.common","SMS.backend","SMS.filters"]),SMS.BACKEND=angular.module("SMS.backend",[]),SMS.COMMON=angular.module("SMS.common",["SMS.config"]),SMS.FILTERS=angular.module("SMS.filters",[]),SMS.DIRECTIVES=angular.module("SMS.directives",[]),angular.module("SMS",["ngAnimate","ngRoute","ui.router","SMS.controllers","SMS.filters","SMS.directives","ngCookies"]).config(["$stateProvider","$urlRouterProvider","$routeProvider","$httpProvider","$mdThemingProvider","$mdDateLocaleProvider","ENV",function(e,t,i,n,o,a,r){e.state("login",{url:"/login",controller:"loginCtrl as vm",controllerAs:"vm",templateUrl:"template/login/login.html"}).state("main",{url:"/main",controller:"mainCtrl as vm",controllerAs:"vm",templateUrl:"template/main.html",naviPath:"/main"}).state("main.doctor",{url:"/doctor",template:"<div ui-view></div>","abstract":!0}).state("main.resident",{url:"/resident",template:"<div ui-view></div>","abstract":!0}).state("main.baseData",{url:"/baseData",template:"<div ui-view></div>","abstract":!0}).state("main.report",{url:"/report",template:"<div ui-view></div>","abstract":!0}).state("main.followupTemplate",{url:"/followupTemplate",template:"<div ui-view></div>","abstract":!0}).state("main.baseData.organizationList",{url:"/organizationList",controller:"organizationListCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/organization/list.html",naviPath:"/main/baseData/organizationList"}).state("main.baseData.organizationAdd",{url:"/organizationAdd",controller:"organizationAddCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/organization/detail.html",naviPath:"/main/baseData/organizationList"}).state("main.baseData.organizationEdit",{url:"/organizationEdit/:ORGANIZATION_KEY_ID/:ORGANIZATION_TYPE_CODE",controller:"organizationEditCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/organization/detail.html",naviPath:"/main/baseData/organizationList"}).state("main.baseData.roleList",{url:"/roleList",controller:"roleListCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/role/list.html",naviPath:"/main/baseData/roleList"}).state("main.baseData.roleAdd",{url:"/roleAdd",controller:"roleAddCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/role/detail.html",naviPath:"/main/baseData/roleList"}).state("main.baseData.roleEdit",{url:"/roleEdit/:ROLE_KEY_ID/:ROLE_NAME",controller:"roleEditCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/role/detail.html",naviPath:"/main/baseData/roleList"}).state("main.baseData.userList",{url:"/userList",controller:"userListCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/user/list.html",naviPath:"/main/baseData/userList"}).state("main.baseData.userAdd",{url:"/userAdd",controller:"userAddCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/user/detail.html",naviPath:"/main/baseData/userList"}).state("main.baseData.userEdit",{url:"/userEdit/:USER_KEY_ID",controller:"userEditCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/user/detail.html",naviPath:"/main/baseData/userList"}).state("main.baseData.hospitalDeptList",{url:"/hospitalDeptList",controller:"hospitalListCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/hospitalDept/hospitalList.html",naviPath:"/main/baseData/hospitalDeptList"}).state("main.baseData.deptList",{url:"/deptList/:HOSPITAL_ID/:HOSPITAL_NAME",controller:"deptListCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/hospitalDept/deptList.html",naviPath:"/main/baseData/hospitalDeptList"}).state("main.baseData.deptAdd",{url:"/deptAdd/:HOSPITAL_ID/:HOSPITAL_NAME",controller:"deptAddCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/hospitalDept/deptDetail.html",naviPath:"/main/baseData/hospitalDeptList"}).state("main.baseData.deptEdit",{url:"/deptEdit/:HOSPITAL_ID/:HOSPITAL_NAME/:DEPT_ID",controller:"deptEditCtrl as vm",controllerAs:"vm",templateUrl:"template/baseData/hospitalDept/deptDetail.html",naviPath:"/main/baseData/hospitalDeptList"}).state("main.resident.residentArchivesList",{url:"/residentArchivesList",controller:"residentArchivesListCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesListReturn",{url:"/residentArchivesList/:TYPE",controller:"residentArchivesListCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesAdd",{url:"/residentArchivesAdd",controller:"residentArchivesAddCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/detail.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar",{url:"/residentArchivesSidebar/:RESIDENT_KEY_ID",controller:"residentArchivesSidebarCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/sidebar.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail",{url:"/detail",template:"<div ui-view></div>","abstract":!0}).state("main.resident.residentArchivesSidebar.detail.residentArchivesEdit",{url:"/residentArchivesEdit/:RESIDENT_KEY_ID",controller:"residentArchivesEditCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/detail.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.medical",{url:"/medical/:RESIDENT_KEY_ID",controller:"residentMedicalListCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/medicalRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.healthBehavior",{url:"/healthBehavior/:RESIDENT_KEY_ID",controller:"residentBehaviorListCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/healthBehaviorRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.physicalExamination",{url:"/physicalExamination/:RESIDENT_KEY_ID",controller:"residentExaminationListCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/physicalExaminationRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.physicalExaminationEdit",{url:"/physicalExaminationEdit/:RESIDENT_KEY_ID/:PHYSICAL_RECORD_KEY_ID",controller:"physicalExaminationEditCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/physicalExaminationRecord/detail.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.physicalIdentification",{url:"/physicalIdentification/:RESIDENT_KEY_ID",controller:"residentIdentificationListCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/physicalIdentificationRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.physicalIdentificationEdit",{url:"/physicalIdentificationEdit/:RESIDENT_KEY_ID/:TCM_CONSTITUTION_RECORD_KEY_ID",controller:"physicalIdentificationEditCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/physicalIdentificationRecord/detail.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.familyArchivesEdit",{url:"/familyArchivesEdit/:FAMILY_KEY_ID",controller:"familyArchivesEditCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/familyArchives/detail.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.familyMember",{url:"/familyMember/:FAMILY_KEY_ID",controller:"familyFamilyMemberCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/familyMember/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar",{url:"/hypertensionHead/:RESIDENT_KEY_ID/:HYPERTENSION_RECORD_KEY_ID",controller:"hypertensionHeadBarCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/special/hyHeadbar.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail",{url:"/detail",template:"<div ui-view></div>","abstract":!0}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.hypertensionEdit",{url:"/hypertensionEdit/:RESIDENT_KEY_ID/:HYPERTENSION_RECORD_KEY_ID",controller:"hypertensionEditCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/detail.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.bloodPressureList",{url:"/bloodPressureList/:HYPERTENSION_RECORD_KEY_ID",controller:"hypertensionBloodPressureListCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/bloodPressureRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.bloodPressureAdd",{url:"/bloodPressureAdd/:HYPERTENSION_RECORD_KEY_ID",controller:"hypertensionBloodPressureAddCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/bloodPressureRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.bloodPressureEdit",{url:"/bloodPressureEdit/:HYPERTENSION_RECORD_KEY_ID/:BLOOD_PRESSURE_RECORD_KEY_ID",controller:"hypertensionBloodPressureEditCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/bloodPressureRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.bloodPressureReport",{url:"/bloodPressureReport/:BLOOD_PRESSURE_RECORD_KEY_ID",controller:"hypertensionBloodPressureReportCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/bloodPressureRecord/report.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.followupList",{url:"/followupList/:RESIDENT_KEY_ID/:HYPERTENSION_RECORD_KEY_ID",controller:"hypertensionFollowupListCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/followupRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.followupEdit",{url:"/followupEdit/:RESIDENT_KEY_ID/:HYPERTENSION_RECORD_KEY_ID/:FOLLOW_UP_RECORD_KEY_ID",controller:"hypertensionFollowupEditCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/followupRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.followupAdd",{url:"/followupAdd/:RESIDENT_KEY_ID/:HYPERTENSION_RECORD_KEY_ID",controller:"hypertensionFollowupAddCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/followupRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.evaluationList",{url:"/evaluationList/:HYPERTENSION_RECORD_KEY_ID",controller:"hypertensionEvaluationListCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/evaluationRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.evaluationAdd",{url:"/evaluationAdd/:HYPERTENSION_RECORD_KEY_ID",controller:"hypertensionEvaluationAddCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/evaluationRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.hypertensionHeadBar.detail.evaluationEdit",{url:"/evaluationEdit/:HYPERTENSION_RECORD_KEY_ID/:ASSESS_RECORD_KEY_ID",controller:"hypertensionEvaluationEditCtrl as vm",controllerAs:"vm",templateUrl:"template/special/hypertension/evaluationRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar",{url:"/diabetesHead/:RESIDENT_KEY_ID/:DIABETES_RECORD_KEY_ID",controller:"diabetesHeadBarCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/residentArchives/special/diHeadbar.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail",{url:"/detail",template:"<div ui-view></div>","abstract":!0}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.diabetesEdit",{url:"/diabetesEdit/:RESIDENT_KEY_ID",controller:"diabetesEditCtrl as vm",controllerAs:"vm",templateUrl:"template/special/diabetes/detail.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.bloodGlucoseList",{url:"/bloodGlucoseList/:RESIDENT_KEY_ID/:DIABETES_RECORD_KEY_ID",controller:"diabetesBloodGlucoseListCtrl as vm",controllerAs:"vm",templateUrl:"template/special/diabetes/bloodGlucoseRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.bloodGlucoseAdd",{url:"/bloodGlucoseAdd/:RESIDENT_KEY_ID/:DIABETES_RECORD_KEY_ID",controller:"diabetesBloodGlucoseAddCtrl as vm",controllerAs:"vm",templateUrl:"template/special/diabetes/bloodGlucoseRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.bloodGlucoseEdit",{url:"/bloodGlucoseEdit/:RESIDENT_KEY_ID/:DIABETES_RECORD_KEY_ID/:RECORD_KEY_ID",controller:"diabetesBloodGlucoseEditCtrl as vm",controllerAs:"vm",templateUrl:"template/special/diabetes/bloodGlucoseRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.bloodGlucoseReport",{url:"/bloodGlucoseReport/:RESIDENT_KEY_ID/:DIABETES_RECORD_KEY_ID",controller:"diabetesBloodGlucoseReportCtrl as vm",controllerAs:"vm",templateUrl:"template/special/diabetes/bloodGlucoseRecord/report.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.followupList",{url:"/followupList/:RESIDENT_KEY_ID/:DIABETES_RECORD_KEY_ID",controller:"diabetesFollowupListCtrl as vm",controllerAs:"vm",templateUrl:"template/special/diabetes/followupRecord/list.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.followupAdd",{url:"/followupAdd/:RESIDENT_KEY_ID/:DIABETES_RECORD_KEY_ID",controller:"diabetesFollowupAddCtrl as vm",controllerAs:"vm",templateUrl:"template/special/diabetes/followupRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.residentArchivesSidebar.detail.diabetesHeadBar.detail.followupEdit",{url:"/followupEdit/:RESIDENT_KEY_ID/:DIABETES_RECORD_KEY_ID/:FOLLOW_UP_RECORD_KEY_ID",controller:"diabetesFollowupEditCtrl as vm",controllerAs:"vm",templateUrl:"template/special/diabetes/followupRecord/add.html",naviPath:"/main/resident/residentArchivesList"}).state("main.resident.familyArchivesList",{url:"/familyArchivesList",controller:"familyArchivesListCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/familyArchives/list.html",naviPath:"/main/resident/familyArchivesList"}).state("main.resident.familyArchivesListReturn",{url:"/familyArchivesList/:TYPE",controller:"familyArchivesListCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/familyArchives/list.html",naviPath:"/main/resident/familyArchivesList"}).state("main.resident.familyArchivesAdd",{url:"/familyArchivesAdd",controller:"familyArchivesAddCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/familyArchives/detail.html",naviPath:"/main/resident/familyArchivesList"}).state("main.resident.familyArchivesSidebar",{url:"/familyArchivesSidebar/:FAMILY_KEY_ID",controller:"familyArchivesSidebarCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/familyArchives/sidebar.html",naviPath:"/main/resident/familyArchivesList"}).state("main.resident.familyArchivesSidebar.detail",{url:"/detail",template:"<div ui-view></div>","abstract":!0}).state("main.resident.familyArchivesSidebar.detail.familyArchivesEdit",{url:"/familyArchivesEdit/:FAMILY_KEY_ID",controller:"familyArchivesEditCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/familyArchives/detail.html",naviPath:"/main/resident/familyArchivesList"}).state("main.resident.familyArchivesSidebar.detail.familyMember",{url:"/familyMember/:FAMILY_KEY_ID",controller:"familyFamilyMemberCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/familyArchives/familyMember/list.html",naviPath:"/main/resident/familyArchivesList"}).state("main.resident.familyArchivesSidebar.detail.signDoctor",{url:"/signDoctor/:FAMILY_KEY_ID",controller:"familySignDoctorCtrl as vm",controllerAs:"vm",templateUrl:"template/resident/familyArchives/signDoctor/detail.html",naviPath:"/main/resident/familyArchivesList"}).state("main.doctor.doctorIndividualList",{url:"/doctorIndividualList",controller:"doctorIndividualListCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorIndividual/list.html",naviPath:"/main/doctor/doctorIndividualList"}).state("main.doctor.doctorIndividualAdd",{url:"/doctorIndividualAdd",controller:"doctorIndividualAddCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorIndividual/detail.html",naviPath:"/main/doctor/doctorIndividualList"}).state("main.doctor.doctorIndividualSidebar",{url:"/doctorIndividualSidebar/:DOCTOR_NAME/:FAMILY_DOCTOR_KEY_ID",controller:"doctorIndividualSidebarCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorIndividual/sidebar.html",naviPath:"/main/doctor/doctorIndividualList"}).state("main.doctor.doctorIndividualSidebar.detail",{url:"/detail",template:"<div ui-view></div>","abstract":!0}).state("main.doctor.doctorIndividualSidebar.detail.doctorIndividualEdit",{url:"/doctorIndividualEdit/:FAMILY_DOCTOR_KEY_ID",controller:"doctorIndividualEditCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorIndividual/detail.html",naviPath:"/main/doctor/doctorIndividualList"}).state("main.doctor.doctorIndividualSidebar.detail.signedFamilyList",{url:"/signedFamilyList/:DOCTOR_NAME/:FAMILY_DOCTOR_KEY_ID",controller:"signedFamilyListCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorIndividual/signManage/list.html",naviPath:"/main/doctor/doctorIndividualList"}).state("main.doctor.doctorIndividualSidebar.detail.signRecord",{url:"/signRecord/:FAMILY_DOCTOR_KEY_ID",controller:"doctorIndividualSignRecordCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorIndividual/signRecord/detail.html",naviPath:"/main/doctor/doctorIndividualList"}).state("main.doctor.doctorTeamList",{url:"/doctorTeamList",controller:"doctorTeamListCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorTeam/list.html",naviPath:"/main/doctor/doctorTeamList"}).state("main.doctor.doctorTeamAdd",{url:"/doctorTeamAdd",controller:"doctorTeamAddCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorTeam/detail.html",naviPath:"/main/doctor/doctorTeamList"}).state("main.doctor.doctorTeamEdit",{url:"/doctorTeamEdit",controller:"doctorTeamEditCtrl as vm",controllerAs:"vm",templateUrl:"template/doctor/doctorTeam/detail.html",naviPath:"/main/doctor/doctorTeamList"}).state("main.report.contractReport",{url:"/contractReport",controller:"contractReportCtrl as vm",controllerAs:"vm",templateUrl:"template/report/contractNum/contractReport.html",naviPath:"/main/report/contractReport"}).state("main.report.contractDetailReport",{url:"/contractDetailReport",controller:"contractDetailReportCtrl as vm",controllerAs:"vm",templateUrl:"template/report/contractNum/contractDetailReport.html",naviPath:"/main/report/contractReport"}).state("main.report.keyPopulationReport",{url:"/keyPopulationReport",controller:"keyPopulationReportCtrl as vm",controllerAs:"vm",templateUrl:"template/report/keyPopulation/keyPopulationReport.html",naviPath:"/main/report/keyPopulationReport"}).state("main.report.keyPopulationReportReturnBack",{url:"/keyPopulationReport/:TYPE",controller:"keyPopulationReportCtrl as vm",controllerAs:"vm",templateUrl:"template/report/keyPopulation/keyPopulationReport.html",naviPath:"/main/report/keyPopulationReport"}).state("main.report.keyPopulationDetailReport",{url:"/keyPopulationDetailReport/:DETAIL_CHART_TYPE/:DETAIL_CHART_VALUE",controller:"keyPopulationDetailReportCtrl as vm",controllerAs:"vm",templateUrl:"template/report/keyPopulation/keyPopulationDetailReport.html",naviPath:"/main/report/keyPopulationDetailReport"}).state("main.report.followupTimesReport",{url:"/followupTimesReport",controller:"followupTimesReportCtrl as vm",controllerAs:"vm",templateUrl:"template/report/followupTimes/followupTimesReport.html",naviPath:"/main/report/followupTimesReport"}).state("main.followupTemplate.templateList",{url:"/templateList",controller:"templateListCtrl as vm",controllerAs:"vm",templateUrl:"template/followupTemplate/template/list.html",naviPath:"/main/followupTemplate/templateList"}).state("main.followupTemplate.templatePreview",{url:"/templatePreview/:TEMPLATE_KEY_ID",controller:"templatePreviewCtrl as vm",controllerAs:"vm",templateUrl:"template/followupTemplate/template/preview.html",naviPath:"/main/followupTemplate/templateList"}).state("main.followupTemplate.fieldsList",{url:"/fieldsList",controller:"fieldsListCtrl as vm",controllerAs:"vm",templateUrl:"template/followupTemplate/fields/list.html",naviPath:"/main/followupTemplate/fieldsList"}),t.otherwise("login"),a.firstDayOfWeek=1,a.parseDate=function(e){var t=moment(e,"YYYY-MM-DD",!0);return t.isValid()?t.toDate():new Date(NaN)},a.formatDate=function(e){if(!e)return"";var t=moment(e);return t.isValid()?t.format("YYYY-MM-DD"):""},n.defaults.withCredentials=!0,o.definePalette("gpcolors",{50:"#3d93fe",100:"#ff4747",200:"ef9a9a",300:"e57373",400:"ef5350",500:"f44336",600:"#3176cb",700:"d32f2f",800:"c62828",900:"b71c1c",A100:"ff8a80",A200:"ff5252",A400:"ff1744",A700:"d50000",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0}),o.theme("default").primaryPalette("gpcolors",{"default":"50"}).accentPalette("light-blue",{"default":"500"}).warnPalette("gpcolors",{"default":"100"})}]).run(["$rootScope","$state","$stateParams","SessionStorage","ENV","$mdDialog","$document",function(e,t,i,n,o,a,r){e.$state=t,e.$stateParams=i,e.$on("$stateChangeSuccess",function(t,i,n,o,a){o.name&&(e.previousState_name=o.name,e.previousState_params=a),e.$emit("url-change",i.name)}),e.back=function(){e.previousState_name&&t.go(e.previousState_name,e.previousState_params),!e.previousState_name&&window.history.back()},e.$on("$stateChangeStart",function(i,s,l,c){return e.naviIndex=s.naviIndex,e.naviPath=s.naviPath,angular.element(r[0].body).hasClass("md-dialog-is-showing")?(a.cancel(),void i.preventDefault()):angular.element(".md-panel-is-showing").length>0?(e.$broadcast("panelClose"),void i.preventDefault()):void(s.name+""!="login"&&("debug"===o.runMode||n.get("loginInfo")||(e.previousState_name=s.name,e.previousState_params=l,e.lastUserName="gproot001",i.preventDefault(),t.go("login",{from:c.name,w:"notLogin"}))))}),e.$on("commonInterceptor",function(e){t.go("login",{from:t.current.name,w:e})})}]),function(e,t){var i=t.module("SMS.backend",["ngResource","SMS.config"]);i.config(["$httpProvider",function(e){e.interceptors.push("commonInterceptor"),e.interceptors.push("smsInterceptor")}]).factory("commonInterceptor",["$q","LocalStorage","$rootScope",function(e,t,i){var n={request:function(t){var i=e.defer(),n=/.*\.html/;return n.test(t.url)||t.params||(t.params={}),t.timeout||(t.timeout=3e4),i.resolve(t),i.promise},response:function(t){if(t&&t.data.message&&"unauthorized"===t.data.message&&!t.data.success){var n=e.defer();return i.$broadcast("auth-loginRequired",t),n.promise}return t},responseError:function(t){switch(t.status){case 401:var n=e.defer();return i.$broadcast("auth-loginRequired",t),n.promise;case 403:i.$broadcast("auth-forbidden",t);break;case-1:i.$broadcast("offline")}return e.reject(t)}};return n}]).factory("smsInterceptor",["$q","$rootScope",function(e,t){
void 0===t.ajaxCalls&&(t.ajaxCalls=0);var i={request:function(e){return t.ajaxCalls+=1,e},requestError:function(e){return t.ajaxCalls-=1,e},response:function(e){return t.ajaxCalls-=1,e},responseError:function(e){return t.ajaxCalls-=1,e}};return i}]).factory("Common",["$resource","ENV",function(e,t){return e("","",{getCurrentTime:{method:"GET",headers:{"content-type":"application/json"},url:t.urlBase+"/getSysDate",isArray:!1,timeout:t.timeout},getDictList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/common/getDictList",isArray:!1,timeout:t.timeout},getOrganizationLevelList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getOrganizationLevelList",isArray:!1,timeout:t.timeout},getProvinceList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/common/getProvinceList",isArray:!1,timeout:t.timeout},getCityListOfCertainProvince:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/common/getCityListOfCertainProvince",isArray:!1,timeout:t.timeout},getCountyListOfCertainCity:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/common/getCountyListOfCertainCity",isArray:!1,timeout:t.timeout},getSubdistrictListOfCertainCounty:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/common/getSubdistrictListOfCertainCounty",isArray:!1,timeout:t.timeout}})}]).factory("Account",["$resource","ENV",function(e,t){return e("","",{debugTable:{method:"POST",headers:{"content-type":"application/json"},withCredentials:!1,url:"http://hcrmtest.kyee.com.cn:40080/hcrmcloudnew/view/currentTask/interview/listAllPatientsByCusId",isArray:!1,timeout:t.timeout},debugLogin:{method:"POST",headers:{"content-type":"application/json"},withCredentials:!1,url:"http://hcrmtest.kyee.com.cn:40080/hcrmcloudnew/public/weChat/doc/getPatientInfoByIdCard",isArray:!1,timeout:t.timeout},login:{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},url:t.urlBase+"/login",isArray:!1,timeout:t.timeout},logout:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/logout",isArray:!1,timeout:t.timeout},modifyPass:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/modifyPass",isArray:!1,timeout:t.timeout},getCode:{method:"GET",headers:{"content-type":"application/json"},url:t.urlBase+"/getcode",isArray:!1,timeout:t.timeout},checkCode:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/checkCode",isArray:!1,timeout:t.timeout}})}]).factory("Organization",["$resource","ENV",function(e,t){return e("","",{getOrganizationLevelList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getOrganizationLevelListConstraint",isArray:!1,timeout:t.timeout},getCertainLevelOrganization:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getCertainLevelOrganization",isArray:!1,timeout:t.timeout},getProvinceList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getProvinceConstraint",isArray:!1,timeout:t.timeout},getCityListOfCertainProvince:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getCityConstraint",isArray:!1,timeout:t.timeout},getCountyListOfCertainCity:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getCountyConstraint",isArray:!1,timeout:t.timeout},getSubdistrictListOfCertainCounty:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getSubdistrictConstraint",isArray:!1,timeout:t.timeout},isOrganizationExist:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/isOrganizationExist",isArray:!1,timeout:t.timeout},createOrganization:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/createOrganization",isArray:!1,timeout:t.timeout},getOrganizationList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getOrganizationList",isArray:!1,timeout:t.timeout},getParentOrganizationList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getParentOrganizationList",isArray:!1,timeout:t.timeout},getOrganizationNameList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getOrganizationNameList",isArray:!1,timeout:t.timeout},getOrganizationInfo:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getOrganizationInfo",isArray:!1,timeout:t.timeout},updateOrganization:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/updateOrganization",isArray:!1,timeout:t.timeout},downloadOrganizationList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/downloadOrganizationList",isArray:!1,timeout:t.timeout}})}]).factory("Role",["$resource","ENV",function(e,t){return e("","",{getRoleList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/role/getRoleList",isArray:!1,timeout:t.timeout},downloadRoleList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/role/exportRoleList",isArray:!1,timeout:t.timeout},getJurisdictionsOfRole:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/role/getJurisdictionsOfRole",isArray:!1,timeout:t.timeout},createRole:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/role/createRole",isArray:!1,timeout:t.timeout},updateRole:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/role/updateRole",isArray:!1,timeout:t.timeout},deleteRole:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/role/deleteRole",isArray:!1,timeout:t.timeout},checkUser:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/role/checkUser",isArray:!1,timeout:t.timeout}})}]).factory("User",["$resource","ENV",function(e,t){return e("","",{getAllAccountRole:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/getRoleList",isArray:!1,timeout:t.timeout},checkUserNameDuplicate:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/checkUserName",isArray:!1,timeout:t.timeout},getOrganizationList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/getOrganizationList",isArray:!1,timeout:t.timeout},createNewUser:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/createNewUser",isArray:!1,timeout:t.timeout},getUserList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/getUserList",isArray:!1,timeout:t.timeout},getUserInfoByKeyId:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/getUserInfoByKeyId",isArray:!1,timeout:t.timeout},deleteUser:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/deleteUser",isArray:!1,timeout:t.timeout},editUser:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/editUser",isArray:!1,timeout:t.timeout},downloadUserList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/downloadUserList",isArray:!1,timeout:t.timeout}})}]).factory("Doctor",["$resource","ENV",function(e,t){return e("","",{checkPhoneNumber:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/checkPhoneNumber",isArray:!1,timeout:t.timeout},getSexType:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/getSexType",isArray:!1,timeout:t.timeout},getDoctorTitle:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/getDoctorTitle",isArray:!1,timeout:t.timeout},getOrganizationList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/selectOrganization",isArray:!1,timeout:t.timeout},getHospitalList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/selectHospital",isArray:!1,timeout:t.timeout},createDoctorAndUser:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/createDoctorAndUser",isArray:!1,timeout:t.timeout},searchDoctorList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/selectDoctor",isArray:!1,timeout:t.timeout},getDoctorInfoById:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/selectDoctorById",isArray:!1,timeout:t.timeout},editDoctorInfo:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/updateDoctorMessage",isArray:!1,timeout:t.timeout},downloadDoctorList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/exportDoctorList",isArray:!1,timeout:t.timeout},searchSigningHomeList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/selectSignedFamiliesData",isArray:!1,timeout:t.timeout},searchUnsigningHomeList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/getfamilyStatusMsg",isArray:!1,timeout:t.timeout},ensureSign:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/insertFamilyDoctorRel",isArray:!1,timeout:t.timeout},changeSign:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/updateFamilyDoctorRel",isArray:!1,timeout:t.timeout},getFamilyMemberById:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/getFamilyMember",isArray:!1,timeout:t.timeout},getDeptList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/getDeptList",isArray:!1,timeout:t.timeout},updateFamilyDoctorBatch:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/updateFamilyDoctorBatch",isArray:!1,timeout:t.timeout},terminateBatch:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/doctor/terminateBatch",isArray:!1,timeout:t.timeout}})}]).factory("FamilyArchives",["$resource","ENV",function(e,t){return e("","",{getSignedDoctorList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/getSignedDoctorList",isArray:!1,timeout:t.timeout},showSignedFamily:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/showSignedFamily",isArray:!1,timeout:t.timeout},showUnsignedFamily:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/showUnsignedFamily",isArray:!1,timeout:t.timeout},exportSignedFamily:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/exportSignedFamily",isArray:!1,timeout:t.timeout},exportUnsignedFamily:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/exportUnsignedFamily",isArray:!1,timeout:t.timeout},searchFamilyDetail:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/searchFamilyDetail",isArray:!1,timeout:t.timeout},searchSignFamilyMember:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/searchSignFamilyMember",isArray:!1,timeout:t.timeout},searchResident:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/searchResident",isArray:!1,timeout:t.timeout},searchSignDoctor:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/searchSignDoctor",isArray:!1,timeout:t.timeout},addFamily:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/addFamily",isArray:!1,timeout:t.timeout},editFamily:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/editFamily",isArray:!1,timeout:t.timeout},searchFamilyMemberDetail:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/searchFamilyMemberDetail",isArray:!1,timeout:t.timeout},addFamilyMember:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/addFamilyMember",isArray:!1,timeout:t.timeout},editFamilyMember:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/editFamilyMember",isArray:!1,timeout:t.timeout},deleteFamilyMember:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/deleteFamilyMember",isArray:!1,timeout:t.timeout},setFamilyHolder:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/setFamilyHolder",isArray:!1,timeout:t.timeout},searchSignDoctorDetail:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/searchSignDoctorDetail",isArray:!1,timeout:t.timeout},addSignDoctor:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/addSignDoctor",isArray:!1,timeout:t.timeout},editSignDoctor:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/editSignDoctor",isArray:!1,timeout:t.timeout},getSignedRecordList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/family/getSignedRecordList",isArray:!1,timeout:t.timeout}})}]).factory("ResidentArchives",["$resource","ENV",function(e,t){return e("","",{getResidentSexList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getResidentSexList",isArray:!1,timeout:t.timeout},getDoctorListOrganizationConstraint:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getDoctorListOrganizationConstraint",isArray:!1,timeout:t.timeout},getResidentList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getResidentList",isArray:!1,timeout:t.timeout},exportResidentListExcel:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/exportResidentListExcel",isArray:!1,timeout:t.timeout},checkIdNo:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/checkIdNo",isArray:!1,timeout:t.timeout},createResident:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/createResident",isArray:!1,timeout:t.timeout},getResidentDetailInfo:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getResidentDetailInfo",isArray:!1,timeout:t.timeout},editResidentInfo:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/editResidentInfo",isArray:!1,timeout:t.timeout},getSignedDoctor:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getSignedDoctor",isArray:!1,timeout:t.timeout},getResidentDiseaseFlag:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/user/getResidentDiseaseFlag",isArray:!1,timeout:t.timeout},getResidentTCMConstitutionDetail:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getTCMConstitutionInfo",isArray:!1,timeout:t.timeout},getResidentTCMConstitutionList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getResidentTCMConstitutionList",isArray:!1,timeout:t.timeout}})}]).factory("PhysicalExamination",["$resource","ENV",function(e,t){return e("","",{getPhysicalExaminationListByResident:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getResidentPhysicalList",isArray:!1,timeout:t.timeout},getDetail:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getPhysicalDetailInfo",isArray:!1,timeout:t.timeout}})}]).factory("Diabetes",["$resource","ENV",function(e,t){return e("","",{getDetailedArchives:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getDiabetesDetailedArchivesMsg",isArray:!1,timeout:t.timeout},getBloodGlucoseList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getDiabetesBloodGlucoseList",isArray:!1,timeout:t.timeout},getBloodGlucoseCurveList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getDiabetesBloodGlucoseCurveList",isArray:!1,timeout:t.timeout},getDetailById:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getDiabetesBloodGlucoseDetailById",isArray:!1,timeout:t.timeout},getFollowUpRecordList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getDiabetesFollowUpRecordList",isArray:!1,timeout:t.timeout},getFollowUpRecordInfo:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getFollowUpTemplateByCode",isArray:!1,timeout:t.timeout}})}]).factory("Hypertension",["$resource","ENV",function(e,t){return e("","",{getDetailedArchives:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getDetailedArchivesMsg",isArray:!1,timeout:t.timeout},getBloodPressureList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getBloodPressureList",isArray:!1,timeout:t.timeout},getBloodPressureMeasureType:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/doctorPlatform/common/getBloodPressureMeasureType",isArray:!1,timeout:t.timeout},getBloodPressureDetailById:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getBloodPressureDetailById",isArray:!1,timeout:t.timeout},getBloodPressureCurveList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getBloodPressureCurveList",isArray:!1,timeout:t.timeout},getFollowUpRecordList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getFollowUpRecordList",isArray:!1,timeout:t.timeout},getFollowUpRecordInfo:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getFollowUpTemplateByCode",isArray:!1,timeout:t.timeout},getEvaluationRecordList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/getAssessRecordDisplay",isArray:!1,timeout:t.timeout},searchEvaluationRecord:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/resident/searchBPAssessRecord",isArray:!1,timeout:t.timeout}})}]).factory("HospitalDept",["$resource","ENV",function(e,t){return e("","",{getProvinceList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getProvinceConstraint",isArray:!1,timeout:t.timeout},getCityListOfCertainProvince:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getCityConstraint",isArray:!1,timeout:t.timeout},getCountyListOfCertainCity:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getCountyConstraint",isArray:!1,timeout:t.timeout},getSubdistrictListOfCertainCounty:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getSubdistrictConstraint",isArray:!1,timeout:t.timeout},getHospitalNameList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/hospital/getHospitalNameList",isArray:!1,timeout:t.timeout},getHospitalLevelList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/common/getSubdistrictListOfCertainCounty",isArray:!1,timeout:t.timeout},getHospitalList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/hospital/getHospitalList",isArray:!1,timeout:t.timeout},getDeptList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/dept/getDeptList",isArray:!1,timeout:t.timeout},downloadHospitalList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/dept/deptExport",isArray:!1,timeout:t.timeout},downloadDeptList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/dept/deptExport",isArray:!1,timeout:t.timeout},addDept:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/dept/addDept",isArray:!1,timeout:t.timeout},updateDept:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/dept/updateDept",isArray:!1,timeout:t.timeout},getDeptById:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/dept/displayDept",isArray:!1,timeout:t.timeout}})}]).factory("Template",["$resource","ENV",function(e,t){return e("","",{getTemplateList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/followUpTemplate/getFollowUpTemplateList",isArray:!1,timeout:t.timeout},getFollowUpTemplateById:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/followUpTemplate/getFollowUpTemplateById",isArray:!1,timeout:t.timeout}})}]).factory("Report",["$resource","ENV",function(e,t){return e("","",{getOrganizationLevel:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getOrganizationLevelListConstraint",isArray:!1,timeout:t.timeout},getOrganizationByLevel:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/organization/getCertainLevelOrganization",isArray:!1,timeout:t.timeout},getDoctorByOrganization:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getDoctorByOrganization",isArray:!1,timeout:t.timeout},getAllSignedData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getAllSignedData",isArray:!1,timeout:t.timeout},getOrganizationORDoctor:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getOrganizationORDoctor",isArray:!1,timeout:t.timeout},getMoreSignedData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getMoreSignedData",isArray:!1,timeout:t.timeout},getPageSignedData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getPageSignedData",isArray:!1,timeout:t.timeout},getAllFollowUpData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getAllFollowUpData",isArray:!1,timeout:t.timeout},getAllDiabetesData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getAllDiabetesData",isArray:!1,timeout:t.timeout},getGlucoseAndWarningData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getGlucoseAndWarningData",isArray:!1,timeout:t.timeout},getHBPGlucoseAndWarningData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getHBPGlucoseAndWarningData",isArray:!1,timeout:t.timeout},getPerMonthDiabetesData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getPerMonthDiabetesData",isArray:!1,timeout:t.timeout},getAllHypertensionData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getAllHypertensionData",isArray:!1,timeout:t.timeout},getSysDate:{method:"GET",headers:{"content-type":"application/json"},url:t.urlBase+"/getSysDate",isArray:!1,timeout:t.timeout},getPerMonthHypertensionData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getPerMonthHypertensionData",isArray:!1,timeout:t.timeout},getMoreGlucoseAndWarningData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getMoreGlucoseAndWarningData",isArray:!1,timeout:t.timeout},getMoreHBPGlucoseAndWarningData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getMoreHBPGlucoseAndWarningData",isArray:!1,timeout:t.timeout},getPageGlucoseAndWarningData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getPageGlucoseAndWarningData",isArray:!1,timeout:t.timeout},getPageHBPGlucoseAndWarningData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getPageHBPGlucoseAndWarningData",isArray:!1,timeout:t.timeout},getMoreODPDistributionData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getMoreODPDistributionData",isArray:!1,timeout:t.timeout},getMoreOHPDistributionData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getMoreOHPDistributionData",isArray:!1,timeout:t.timeout},getPageODPDistributionData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getPageODPDistributionData",isArray:!1,timeout:t.timeout},getPageOHPDistributionData:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/statisticsReport/getPageOHPDistributionData",isArray:!1,timeout:t.timeout}})}]).factory("Fields",["$resource","ENV",function(e,t){return e("","",{getFieldList:{method:"POST",headers:{"content-type":"application/json"},url:t.urlBase+"/signManagement/followUpTemplate/getFieldList",isArray:!1,timeout:t.timeout}})}])}(window,window.angular),function(e,t){t.module("SMS.common",[]).factory("LocalStorage",function(){return{set:function(t,i){return e.localStorage.setItem(t,e.JSON.stringify(i))},get:function(t){return e.JSON.parse(e.localStorage.getItem(t))},remove:function(t){return e.localStorage.removeItem(t)}}}).factory("SessionStorage",function(){return{set:function(t,i){return e.sessionStorage.setItem(t,e.JSON.stringify(i))},get:function(t){return e.JSON.parse(e.sessionStorage.getItem(t))},remove:function(t){return e.sessionStorage.removeItem(t)}}}).factory("cacheService",["$cacheFactory",function(e){var t=e("rootCache");return{put:function(e,i){return t.put(e,i)},get:function(e){return t.get(e)},remove:function(e){return t.remove(e)},removeAll:function(){return t.removeAll()}}}]).factory("bootstrapTable",function(){return{initOption:function(e){var i={dataFunction:function(){return{rows:[],total:0}},columns:[{field:"NAME",title:"默认数据",sortable:!0,align:"center"}],pagination:!0,search:!1,sidePagination:"server",pageSize:10,pageList:[10,20,50],dataField:"rows",minimumCountColumns:1};return t.extend(i,e)}}}).factory("downloadCommon",["ENV",function(t){return{downloadFile:function(i,n){function o(e,t,i){var n=function(){i.apply(e,arguments)};return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n),n}function a(e,t){for(var i,n=arguments.length>2?Array.prototype.slice.call(arguments,1):[],o=0;o<n.length;o++){i=n[o];for(var r in i)"object"==typeof i[r]?e[r]=a({},i[r]):null!=r&&i.hasOwnProperty(r)&&"undefined"!=typeof i[r]&&(e[r]=i[r])}return e}function r(t,i){var n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.download=t,n.href=URL.createObjectURL(i);var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)}function s(t,i,n){var o;return i=i||"GET",o=e.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),o.open(i,t,!0),o.responseType="blob",o.onreadystatechange=function(){o.readyState==o.DONE&&n&&n.call(o,o.response)},o.send(),o}var l={url:"",filename:"",type:"GET",progress:function(){},done:function(){}},c=function(e){function t(e){var t=e.total,i=e.loaded,o=i/t,a=(new Date).getTime(),r=(a-d)/1e3,s=i-I,l=s/r;I=i,d=a,e.per=o,e.speed=l,n.progress.call(_,e)}function i(e){var t=n.done();return"boolean"!=typeof t||t?void r(E,e):t}var n=a({},l,e),c=n.url,E=n.filename,_=s(c,n.type,i),d=(new Date).getTime(),I=0;o(_,"progress",t)};c({url:encodeURI(t.urlBase+i),filename:n})}}}])}(window,window.angular),function(e){var t=e.module("SMS.directives",[]);t.directive("rpwCheck",function(){return{require:"ngModel",link:function(e,t,i,n){var o=t.inheritedData("$formController")[i.rpwCheck];n.$parsers.push(function(e){return n.$setValidity("repeat",e===o.$viewValue),e}),o.$parsers.push(function(e){return n.$setValidity("repeat",e===n.$viewValue),e})}}}).directive("idcardCheck",function(){return{require:"ngModel",link:function(t,i,n,o){var a=function(t){if(void 0===t||null===t||""===t)return o.$setValidity("idCard",!0),o.$setValidity("idCardAdress",!0),o.$setValidity("idCardCheckCode",!0),t;var i=e.copy(t),n={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},a=!0;if(i&&/^[1-9]\d{5}((1[89]|20)\d{2})(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])\d{3}[\dx]$/i.test(i))if(n[i.substr(0,2)]){if(18===i.length){i=i.split("");for(var r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],s=["1","0","X","9","8","7","6","5","4","3","2"],l=0,c=0,E=0,_=0;17>_;_++)c=i[_],E=r[_],l+=c*E;var d=s[l%11];d!==i[17].toUpperCase()?(a=!1,o.$setValidity("idCard",!0),o.$setValidity("idCardAdress",!0),o.$setValidity("idCardCheckCode",!1)):(o.$setValidity("idCard",!0),o.$setValidity("idCardAdress",!0),o.$setValidity("idCardCheckCode",!0))}}else a=!1,o.$setValidity("idCard",!0),o.$setValidity("idCardAdress",!1);else a=!1,o.$setValidity("idCard",!1);return a?t:void 0};o.$formatters.push(a),o.$parsers.push(a)}}}).directive("ngClear",function(){return{link:function(e,t,i){e.$watch(i.ngClear,function(n){var o=t[0];n&&("INPUT"===o.tagName?(o.value="",t.triggerHandler("input")):"MD-RADIO-GROUP"===o.tagName&&(e[i.ngModel.split(".")[0]][i.ngModel.split(".")[1]]=void 0,t.triggerHandler("change")))})}}}).directive("ngEnter",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(i.ngEnter)}),t.preventDefault())})}}}).directive("eChart",function(){function t(t,i,n){var o=echarts.init(i[0]);t.$watch(n.eData,function(){var i=t.$eval(n.eData);e.isObject(i)&&o.setOption(i,!0)},!0),t.getDom=function(){return{height:i[0].offsetHeight,width:i[0].offsetWidth}},t.$watch(t.getDom,function(){o.resize()},!0)}return{restrict:"A",link:t}}).directive("textChange",["$timeout",function(e){return{restrict:"A",link:function(t,i,n){t.$on("textChanged",function(){e(function(){i.triggerHandler("input")})}),t.$watch(n.ngModel,function(){
e(function(){i.triggerHandler("input")})})}}}])}(angular),function(e){var t=e.module("SMS.filters",[]);t.filter("age",[function(){return function(e){var t=+new Date(e),i=+new Date;return~~((i-t)/365/24/60/60/1e3)}}]),t.filter("sex",[function(){return function(e){return 1===e||"1"===e?"男":0===e||"0"===e?"女":"未知"}}]),t.filter("isEmptyObject",[function(){return function(e){for(var t in e)return!1;return!0}}]),t.filter("isEmptyArray",[function(){return function(e){return void 0===e||null===e||0===e.length?!0:!1}}]),t.filter("selected",[function(){return function(e){return 1===e||"1"===e?!0:0===e||"0"===e?!1:!1}}]),t.filter("commonDate",["$filter",function(e){return function(t,i){i||(i="yyyy-MM-dd"),"string"==typeof t&&(t=t.replace(/-/g,"/"));var n=+new Date(t);return e("date")(n,i)}}]),t.filter("logMessage",[function(){var e={"login failed. reason: Bad credentials":"密码错误。","login failed. reason: User account has expired":"用户账号过期。","login failed. reason: User account is locked":"用户账号被锁。","login failed. reason: User credentials have expired":"用户账号证书过期。","This session has been expired (possibly due to multiple concurrent logins being attempted as the same user).":"登录过期，您的账号在其他地方登录","access denied":"您没有权限，访问被拒绝。",unauthorized:"您还没有登录，请登录后尝试访问！","login success":"登录成功。","logout success":"注销成功。","invalid logout":"过期注销。","login failed. reason: Username not found":"该用户不存在。","login failed. reason: Authority not found":"用户基础数据获取异常。","login failed. reason: Authorityfunc not found":"用户基础数据获取异常。","login failed. reason: Bad code":"验证码错误。","login failed. reason: System exception":"系统登录异常。","login failed. reason: User not role":"该用户没有配置角色","login failed. reason: role not authority":"该用户的角色没有配置权限。","login failed. reason: role not menus":"该用户的角色没有配置菜单。"};return function(t){return e[t]||t}}])}(angular),function(){var e={"img/icons/ic_euro_24px.svg":'<svg viewBox="0 0 24 24" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="euro" sketch:type="MSLayerGroup" transform="translate(4.928571, 3.000000)"><path d="M13.3295171,13.848956 C12.7717614,14.1408877 11.5268981,14.5372503 10.3117026,14.5372503 C8.98732947,14.5372503 7.74127945,14.1408877 6.89515215,13.1855827 C6.49641614,12.7381914 6.20567113,12.1258468 6.0205437,11.3319349 L12.6685173,11.3319349 L12.6685173,9.45217947 L5.65147555,9.45217947 L5.65147555,9.02852246 C5.65147555,8.73659074 5.65147555,8.47432688 5.67639655,8.20731616 L12.669704,8.20731616 L12.669704,6.32756069 L6.07513256,6.32756069 C6.26263342,5.63926639 6.52371057,5.03048195 6.92363329,4.60682495 C7.74246616,3.62541221 8.91019304,3.17564749 10.1550564,3.17564749 C11.3168497,3.17564749 12.4311744,3.52098135 13.1194687,3.81172636 L13.8587917,0.793911872 C12.9046734,0.371441579 11.4770561,0 9.88685892,0 C7.3722113,0 5.25273954,1.00514702 3.77172009,2.7282562 C2.92559278,3.68118779 2.2634062,4.89994338 1.94418005,6.32874741 L0.168855444,6.32874741 L0.168855444,8.20731616 L1.65343504,8.20731616 C1.65343504,8.47432688 1.62614062,8.73777745 1.62614062,9.00241475 L1.62614062,9.45217947 L0.168855444,9.45217947 L0.168855444,11.3331216 L1.89196462,11.3331216 C2.1304942,12.7393781 2.65858206,13.8750637 3.37417079,14.7745931 C4.85875039,16.7338585 7.21319158,17.7935943 9.83345677,17.7935943 C11.5292715,17.7935943 13.0660666,17.2904275 13.965596,16.789634 L13.3295171,13.848956 L13.3295171,13.848956 Z" id="Shape" sketch:type="MSShapeGroup"></path></g></svg>',"img/icons/ic_card_giftcard_24px.svg":'<svg viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',"img/icons/addShoppingCart.svg":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="addShoppingCart"><g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"/></g></svg>',"img/icons/android.svg":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"/></g></svg>',"img/icons/angular-logo.svg":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-10 -10 120 120"> <defs> <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%"> <feOffset result="offOut" in="SourceAlpha" dx="0" dy="0"></feOffset> <feGaussianBlur result="blurOut" in="offOut" stdDeviation="3"></feGaussianBlur> <feComponentTransfer in="blurOut" result="opacityOut"> <feFuncA type="linear" slope="0.5"></feFuncA> </feComponentTransfer> <feBlend in="SourceGraphic" in2="opacityOut" mode="normal"></feBlend> </filter> </defs> <path d=" M 5 18.25 L 50 2.25 L 96 18 L 88.5 77 L 50 98.25 L 12 77.25 Z" fill="black" filter="url(#shadow)" class="outline"></path> <path d=" M 5 18.25 L 50 2.25 L 50 98.25 L 12 77.25 Z" fill="#de3641" class="left"></path> <path d=" M 50 2.25 L 96 18 L 88.5 77 L 50 98.25 Z" fill="#b13138" class="right"></path> <path d=" M 50 13 L 79.25 75.5 L 69.25 75.5 L 63 61.25 L 50 61.25 L 50 52.75 L 59.5 52.75 L 50 33.1 L 42 52.75 L 50 52.75 L 50 61.25 L 38.1 61.25 L 32.5 75.5 L 21.75 75.5 Z" fill="white" class="letter"></path></svg>',"img/icons/bower-logo.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><g> <g id="leaf"> <path fill="#00ACEE" d="M434.625,63.496c-67.822,0-118.399,71.68-95.018,123.167C435.596,186.664,396.518,98.058,434.625,63.496z" /> </g> <path id="body" fill="#FFCC2F" d="M456.534,256.992c0-22.79-108.627-34.129-169.139-37.663 c-60.511-3.533-281.592,38.389-255.42,93.813c26.173,55.426,92.581,114.358,167.313,114.358c38.716,0,83.584-27.284,86.053-77.38 C330.121,335.163,456.534,334.371,456.534,256.992z"/> <path id="wing_tip" fill="#2BAF2B" d="M400.981,272.143c7.02,7.104-15.222,26.295-34.606,17.262 c8.731,19.688-29.676,36.064-48.336,22.026c1.998,15.865-36.122,24.996-48.285,7.292c3.136,8.441,5.757,14.898,8.229,20.209 c-0.029-0.09-0.046-0.149-0.046-0.149c6.324,8.279,14.929,14.939,52.394,14.939c57.727,0,150.97-43.849,150.97-76.039 c0-26.643-9.992-29.14-27.196-27.198c-17.208,1.942-107.17,11.291-126.306,7.534C338.182,260.229,390.54,270.259,400.981,272.143z" /> <path id="head" fill="#EF5734" d="M198.51,48.82c-110.382,0-221.179,109.721-168.451,261.056 c35.817,21.53,83.576,12.995,94.278,1.532c16.178,5.171,30.612,7.347,43.513,7.347c67.047,0,124.34-71.235,124.34-160.257 C292.189,67.196,231.93,48.82,198.51,48.82z"/> <path id="eye_rim" fill="#FFCC2F" d="M153.308,146.522c0,24.632,19.969,44.603,44.603,44.603c24.633,0,44.603-19.971,44.603-44.603 c0-24.633-19.97-44.603-44.603-44.603C173.277,101.92,153.308,121.89,153.308,146.522z"/> <path id="eye" fill="#543729" d="M171.207,146.522c0,14.747,11.956,26.704,26.704,26.704c14.748,0,26.703-11.957,26.703-26.704 c0-14.748-11.955-26.704-26.703-26.704C183.163,119.819,171.207,131.774,171.207,146.522z"/> <ellipse id="pupil_highlight" fill="#FFFFFF" cx="197.91" cy="134.674" rx="15.56" ry="9.675"/> <path id="beak" fill="#CECECE" d="M289.401,123.675c-20.275,11.807-19.604,50.03-10.595,68.681 c17.445-6.466,41.752-19.291,45.527-21.585c3.773-2.293-2.088-10.989,12.559-10.989c20.315,0,38.684,6.348,43.956,8.634 C377.511,161.547,335.758,123.675,289.401,123.675z"/> <path id="outline" fill="#543729" d="M502.214,250.797c-26.335-25.305-158.017-41.1-199.568-45.698 c2.014-4.754,3.726-9.669,5.142-14.731c5.665-2.481,11.776-4.789,18.101-6.716c0.77,2.272,4.397,10.98,6.465,15.112 c83.553,2.305,87.844-62.09,91.24-79.732c3.323-17.25,3.154-33.917,31.812-64.388C412.709,42.201,351.31,73.928,330.742,121.15 c-7.728-2.896-15.474-5.035-23.136-6.357c-5.488-22.146-34.077-83.845-109.097-83.845c-48.585,0-97.581,20.063-134.421,55.045 c-19.852,18.85-35.445,41.234-46.344,66.53C5.97,179.851,0,209.94,0,241.957C0,353.462,76.126,451.18,119.139,451.18 c18.784,0,34.943-14.067,38.736-26.675c3.181,8.645,12.938,35.522,16.142,42.364c4.737,10.117,26.642,18.872,36.229,8.373 c12.326,6.849,34.943,10.973,47.27-7.289c23.739,5.022,44.728-9.135,45.184-26.026c11.649-0.622,17.363-16.978,14.819-30.001 c-1.875-9.591-21.904-44-29.719-55.877c15.468,12.58,54.644,16.142,59.401,0.008c24.936,19.571,63.797,9.301,66.879-6.619 c30.301,7.874,65.054-9.417,59.348-30.359C522.102,315.711,515.872,263.921,502.214,250.797z M375.456,164.958 c-12.821-5.033-29.084-8.217-40.482-8.217c-16.164,0-26.009,9.16-41.218,9.16c-3.193,0-10.812,0.016-16.926-2.162 c4.021,4.217,9.025,6.505,18.725,6.505c5.793,0,17.263-2.958,26.553-5.752c0.129,1.956,0.334,3.898,0.61,5.826 c-17.402,4.161-35.664,15.231-40.949,18.105c-11.755-25.958-1.65-50.505,7.697-61.837 C331.331,126.686,365.144,155.433,375.456,164.958z M393.557,163.001l-6.406-5.979c-6.575-6.159-13.43-11.731-20.469-16.678 c10.483-20.801,23.658-43.514,40.298-57.565c-18.314,7.381-36.397,29.445-47.089,53.03c-5.448-3.464-10.98-6.554-16.561-9.255 c14.913-31.834,49.568-58.42,87.762-60.497C405.509,89.257,415.114,135.563,393.557,163.001z M341.006,184.7 c-2.821-6.114-5.677-16.27-5.328-22.239c4.753-0.112,13.868,1.67,15.335,2.016c-0.557,2.803-0.855,8.944-0.866,9.739 c0.903-1.556,3.41-6.922,4.43-9.029c9.127,1.744,21.126,4.659,28.161,7.938C374.478,178.473,360.439,184.293,341.006,184.7z M283.971,112.911c-33.381,33.832-20.199,76.63-8.046,95.976c-17.29,28.761-51.28,48.437-90.765,57.389 c44.328,0,70.397-11.409,85.563-22.586c9.677-7.131,14.928-14.17,17.608-18.088c65.72,4.251,169.783,25.423,179.935,32.281 c4.074,2.753,8.278,8.842,8.895,14.668c-49.387-6.914-138.407-14.188-161.719-15.424c16.549,2.347,137.241,25.202,158.163,30.552 c-6.368,10.384-20.872,17.715-42.733,12.621c11.812,16.093-11.125,35.399-43.071,24.766c7.032,15.799-21.413,30.021-53.741,13.555 c0.411,15.805-40.105,17.626-56.123,0.162c0.306,2.082,2.207,6.066,3.028,7.809c-5.162,46.15-42.961,74.783-81.677,74.783 c-94.794,0-177.375-76.989-177.375-179.417c0-108.292,80.03-189.096,176.597-189.096 C253.842,52.861,278.836,96.412,283.971,112.911z"/></g></svg>',"img/icons/cake.svg":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="cake"><path d="M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm4.6 9.99l-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01zM18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9z"/></g></svg>',"img/icons/codepen-logo.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 500 500"><path d="M250 0C111.928 0 0 111.927 0 250c0 138.077 111.927 250 250 250 138.073 0 250-111.923 250-250C500 111.928 388.073 0 250 0zm0 458.943C134.79 458.943 41.06 365.21 41.06 250c0-115.207 93.73-208.94 208.94-208.94S458.94 134.793 458.94 250c0 115.21-93.73 208.943-208.94 208.943z"/><path d="M404.462 201.172c-.028-.195-.076-.382-.11-.577-.064-.374-.134-.748-.23-1.114-.058-.22-.14-.43-.207-.64-.106-.327-.212-.652-.342-.97-.09-.22-.196-.438-.297-.65-.14-.3-.285-.593-.452-.877-.122-.212-.25-.416-.377-.618-.18-.277-.362-.546-.562-.806-.146-.195-.3-.39-.454-.578-.21-.243-.43-.487-.663-.716-.174-.178-.346-.357-.528-.52-.245-.22-.497-.432-.753-.634-.198-.155-.395-.31-.602-.456-.078-.05-.146-.114-.22-.163L257.37 97.656c-4.465-2.976-10.275-2.976-14.74 0l-141.294 94.196c-.073.05-.142.114-.22.163-.207.146-.402.3-.597.456-.26.204-.513.416-.753.634-.187.164-.357.342-.533.52-.23.23-.45.474-.658.717-.16.19-.313.384-.46.578-.194.26-.382.53-.556.806-.134.203-.26.406-.382.618-.163.284-.31.577-.45.877-.103.21-.21.43-.298.65-.13.317-.236.642-.34.968-.07.21-.147.422-.21.642-.096.366-.16.74-.23 1.114-.032.195-.08.382-.106.577-.077.57-.122 1.147-.122 1.733V297.1c0 .585.044 1.162.122 1.74.025.188.074.382.106.568.07.374.134.748.23 1.114.063.22.14.432.21.643.104.324.21.65.34.975.09.222.195.433.297.645.143.3.29.592.45.885.123.204.25.406.383.61.174.276.362.545.557.806.146.203.3.39.46.577.207.243.426.488.657.716.175.177.346.356.533.52.24.22.492.43.752.634.194.155.39.31.597.454.077.05.146.115.22.163L242.63 402.35c2.232 1.487 4.803 2.236 7.372 2.236 2.566 0 5.135-.75 7.368-2.236l141.295-94.197c.074-.047.142-.112.22-.162.207-.145.403-.3.602-.454.256-.203.508-.414.752-.635.182-.163.353-.343.527-.52.232-.23.452-.474.664-.717.155-.187.31-.374.455-.577.2-.26.383-.53.562-.806.126-.204.255-.406.377-.61.167-.293.312-.585.452-.885.1-.212.206-.423.297-.645.13-.324.235-.65.342-.975.068-.21.15-.423.206-.643.1-.366.168-.74.233-1.114.033-.187.08-.38.11-.568.072-.578.118-1.155.118-1.74v-94.197c0-.585-.045-1.162-.118-1.73zm-141.176-67.64l104.088 69.388-46.493 31.103-57.594-38.527v-61.963zm-26.57 0v61.964l-57.593 38.527-46.497-31.103 104.09-69.387zm-114.726 94.24L155.228 250l-33.238 22.233V227.77zm114.725 138.7l-104.088-69.39 46.497-31.093 57.592 38.52v61.96zM250 281.43L203.014 250 250 218.574l46.986 31.428L250 281.432zm13.286 85.04v-61.963l57.595-38.52 46.494 31.093-104.088 69.388zm114.724-94.238L344.777 250l33.233-22.23v44.464z"/></svg>',"img/icons/copy.svg":'<svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><g><rect fill="none" width="24" height="24"/><path fill="#7d7d7d" d="M16,1H4C2.9,1,2,1.9,2,3v14h2V3h12V1z M19,5H8C6.9,5,6,5.9,6,7v14c0,1.1,0.9,2,2,2h11c1.1,0,2-0.9,2-2V7C21,5.9,20.1,5,19,5z M19,21H8V7h11V21z"/></g></g></svg>',"img/icons/copy2.svg":'<svg version="1.1" x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve"><g><g><rect fill="none" width="48" height="48"/><path fill="#7d7d7d" d="M32,2H8C5.8,2,4,3.8,4,6v28h4V6h24V2z M38,10H16c-2.2,0-4,1.8-4,4v28c0,2.2,1.8,4,4,4h22c2.2,0,4-1.8,4-4V14C42,11.8,40.2,10,38,10z M38,42H16V14h22V42z"/></g></g></svg>',"img/icons/facebook.svg":'<svg version="1.1" x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve"><g><g><g><path fill="#7d7d7d" d="M40,4H8C5.8,4,4,5.8,4,8l0,32c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V8C44,5.8,42.2,4,40,4z M38,8v6h-4c-1.1,0-2,0.9-2,2v4h6v6h-6v14h-6V26h-4v-6h4v-5c0-3.9,3.1-7,7-7H38z"/></g><g><rect fill="none" width="48" height="48"/></g></g></g></svg>',"img/icons/favorite.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path d="M0 0h24v24h-24z" fill="none"/> <path d="M12 21.35l-1.45-1.32c-5.15-4.67-8.55-7.75-8.55-11.53 0-3.08 2.42-5.5 5.5-5.5 1.74 0 3.41.81 4.5 2.09 1.09-1.28 2.76-2.09 4.5-2.09 3.08 0 5.5 2.42 5.5 5.5 0 3.78-3.4 6.86-8.55 11.54l-1.45 1.31z"/></svg>',"img/icons/github-icon.svg":'<svg height="1024" width="1024" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"> <path d="M512 0C229.252 0 0 229.25199999999995 0 512c0 226.251 146.688 418.126 350.155 485.813 25.593 4.686 34.937-11.125 34.937-24.626 0-12.188-0.469-52.562-0.718-95.314-128.708 23.46-161.707-31.541-172.469-60.373-5.525-14.809-30.407-60.249-52.398-72.263-17.988-9.828-43.26-33.237-0.917-33.735 40.434-0.476 69.348 37.308 78.471 52.75 45.938 77.749 119.876 55.627 148.999 42.5 4.654-32.999 17.902-55.627 32.501-68.373-113.657-12.939-233.22-56.875-233.22-253.063 0-55.94 19.968-101.561 52.658-137.404-5.22-12.999-22.844-65.095 5.063-135.563 0 0 42.937-13.749 140.811 52.501 40.811-11.406 84.594-17.031 128.124-17.22 43.499 0.188 87.314 5.874 128.188 17.28 97.689-66.311 140.686-52.501 140.686-52.501 28 70.532 10.375 122.564 5.124 135.499 32.811 35.844 52.626 81.468 52.626 137.404 0 196.686-119.751 240-233.813 252.686 18.439 15.876 34.748 47.001 34.748 94.748 0 68.437-0.686 123.627-0.686 140.501 0 13.625 9.312 29.561 35.25 24.562C877.436 929.998 1024 738.126 1024 512 1024 229.25199999999995 794.748 0 512 0z" /></svg>',"img/icons/github.svg":'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="8 11 33 28"><path fill="#333" d="M11.828,18.179c0,0-3.344,3.499-2.763,9.192 c0.581,5.694,4.186,10.392,16.208,10.392c12.021,0,15.045-6.275,15.116-11.436c0.071-5.159-2.253-7.46-3.344-8.243 c0,0,0.007-3.704-0.343-5.661c0,0-1.85-0.219-5.845,2.07c0,0-5.454-0.533-12.722,0.065c0,0-3.053-2.04-6.129-2.574 C12.006,11.984,11.496,15.196,11.828,18.179z"/><path fill="#E2B89F" d="M17.211,23.815h14.916c0,0,4.227-0.475,4.227,6.44 c0.034,6.086-11.139,5.693-11.139,5.693s-12.236,0.486-12.243-6.269C12.956,23.579,17.211,23.815,17.211,23.815z"/><g> <g> <path fill="#9C584F" d="M30.767,26.591c0.959,0,1.737,1.25,1.737,2.787 c0,1.54-0.778,2.788-1.737,2.788c-0.958,0-1.736-1.248-1.736-2.788C29.03,27.841,29.809,26.591,30.767,26.591z"/> <path fill="#FFFFFF" d="M30.767,32.666c-1.254,0-2.236-1.444-2.236-3.288c0-1.843,0.982-3.287,2.236-3.287 c1.255,0,2.237,1.444,2.237,3.287C33.004,31.222,32.021,32.666,30.767,32.666z M30.767,27.091c-0.585,0-1.236,0.939-1.236,2.287 c0,1.349,0.651,2.288,1.236,2.288s1.237-0.939,1.237-2.288C32.004,28.03,31.352,27.091,30.767,27.091z"/> </g></g><g> <g> <path fill="#9C584F" d="M18.767,26.591c0.959,0,1.737,1.25,1.737,2.787 c0,1.54-0.778,2.788-1.737,2.788c-0.958,0-1.736-1.248-1.736-2.788C17.03,27.841,17.809,26.591,18.767,26.591z"/> <path fill="#FFFFFF" d="M18.767,32.666c-1.254,0-2.236-1.444-2.236-3.288c0-1.843,0.982-3.287,2.236-3.287 c1.254,0,2.237,1.444,2.237,3.287C21.004,31.222,20.021,32.666,18.767,32.666z M18.767,27.091c-0.585,0-1.236,0.939-1.236,2.287 c0,1.349,0.651,2.288,1.236,2.288c0.585,0,1.237-0.939,1.237-2.288C20.004,28.03,19.352,27.091,18.767,27.091z"/> </g></g><path fill="#9C584F" d="M24.076,32.705c0,0,0.499-1.418,1.109-0.089 c0,0-0.457,0.297-0.285,0.996l1.428,0.546h-3.23l1.28-0.575C24.378,33.583,24.562,32.527,24.076,32.705z"/></svg>',"img/icons/hangout.svg":'<svg version="1.1" x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve"><g><g><path fill="#159F5C" d="M23,4C13.6,4,6,11.6,6,21s7.6,17,17,17h1v7c9.7-4.7,16-15,16-24C40,11.6,32.4,4,23,4z M22,22l-2,4h-3l2-4h-3v-6h6V22zM30,22l-2,4h-3l2-4h-3v-6h6V22z"/><rect x="0" fill="none" width="48" height="48"/></g></g></svg>',"img/icons/ic_access_time_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-440" fill="none" width="1400" height="3600"/> </g></g><g id="Labels"></g><g id="Icon"> <g> <g> <path fill-opacity="0.9" d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8 s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z"/> </g> <rect fill="none" width="24" height="24"/> <polygon fill-opacity="0.9" points="12.5,7 11,7 11,13 16.2,16.2 17,14.9 12.5,12.2 "/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_arrow_back_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-568" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <rect fill="none" width="24" height="24"/> <path d="M20,11H7.8l5.6-5.6L12,4l-8,8l8,8l1.4-1.4L7.8,13H20V11z"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_build_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path fill-rule="evenodd" clip-rule="evenodd" fill="none" d="M0 0h24v24H0z"/> <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>',"img/icons/ic_chevron_right_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-1336" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <polygon points="10,6 8.6,7.4 13.2,12 8.6,16.6 10,18 16,12 "/> <rect fill="none" width="24" height="24"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_close_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',"img/icons/ic_code_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path fill="none" d="M0 0h24v24H0V0z"/> <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>',"img/icons/ic_comment_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-1464" fill="none" width="1400" height="3600"/> </g></g><g id="Labels"></g><g id="Icon"> <g> <path d="M22,4c0-1.1-0.9-2-2-2H4C2.9,2,2,2.9,2,4v12c0,1.1,0.9,2,2,2h14l4,4L22,4z M18,14H6v-2h12V14z M18,11H6V9h12V11z M18,8H6 V6h12V8z"/> <rect x="0" fill="none" width="24" height="24"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_email_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path d="M20 4h-16c-1.1 0-1.99.9-1.99 2l-.01 12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm0 4l-8 5-8-5v-2l8 5 8-5v2z"/> <path d="M0 0h24v24h-24z" fill="none"/></svg>',"img/icons/ic_insert_drive_file_24px.svg":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24"><g> <path d="M6,2C4.9,2,4,2.9,4,4l0,16c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8l-6-6H6z M13,9V3.5L18.5,9H13z"/></g></svg>',"img/icons/ic_label_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-568" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <rect fill="none" width="24" height="24"/> <path d="M17.6,5.8C17.3,5.3,16.7,5,16,5L5,5C3.9,5,3,5.9,3,7v10c0,1.1,0.9,2,2,2l11,0c0.7,0,1.3-0.3,1.6-0.8L22,12L17.6,5.8z"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_launch_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-824" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <rect fill="none" width="24" height="24"/> <path d="M19,19H5V5h7V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-7h-2V19z M14,3v2h3.6l-9.8,9.8l1.4,1.4L19,6.4 V10h2V3H14z" /> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_menu_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-2232" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <rect fill="none" width="24" height="24"/> <path d="M3,18h18v-2H3V18z M3,13h18v-2H3V13z M3,6v2h18V6H3z"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_more_vert_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-2488" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <rect fill="none" width="24" height="24"/> <path d="M12,8c1.1,0,2-0.9,2-2s-0.9-2-2-2c-1.1,0-2,0.9-2,2S10.9,8,12,8z M12,10c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2 S13.1,10,12,10z M12,16c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S13.1,16,12,16z"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_ondemand_video_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path fill="none" d="M0 0h24v24H0V0z"/> <path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-6l-7 4V7z"/></svg>',"img/icons/ic_people_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-2616" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <g> <rect fill="none" width="24" height="24"/> </g> <path d="M16,11c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3C13,9.7,14.3,11,16,11z M8,11c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3 C6.3,5,5,6.3,5,8C5,9.7,6.3,11,8,11z M8,13c-2.3,0-7,1.2-7,3.5V19h14v-2.5C15,14.2,10.3,13,8,13z M16,13c-0.3,0-0.6,0-1,0.1 c1.2,0.8,2,2,2,3.4V19h6v-2.5C23,14.2,18.3,13,16,13z"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_person_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/> <path d="M0 0h24v24h-24z" fill="none"/></svg>',"img/icons/ic_phone_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path d="M0 0h24v24h-24z" fill="none"/> <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1v3.49c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>',"img/icons/ic_photo_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-2616" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <rect x="0" fill="none" width="24" height="24"/> <path d="M21,19V5c0-1.1-0.9-2-2-2H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14C20.1,21,21,20.1,21,19z M8.5,13.5l2.5,3l3.5-4.5l4.5,6 H5L8.5,13.5z"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_place_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path d="M12 2c-3.87 0-7 3.13-7 7 0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/> <path d="M0 0h24v24h-24z" fill="none"/></svg>',"img/icons/ic_play_arrow_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-2232" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <polygon points="8,5 8,19 19,12 " style="fill:#f3f3f3;" /> <rect fill="none" width="24" height="24"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',
"img/icons/ic_play_circle_fill_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/></svg>',"img/icons/ic_refresh_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-2616" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <path d="M17.6,6.4C16.2,4.9,14.2,4,12,4c-4.4,0-8,3.6-8,8s3.6,8,8,8c3.7,0,6.8-2.6,7.7-6h-2.1c-0.8,2.3-3,4-5.6,4 c-3.3,0-6-2.7-6-6s2.7-6,6-6c1.7,0,3.1,0.7,4.2,1.8L13,11h7V4L17.6,6.4z"/> <rect fill="none" width="24" height="24"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/ic_school_24px.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"/></svg>',"img/icons/ic_visibility_24px.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-1592" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><g id="Icon"> <g> <rect fill="none" width="24" height="24"/> <path d="M12,4.5C7,4.5,2.7,7.6,1,12c1.7,4.4,6,7.5,11,7.5c5,0,9.3-3.1,11-7.5C21.3,7.6,17,4.5,12,4.5z M12,17c-2.8,0-5-2.2-5-5 s2.2-5,5-5c2.8,0,5,2.2,5,5S14.8,17,12,17z M12,9c-1.7,0-3,1.3-3,3s1.3,3,3,3c1.7,0,3-1.3,3-3S13.7,9,12,9z"/> </g></g><g id="Grid" display="none"> <g display="inline"> </g></g></svg>',"img/icons/launch.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <path d="M0 0h24v24h-24z" fill="none"/> <path d="M19 19h-14v-14h7v-2h-7c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zm-5-16v2h3.59l-9.83 9.83 1.41 1.41 9.83-9.83v3.59h2v-7h-7z"/></svg>',"img/icons/mail.svg":'<svg version="1.1" x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve"><g><g><path fill="#7d7d7d" d="M40,8H8c-2.2,0-4,1.8-4,4l0,24c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V12C44,9.8,42.2,8,40,8z M40,16L24,26L8,16v-4l16,10l16-10V16z"/><rect fill="none" width="48" height="48"/></g></g></svg>',"img/icons/menu.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"> <path d="M0 0h18v18h-18z" fill="none"/> <path d="M2 13.5h14v-1.5h-14v1.5zm0-4h14v-1.5h-14v1.5zm0-5.5v1.5h14v-1.5h-14z"/></svg>',"img/icons/message.svg":'<svg version="1.1" x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve"><g><g><path fill="#7d7d7d" d="M40,4H8C5.8,4,4,5.8,4,8l0,36l8-8h28c2.2,0,4-1.8,4-4V8C44,5.8,42.2,4,40,4z M36,28H12v-4h24V28z M36,22H12v-4h24V22zM36,16H12v-4h24V16z"/><rect x="0" fill="none" width="48" height="48"/></g></g></svg>',"img/icons/more_vert.svg":'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"> <path d="M0 0h18v18h-18z" fill="none"/> <path d="M9 5.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm0 2c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"/></svg>',"img/icons/npm-logo.svg":'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="540px" height="210px" viewBox="0 0 18 7"><path fill="#CB3837" d="M0,0h18v6H9v1H5V6H0V0z M1,5h2V2h1v3h1V1H1V5z M6,1v5h2V5h2V1H6z M8,2h1v2H8V2z M11,1v4h2V2h1v3h1V2h1v3h1V1H11z"/><polygon fill="#FFFFFF" points="1,5 3,5 3,2 4,2 4,5 5,5 5,1 1,1 "/><path fill="#FFFFFF" d="M6,1v5h2V5h2V1H6z M9,4H8V2h1V4z"/><polygon fill="#FFFFFF" points="11,1 11,5 13,5 13,2 14,2 14,5 15,5 15,2 16,2 16,5 17,5 17,1 "/></svg>',"img/icons/octicon-repo.svg":'<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 48 48"><path d="M21,12h-3v3h3V12z M21,6h-3v3h3V6z M39,0C37.5,0,10.5,0,9,0S6,1.5,6,3s0,34.5,0,36s1.5,3,3,3s6,0,6,0v6l4.5-4.5L24,48v-6 c0,0,13.5,0,15,0s3-1.5,3-3s0-34.5,0-36S40.5,0,39,0z M39,37.5c0,0.75-0.703,1.5-1.5,1.5S24,39,24,39v-3h-9v3c0,0-3.703,0-4.5,0 S9,38.203,9,37.5S9,33,9,33h30C39,33,39,36.75,39,37.5z M39,30H15V3h24.047L39,30z M21,24h-3v3h3V24z M21,18h-3v3h3V18z"/></svg>',"img/icons/print.svg":'<svg version="1.1" x="0px" y="0px" width="24px"height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><g><g><path d="M19,8H5c-1.7,0-3,1.3-3,3v6h4v4h12v-4h4v-6C22,9.3,20.7,8,19,8z M16,19H8v-5h8V19z M19,12c-0.6,0-1-0.4-1-1s0.4-1,1-1c0.6,0,1,0.4,1,1S19.6,12,19,12z M18,3H6v4h12V3z" fill="#7d7d7d"/></g><rect fill="none" width="24" height="24"/></g></g></svg>',"img/icons/separator.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 4 6" enable-background="new 0 0 4 6" xml:space="preserve"><g> <polygon fill="#FFFFFF" points="3.719,3 0.968,0.25 0.281,0.938 2.344,3 0.281,5.062 0.968,5.75 "/></g></svg>',"img/icons/sets/communication-icons.svg":'<svg><defs><g id="business"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/></g><g id="call"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></g><g id="call-end"><path d="M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"/></g><g id="call-made"><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"/></g><g id="call-merge"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"/></g><g id="call-missed"><path d="M19.59 7L12 14.59 6.41 9H11V7H3v8h2v-4.59l7 7 9-9z"/></g><g id="call-received"><path d="M20 5.41L18.59 4 7 15.59V9H5v10h10v-2H8.41z"/></g><g id="call-split"><path d="M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z"/></g><g id="chat"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/></g><g id="clear-all"><path d="M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z"/></g><g id="comment"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></g><g id="contacts"><path d="M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z"/></g><g id="dialer-sip"><path d="M17 3h-1v5h1V3zm-2 2h-2V4h2V3h-3v3h2v1h-2v1h3V5zm3-2v5h1V6h2V3h-3zm2 2h-1V4h1v1zm0 10.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.01.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.27-.26.35-.65.24-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1z"/></g><g id="dialpad"><path d="M12 19c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></g><g id="dnd-on"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"/></g><g id="email"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></g><g id="forum"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"/></g><g id="import-export"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"/></g><g id="invert-colors-off"><path d="M20.65 20.87l-2.35-2.35-6.3-6.29-3.56-3.57-1.42-1.41L4.27 4.5 3 5.77l2.78 2.78c-2.55 3.14-2.36 7.76.56 10.69C7.9 20.8 9.95 21.58 12 21.58c1.79 0 3.57-.59 5.03-1.78l2.7 2.7L21 21.23l-.35-.36zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59c0-1.32.43-2.57 1.21-3.6L12 14.77v4.82zM12 5.1v4.58l7.25 7.26c1.37-2.96.84-6.57-1.6-9.01L12 2.27l-3.7 3.7 1.41 1.41L12 5.1z"/></g><g id="invert-colors-on"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></g><g id="live-help"><path d="M19 2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 16h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 11.9 13 12.5 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></g><g id="location-off"><path d="M12 6.5c1.38 0 2.5 1.12 2.5 2.5 0 .74-.33 1.39-.83 1.85l3.63 3.63c.98-1.86 1.7-3.8 1.7-5.48 0-3.87-3.13-7-7-7-1.98 0-3.76.83-5.04 2.15l3.19 3.19c.46-.52 1.11-.84 1.85-.84zm4.37 9.6l-4.63-4.63-.11-.11L3.27 3 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21 20 19.73l-3.63-3.63z"/></g><g id="location-on"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></g><g id="message"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></g><g id="messenger"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></g><g id="no-sim"><path d="M18.99 5c0-1.1-.89-2-1.99-2h-7L7.66 5.34 19 16.68 18.99 5zM3.65 3.88L2.38 5.15 5 7.77V19c0 1.1.9 2 2 2h10.01c.35 0 .67-.1.96-.26l1.88 1.88 1.27-1.27L3.65 3.88z"/></g><g id="phone"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></g><g id="portable-wifi-off"><path d="M17.56 14.24c.28-.69.44-1.45.44-2.24 0-3.31-2.69-6-6-6-.79 0-1.55.16-2.24.44l1.62 1.62c.2-.03.41-.06.62-.06 2.21 0 4 1.79 4 4 0 .21-.02.42-.05.63l1.61 1.61zM12 4c4.42 0 8 3.58 8 8 0 1.35-.35 2.62-.95 3.74l1.47 1.47C21.46 15.69 22 13.91 22 12c0-5.52-4.48-10-10-10-1.91 0-3.69.55-5.21 1.47l1.46 1.46C9.37 4.34 10.65 4 12 4zM3.27 2.5L2 3.77l2.1 2.1C2.79 7.57 2 9.69 2 12c0 3.7 2.01 6.92 4.99 8.65l1-1.73C5.61 17.53 4 14.96 4 12c0-1.76.57-3.38 1.53-4.69l1.43 1.44C6.36 9.68 6 10.8 6 12c0 2.22 1.21 4.15 3 5.19l1-1.74c-1.19-.7-2-1.97-2-3.45 0-.65.17-1.25.44-1.79l1.58 1.58L10 12c0 1.1.9 2 2 2l.21-.02.01.01 7.51 7.51L21 20.23 4.27 3.5l-1-1z"/></g><g id="quick-contacts-dialer"><path d="M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2z"/></g><g id="quick-contacts-mail"><path d="M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z"/></g><g id="ring-volume"><path d="M23.71 16.67C20.66 13.78 16.54 12 12 12 7.46 12 3.34 13.78.29 16.67c-.18.18-.29.43-.29.71 0 .28.11.53.29.71l2.48 2.48c.18.18.43.29.71.29.27 0 .52-.11.7-.28.79-.74 1.69-1.36 2.66-1.85.33-.16.56-.5.56-.9v-3.1c1.45-.48 3-.73 4.6-.73s3.15.25 4.6.72v3.1c0 .39.23.74.56.9.98.49 1.87 1.12 2.66 1.85.18.18.43.28.7.28.28 0 .53-.11.71-.29l2.48-2.48c.18-.18.29-.43.29-.71 0-.27-.11-.52-.29-.7zM21.16 6.26l-1.41-1.41-3.56 3.55 1.41 1.41s3.45-3.52 3.56-3.55zM13 2h-2v5h2V2zM6.4 9.81L7.81 8.4 4.26 4.84 2.84 6.26c.11.03 3.56 3.55 3.56 3.55z"/></g><g id="stay-current-landscape"><path d="M1.01 7L1 17c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2zM19 7v10H5V7h14z"/></g><g id="stay-current-portrait"><path d="M17 1.01L7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"/></g><g id="stay-primary-landscape"><path d="M1.01 7L1 17c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2zM19 7v10H5V7h14z"/></g><g id="stay-primary-portrait"><path d="M17 1.01L7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"/></g><g id="swap-calls"><path d="M18 4l-4 4h3v7c0 1.1-.9 2-2 2s-2-.9-2-2V8c0-2.21-1.79-4-4-4S5 5.79 5 8v7H2l4 4 4-4H7V8c0-1.1.9-2 2-2s2 .9 2 2v7c0 2.21 1.79 4 4 4s4-1.79 4-4V8h3l-4-4z"/></g><g id="textsms"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"/></g><g id="voicemail"><path d="M18.5 6C15.46 6 13 8.46 13 11.5c0 1.33.47 2.55 1.26 3.5H9.74c.79-.95 1.26-2.17 1.26-3.5C11 8.46 8.54 6 5.5 6S0 8.46 0 11.5 2.46 17 5.5 17h13c3.04 0 5.5-2.46 5.5-5.5S21.54 6 18.5 6zm-13 9C3.57 15 2 13.43 2 11.5S3.57 8 5.5 8 9 9.57 9 11.5 7.43 15 5.5 15zm13 0c-1.93 0-3.5-1.57-3.5-3.5S16.57 8 18.5 8 22 9.57 22 11.5 20.43 15 18.5 15z"/></g><g id="vpn-key"><path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></g></defs></svg>',"img/icons/sets/core-icons.svg":'<svg><defs><g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"/></g><g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"/></g><g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"/></g><g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></g><g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"/></g><g id="account-child"><circle cx="12" cy="13.49" r="1.5"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 2.5c1.24 0 2.25 1.01 2.25 2.25S13.24 9 12 9 9.75 7.99 9.75 6.75 10.76 4.5 12 4.5zm5 10.56v2.5c-.45.41-.96.77-1.5 1.05v-.68c0-.34-.17-.65-.46-.92-.65-.62-1.89-1.02-3.04-1.02-.96 0-1.96.28-2.65.73l-.17.12-.21.17c.78.47 1.63.72 2.54.82l1.33.15c.37.04.66.36.66.75 0 .29-.16.53-.4.66-.28.15-.64.09-.95.09-.35 0-.69-.01-1.03-.05-.5-.06-.99-.17-1.46-.33-.49-.16-.97-.38-1.42-.64-.22-.13-.44-.27-.65-.43l-.31-.24c-.04-.02-.28-.18-.28-.23v-4.28c0-1.58 2.63-2.78 5-2.78s5 1.2 5 2.78v1.78z"/></g><g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></g><g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></g><g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></g><g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></g><g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></g><g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"/></g><g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></g><g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"/></g><g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z"/></g><g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"/></g><g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"/></g><g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"/></g><g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/></g><g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"/></g><g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></g><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"/></g><g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z"/></g><g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"/></g><g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"/></g></defs></svg>',"img/icons/sets/device-icons.svg":'<svg><defs><g id="access-alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></g><g id="access-alarms"><path d="M22 5.7l-4.6-3.9-1.3 1.5 4.6 3.9L22 5.7zM7.9 3.4L6.6 1.9 2 5.7l1.3 1.5 4.6-3.8zM12.5 8H11v6l4.7 2.9.8-1.2-4-2.4V8zM12 4c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z"/></g><g id="access-time"><path fill-opacity=".9" d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zM12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></g><g id="add-alarm"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"/></g><g id="airplanemode-off"><path d="M13 9V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5v3.68l7.83 7.83L21 16v-2l-8-5zM3 5.27l4.99 4.99L2 14v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-3.73L18.73 21 20 19.73 4.27 4 3 5.27z"/></g><g id="airplanemode-on"><path d="M10.18 9"/><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/></g><g id="battery-20"><path d="M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"/><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"/></g><g id="battery-30"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V15h10V5.33z"/><path d="M7 15v5.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V15H7z"/></g><g id="battery-50"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V13h10V5.33z"/><path d="M7 13v7.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V13H7z"/></g><g id="battery-60"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"/><path d="M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"/></g><g id="battery-80"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V9h10V5.33z"/><path d="M7 9v11.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V9H7z"/></g><g id="battery-90"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V8h10V5.33z"/><path d="M7 8v12.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V8H7z"/></g><g id="battery-alert"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM13 18h-2v-2h2v2zm0-4h-2V9h2v5z"/></g><g id="battery-charging-20"><path d="M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"/><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"/></g><g id="battery-charging-30"><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v9.17h2L13 7v5.5h2l-1.07 2H17V5.33C17 4.6 16.4 4 15.67 4z"/><path d="M11 20v-5.5H7v6.17C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V14.5h-3.07L11 20z"/></g><g id="battery-charging-50"><path d="M14.47 13.5L11 20v-5.5H9l.53-1H7v7.17C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V13.5h-2.53z"/><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v8.17h2.53L13 7v5.5h2l-.53 1H17V5.33C17 4.6 16.4 4 15.67 4z"/></g><g id="battery-charging-60"><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"/><path d="M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"/></g><g id="battery-charging-80"><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V9h4.93L13 7v2h4V5.33C17 4.6 16.4 4 15.67 4z"/><path d="M13 12.5h2L11 20v-5.5H9L11.93 9H7v11.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V9h-4v3.5z"/></g><g id="battery-charging-90"><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V8h5.47L13 7v1h4V5.33C17 4.6 16.4 4 15.67 4z"/><path d="M13 12.5h2L11 20v-5.5H9L12.47 8H7v12.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V8h-4v4.5z"/></g><g id="battery-charging-full"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"/></g><g id="battery-full"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></g><g id="battery-std"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></g><g id="battery-unknown"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zm-2.72 13.95h-1.9v-1.9h1.9v1.9zm1.35-5.26s-.38.42-.67.71c-.48.48-.83 1.15-.83 1.6h-1.6c0-.83.46-1.52.93-2l.93-.94c.27-.27.44-.65.44-1.06 0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5H9c0-1.66 1.34-3 3-3s3 1.34 3 3c0 .66-.27 1.26-.7 1.69z"/></g><g id="bluetooth"><path d="M17.71 7.71L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88z"/></g><g id="bluetooth-connected"><path d="M7 12l-2-2-2 2 2 2 2-2zm10.71-4.29L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88zM19 10l-2 2 2 2 2-2-2-2z"/></g><g id="bluetooth-disabled"><path d="M13 5.83l1.88 1.88-1.6 1.6 1.41 1.41 3.02-3.02L12 2h-1v5.03l2 2v-3.2zM5.41 4L4 5.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l4.29-4.29 2.3 2.29L20 18.59 5.41 4zM13 18.17v-3.76l1.88 1.88L13 18.17z"/></g><g id="bluetooth-searching"><path d="M14.24 12.01l2.32 2.32c.28-.72.44-1.51.44-2.33 0-.82-.16-1.59-.43-2.31l-2.33 2.32zm5.29-5.3l-1.26 1.26c.63 1.21.98 2.57.98 4.02s-.36 2.82-.98 4.02l1.2 1.2c.97-1.54 1.54-3.36 1.54-5.31-.01-1.89-.55-3.67-1.48-5.19zm-3.82 1L10 2H9v7.59L4.41 5 3 6.41 8.59 12 3 17.59 4.41 19 9 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM11 5.83l1.88 1.88L11 9.59V5.83zm1.88 10.46L11 18.17v-3.76l1.88 1.88z"/></g><g id="brightness-auto"><path d="M10.85 12.65h2.3L12 9l-1.15 3.65zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM14.3 16l-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9z"/></g><g id="brightness-high"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/></g><g id="brightness-low"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></g><g id="brightness-medium"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"/></g><g id="data-usage"><path d="M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.48 2.54l2.6 1.53c.56-1.24.88-2.62.88-4.07 0-5.18-3.95-9.45-9-9.95zM12 19c-3.87 0-7-3.13-7-7 0-3.53 2.61-6.43 6-6.92V2.05c-5.06.5-9 4.76-9 9.95 0 5.52 4.47 10 9.99 10 3.31 0 6.24-1.61 8.06-4.09l-2.6-1.53C16.17 17.98 14.21 19 12 19z"/></g><g id="developer-mode"><path d="M7 5h10v2h2V3c0-1.1-.9-1.99-2-1.99L7 1c-1.1 0-2 .9-2 2v4h2V5zm8.41 11.59L20 12l-4.59-4.59L14 8.83 17.17 12 14 15.17l1.41 1.42zM10 15.17L6.83 12 10 8.83 8.59 7.41 4 12l4.59 4.59L10 15.17zM17 19H7v-2H5v4c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2v-4h-2v2z"/></g><g id="devices"><path d="M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"/></g><g id="dvr"><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12zm-2-9H8v2h11V8zm0 4H8v2h11v-2zM7 8H5v2h2V8zm0 4H5v2h2v-2z"/></g><g id="gps-fixed"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></g><g id="gps-not-fixed"><path d="M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></g><g id="gps-off"><path d="M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06c-1.13.12-2.19.46-3.16.97l1.5 1.5C10.16 5.19 11.06 5 12 5c3.87 0 7 3.13 7 7 0 .94-.19 1.84-.52 2.65l1.5 1.5c.5-.96.84-2.02.97-3.15H23v-2h-2.06zM3 4.27l2.04 2.04C3.97 7.62 3.25 9.23 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c1.77-.2 3.38-.91 4.69-1.98L19.73 21 21 19.73 4.27 3 3 4.27zm13.27 13.27C15.09 18.45 13.61 19 12 19c-3.87 0-7-3.13-7-7 0-1.61.55-3.09 1.46-4.27l9.81 9.81z"/></g><g id="location-disabled"><path d="M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06c-1.13.12-2.19.46-3.16.97l1.5 1.5C10.16 5.19 11.06 5 12 5c3.87 0 7 3.13 7 7 0 .94-.19 1.84-.52 2.65l1.5 1.5c.5-.96.84-2.02.97-3.15H23v-2h-2.06zM3 4.27l2.04 2.04C3.97 7.62 3.25 9.23 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c1.77-.2 3.38-.91 4.69-1.98L19.73 21 21 19.73 4.27 3 3 4.27zm13.27 13.27C15.09 18.45 13.61 19 12 19c-3.87 0-7-3.13-7-7 0-1.61.55-3.09 1.46-4.27l9.81 9.81z"/></g><g id="location-searching"><path d="M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></g><g id="multitrack-audio"><path d="M7 18h2V6H7v12zm4 4h2V2h-2v20zm-8-8h2v-4H3v4zm12 4h2V6h-2v12zm4-8v4h2v-4h-2z"/></g><g id="network-cell"><path fill-opacity=".3" d="M2 22h20V2z"/><path d="M17 7L2 22h15z"/></g><g id="network-wifi"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"/><path d="M3.53 10.95l8.46 10.54.01.01.01-.01 8.46-10.54C20.04 10.62 16.81 8 12 8c-4.81 0-8.04 2.62-8.47 2.95z"/></g><g id="nfc"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H4V4h16v16zM18 6h-5c-1.1 0-2 .9-2 2v2.28c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V8h3v8H8V8h2V6H6v12h12V6z"/></g><g id="now-wallpaper"><path d="M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2V4zm6 9l-4 5h12l-3-4-2.03 2.71L10 13zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5zM20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2zm0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2v7zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4v-7z"/></g><g id="now-widgets"><path d="M13 13v8h8v-8h-8zM3 21h8v-8H3v8zM3 3v8h8V3H3zm13.66-1.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65z"/></g><g id="screen-lock-landscape"><path d="M21 5H3c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-2 12H5V7h14v10zm-9-1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1c0-1.11-.9-2-2-2-1.11 0-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1z"/></g><g id="screen-lock-portrait"><path d="M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1c0-1.11-.9-2-2-2-1.11 0-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"/></g><g id="screen-lock-rotation"><path d="M23.25 12.77l-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75c-.59-.59-1.54-.59-2.12 0L2.75 7.11c-.59.59-.59 1.54 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48C5.2 18.94 2.86 15.76 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5C21 1.12 19.88 0 18.5 0S16 1.12 16 2.5V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"/></g><g id="screen-rotation"><path d="M16.48 2.52c3.27 1.55 5.61 4.72 5.97 8.48h1.5C23.44 4.84 18.29 0 12 0l-.66.03 3.81 3.81 1.33-1.32zm-6.25-.77c-.59-.59-1.54-.59-2.12 0L1.75 8.11c-.59.59-.59 1.54 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12L10.23 1.75zm4.6 19.44L2.81 9.17l6.36-6.36 12.02 12.02-6.36 6.36zm-7.31.29C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32z"/></g><g id="sd-storage"><path d="M18 2h-8L4.02 8 4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 6h-2V4h2v4zm3 0h-2V4h2v4zm3 0h-2V4h2v4z"/></g><g id="settings-system-daydream"><path d="M9 16h6.5c1.38 0 2.5-1.12 2.5-2.5S16.88 11 15.5 11h-.05c-.24-1.69-1.69-3-3.45-3-1.4 0-2.6.83-3.16 2.02h-.16C7.17 10.18 6 11.45 6 13c0 1.66 1.34 3 3 3zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"/></g><g id="signal-cellular-0-bar"><path fill-opacity=".3" d="M2 22h20V2z"/></g><g id="signal-cellular-1-bar"><path fill-opacity=".3" d="M2 22h20V2z"/><path d="M12 12L2 22h10z"/></g><g id="signal-cellular-2-bar"><path fill-opacity=".3" d="M2 22h20V2z"/><path d="M14 10L2 22h12z"/></g><g id="signal-cellular-3-bar"><path fill-opacity=".3" d="M2 22h20V2z"/><path d="M17 7L2 22h15z"/></g><g id="signal-cellular-4-bar"><path d="M2 22h20V2z"/></g><g id="signal-cellular-connected-no-internet-0-bar"><path fill-opacity=".3" d="M22 8V2L2 22h16V8z"/><path d="M20 22h2v-2h-2v2zm0-12v8h2v-8h-2z"/></g><g id="signal-cellular-connected-no-internet-1-bar"><path fill-opacity=".3" d="M22 8V2L2 22h16V8z"/><path d="M20 10v8h2v-8h-2zm-8 12V12L2 22h10zm8 0h2v-2h-2v2z"/></g><g id="signal-cellular-connected-no-internet-2-bar"><path fill-opacity=".3" d="M22 8V2L2 22h16V8z"/><path d="M14 22V10L2 22h12zm6-12v8h2v-8h-2zm0 12h2v-2h-2v2z"/></g><g id="signal-cellular-connected-no-internet-3-bar"><path fill-opacity=".3" d="M22 8V2L2 22h16V8z"/><path d="M17 22V7L2 22h15zm3-12v8h2v-8h-2zm0 12h2v-2h-2v2z"/></g><g id="signal-cellular-connected-no-internet-4-bar"><path d="M20 18h2v-8h-2v8zm0 4h2v-2h-2v2zM2 22h16V8h4V2L2 22z"/></g><g id="signal-cellular-no-sim"><path d="M18.99 5c0-1.1-.89-2-1.99-2h-7L7.66 5.34 19 16.68 18.99 5zM3.65 3.88L2.38 5.15 5 7.77V19c0 1.1.9 2 2 2h10.01c.35 0 .67-.1.96-.26l1.88 1.88 1.27-1.27L3.65 3.88z"/></g><g id="signal-cellular-null"><path d="M20 6.83V20H6.83L20 6.83M22 2L2 22h20V2z"/></g><g id="signal-cellular-off"><path d="M21 1l-8.59 8.59L21 18.18V1zM4.77 4.5L3.5 5.77l6.36 6.36L1 21h17.73l2 2L22 21.73 4.77 4.5z"/></g><g id="signal-wifi-0-bar"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"/></g><g id="signal-wifi-1-bar"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"/><path d="M6.67 14.86L12 21.49v.01l.01-.01 5.33-6.63C17.06 14.65 15.03 13 12 13s-5.06 1.65-5.33 1.86z"/></g><g id="signal-wifi-2-bar"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"/><path d="M4.79 12.52l7.2 8.98H12l.01-.01 7.2-8.98C18.85 12.24 16.1 10 12 10s-6.85 2.24-7.21 2.52z"/></g><g id="signal-wifi-3-bar"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"/><path d="M3.53 10.95l8.46 10.54.01.01.01-.01 8.46-10.54C20.04 10.62 16.81 8 12 8c-4.81 0-8.04 2.62-8.47 2.95z"/></g><g id="signal-wifi-4-bar"><path d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"/></g><g id="signal-wifi-off"><path d="M23.64 7c-.45-.34-4.93-4-11.64-4-1.5 0-2.89.19-4.15.48L18.18 13.8 23.64 7zm-6.6 8.22L3.27 1.44 2 2.72l2.05 2.06C1.91 5.76.59 6.82.36 7l11.63 14.49.01.01.01-.01 3.9-4.86 3.32 3.32 1.27-1.27-3.46-3.46z"/></g><g id="storage"><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></g><g id="usb"><path d="M15 7v4h1v2h-3V5h2l-3-4-3 4h2v8H8v-2.07c.7-.37 1.2-1.08 1.2-1.93 0-1.21-.99-2.2-2.2-2.2-1.21 0-2.2.99-2.2 2.2 0 .85.5 1.56 1.2 1.93V13c0 1.11.89 2 2 2h3v3.05c-.71.37-1.2 1.1-1.2 1.95 0 1.22.99 2.2 2.2 2.2 1.21 0 2.2-.98 2.2-2.2 0-.85-.49-1.58-1.2-1.95V15h3c1.11 0 2-.89 2-2v-2h1V7h-4z"/></g><g id="wifi-lock"><path d="M20.5 9.5c.28 0 .55.04.81.08L24 6c-3.34-2.51-7.5-4-12-4S3.34 3.49 0 6l12 16 3.5-4.67V14.5c0-2.76 2.24-5 5-5zM23 16v-1.5c0-1.38-1.12-2.5-2.5-2.5S18 13.12 18 14.5V16c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1zm-1 0h-3v-1.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V16z"/></g><g id="wifi-tethering"><path d="M12 11c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 2c0-3.31-2.69-6-6-6s-6 2.69-6 6c0 2.22 1.21 4.15 3 5.19l1-1.74c-1.19-.7-2-1.97-2-3.45 0-2.21 1.79-4 4-4s4 1.79 4 4c0 1.48-.81 2.75-2 3.45l1 1.74c1.79-1.04 3-2.97 3-5.19zM12 3C6.48 3 2 7.48 2 13c0 3.7 2.01 6.92 4.99 8.65l1-1.73C5.61 18.53 4 15.96 4 13c0-4.42 3.58-8 8-8s8 3.58 8 8c0 2.96-1.61 5.53-4 6.92l1 1.73c2.99-1.73 5-4.95 5-8.65 0-5.52-4.48-10-10-10z"/></g></defs></svg>',
"img/icons/sets/social-icons.svg":'<svg><defs><g id="cake"><path d="M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm4.6 9.99l-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01zM18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9z"/></g><g id="domain"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/></g><g id="group"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></g><g id="group-add"><path d="M8 10H5V7H3v3H0v2h3v3h2v-3h3v-2zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 5 18 5c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86s-.34 2.04-.9 2.86c.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 5 13 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16c.83.73 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 13c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z"/></g><g id="location-city"><path d="M15 11V5l-3-3-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z"/></g><g id="mood"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/></g><g id="notifications"><path d="M11.5 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6.5-6v-5.5c0-3.07-2.13-5.64-5-6.32V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5v.68c-2.87.68-5 3.25-5 6.32V16l-2 2v1h17v-1l-2-2z"/></g><g id="notifications-none"><path d="M11.5 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6.5-6v-5.5c0-3.07-2.13-5.64-5-6.32V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5v.68c-2.87.68-5 3.25-5 6.32V16l-2 2v1h17v-1l-2-2zm-2 1H7v-6.5C7 8.01 9.01 6 11.5 6S16 8.01 16 10.5V17z"/></g><g id="notifications-off"><path d="M11.5 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zM18 10.5c0-3.07-2.13-5.64-5-6.32V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5v.68c-.51.12-.99.32-1.45.56L18 14.18V10.5zm-.27 8.5l2 2L21 19.73 4.27 3 3 4.27l2.92 2.92C5.34 8.16 5 9.29 5 10.5V16l-2 2v1h14.73z"/></g><g id="notifications-on"><path d="M6.58 3.58L5.15 2.15C2.76 3.97 1.18 6.8 1.03 10h2c.15-2.65 1.51-4.97 3.55-6.42zM19.97 10h2c-.15-3.2-1.73-6.03-4.13-7.85l-1.43 1.43c2.05 1.45 3.41 3.77 3.56 6.42zm-1.97.5c0-3.07-2.13-5.64-5-6.32V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5v.68c-2.87.68-5 3.25-5 6.32V16l-2 2v1h17v-1l-2-2v-5.5zM11.5 22c.14 0 .27-.01.4-.04.65-.13 1.19-.58 1.44-1.18.1-.24.16-.5.16-.78h-4c0 1.1.9 2 2 2z"/></g><g id="notifications-paused"><path d="M11.5 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6.5-6v-5.5c0-3.07-2.13-5.64-5-6.32V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5v.68c-2.87.68-5 3.25-5 6.32V16l-2 2v1h17v-1l-2-2zm-4-6.2l-2.8 3.4H14V15H9v-1.8l2.8-3.4H9V8h5v1.8z"/></g><g id="pages"><path d="M3 5v6h5L7 7l4 1V3H5c-1.1 0-2 .9-2 2zm5 8H3v6c0 1.1.9 2 2 2h6v-5l-4 1 1-4zm9 4l-4-1v5h6c1.1 0 2-.9 2-2v-6h-5l1 4zm2-14h-6v5l4-1-1 4h5V5c0-1.1-.9-2-2-2z"/></g><g id="party-mode"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 3c1.63 0 3.06.79 3.98 2H12c-1.66 0-3 1.34-3 3 0 .35.07.69.18 1H7.1c-.06-.32-.1-.66-.1-1 0-2.76 2.24-5 5-5zm0 10c-1.63 0-3.06-.79-3.98-2H12c1.66 0 3-1.34 3-3 0-.35-.07-.69-.18-1h2.08c.07.32.1.66.1 1 0 2.76-2.24 5-5 5z"/></g><g id="people"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></g><g id="people-outline"><path d="M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"/></g><g id="person"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></g><g id="person-add"><path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></g><g id="person-outline"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"/></g><g id="plus-one"><path d="M10 8H8v4H4v2h4v4h2v-4h4v-2h-4zm4.5-1.92V7.9l2.5-.5V18h2V5z"/></g><g id="poll"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></g><g id="public"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></g><g id="school"><path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"/></g><g id="share"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></g><g id="whatshot"><path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"/></g></defs></svg>',"img/icons/share-arrow.svg":'<svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><g><path fill="#7d7d7d" d="M21,11l-7-7v4C7,9,4,14,3,19c2.5-3.5,6-5.1,11-5.1V18L21,11z"/><rect fill="none" width="24" height="24"/></g></g></svg>',"img/icons/tabs-arrow.svg":'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="Header"> <g> <rect x="-618" y="-1208" fill="none" width="1400" height="3600"/> </g></g><g id="Label"></g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/><g id="Grid" display="none"></g></svg>',"img/icons/twitter.svg":'<svg version="1.1" x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve"><g><g><g><path fill="#7d7d7d" d="M40,4H8C5.8,4,4,5.8,4,8l0,32c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V8C44,5.8,42.2,4,40,4z M35.4,18.7c-0.1,9.2-6,15.6-14.8,16c-3.6,0.2-6.3-1-8.6-2.5c2.7,0.4,6-0.6,7.8-2.2c-2.6-0.3-4.2-1.6-4.9-3.8c0.8,0.1,1.6,0.1,2.3-0.1c-2.4-0.8-4.1-2.3-4.2-5.3c0.7,0.3,1.4,0.6,2.3,0.6c-1.8-1-3.1-4.7-1.6-7.2c2.6,2.9,5.8,5.3,11,5.6c-1.3-5.6,6.1-8.6,9.2-4.9c1.3-0.3,2.4-0.8,3.4-1.3c-0.4,1.3-1.2,2.2-2.2,2.9c1.1-0.1,2.1-0.4,2.9-0.8C37.5,16.9,36.4,17.9,35.4,18.7z"/></g><g><rect fill="none" width="48" height="48"/></g></g></g></svg>',"img/icons/upload.svg":'<svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><g><rect x="-618" y="-2232" fill="none" width="1400" height="3600"/></g></g><g><g><rect fill="none" width="24" height="24"/><path fill="#7d7d7d" d="M19.4,10c-0.7-3.4-3.7-6-7.4-6C9.1,4,6.6,5.6,5.4,8C2.3,8.4,0,10.9,0,14c0,3.3,2.7,6,6,6h13c2.8,0,5-2.2,5-5C24,12.4,21.9,10.2,19.4,10z M14,13v4h-4v-4H7l5-5l5,5H14z"/></g></g></svg>',"icons/avatar-icons.svg":'<svg><defs> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-1" x="128"> <path fill="#FF8A80" d="M0 0h128v128H0z"/> <path fill="#FFE0B2" d="M36.3 94.8c6.4 7.3 16.2 12.1 27.3 12.4 10.7-.3 20.3-4.7 26.7-11.6l.2.1c-17-13.3-12.9-23.4-8.5-28.6 1.3-1.2 2.8-2.5 4.4-3.9l13.1-11c1.5-1.2 2.6-3 2.9-5.1.6-4.4-2.5-8.4-6.9-9.1-1.5-.2-3 0-4.3.6-.3-1.3-.4-2.7-1.6-3.5-1.4-.9-2.8-1.7-4.2-2.5-7.1-3.9-14.9-6.6-23-7.9-5.4-.9-11-1.2-16.1.7-3.3 1.2-6.1 3.2-8.7 5.6-1.3 1.2-2.5 2.4-3.7 3.7l-1.8 1.9c-.3.3-.5.6-.8.8-.1.1-.2 0-.4.2.1.2.1.5.1.6-1-.3-2.1-.4-3.2-.2-4.4.6-7.5 4.7-6.9 9.1.3 2.1 1.3 3.8 2.8 5.1l11 9.3c1.8 1.5 3.3 3.8 4.6 5.7 1.5 2.3 2.8 4.9 3.5 7.6 1.7 6.8-.8 13.4-5.4 18.4-.5.6-1.1 1-1.4 1.7-.2.6-.4 1.3-.6 2-.4 1.5-.5 3.1-.3 4.6.4 3.1 1.8 6.1 4.1 8.2 3.3 3 8 4 12.4 4.5 5.2.6 10.5.7 15.7.2 4.5-.4 9.1-1.2 13-3.4 5.6-3.1 9.6-8.9 10.5-15.2M76.4 46c.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6-.9 0-1.6-.7-1.6-1.6-.1-.9.7-1.6 1.6-1.6zm-25.7 0c.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6-.9 0-1.6-.7-1.6-1.6-.1-.9.7-1.6 1.6-1.6z"/> <path fill="#E0F7FA" d="M105.3 106.1c-.9-1.3-1.3-1.9-1.3-1.9l-.2-.3c-.6-.9-1.2-1.7-1.9-2.4-3.2-3.5-7.3-5.4-11.4-5.7 0 0 .1 0 .1.1l-.2-.1c-6.4 6.9-16 11.3-26.7 11.6-11.2-.3-21.1-5.1-27.5-12.6-.1.2-.2.4-.2.5-3.1.9-6 2.7-8.4 5.4l-.2.2s-.5.6-1.5 1.7c-.9 1.1-2.2 2.6-3.7 4.5-3.1 3.9-7.2 9.5-11.7 16.6-.9 1.4-1.7 2.8-2.6 4.3h109.6c-3.4-7.1-6.5-12.8-8.9-16.9-1.5-2.2-2.6-3.8-3.3-5z"/> <circle fill="#444" cx="76.3" cy="47.5" r="2"/> <circle fill="#444" cx="50.7" cy="47.6" r="2"/> <path fill="#444" d="M48.1 27.4c4.5 5.9 15.5 12.1 42.4 8.4-2.2-6.9-6.8-12.6-12.6-16.4C95.1 20.9 92 10 92 10c-1.4 5.5-11.1 4.4-11.1 4.4H62.1c-1.7-.1-3.4 0-5.2.3-12.8 1.8-22.6 11.1-25.7 22.9 10.6-1.9 15.3-7.6 16.9-10.2z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-10" x="256" y="256"> <path fill="#FFCC80" d="M41.6 123.8s0 .1-.1.1l.3-.4c-.1.2-.1.2-.2.3z"/> <path fill="#8C9EFF" d="M0 0h128v128H0z"/> <path fill="#C2C2C2" d="M34.8 79.5c-2.5-3.4-5.9-6.4-6.9-10.3v-.1l-.6-.5c-.3-1.2.6-2 .5-3l-2.4-1h-6.9s0 17 17.4 17.3c-.9-.9-.7-1.8-1.1-2.4z"/> <path fill="#CFD8DC" d="M21.9 64.2l-.1-.3c0-.1 0-.2-.1-.4v-1l.1-.3c.1-.1.1-.2.1-.3.1-.1.1-.2.1-.2.2-.4.1-.8-.2-1.1-.4-.4-1-.4-1.3 0l-.2.2-.2.2c-.1.1-.2.2-.3.4l-.3.6-.3.6c-.1.2-.2.4-.2.7 0 .2-.1.5-.1.8v.5h3c.2-.2.1-.3 0-.4z"/> <path fill="#eee" d="M116.5 65.2c.1.1.2.1.2.2 0-.1-.1-.2-.2-.2zm8.2 6.1l.6.3c-.3-.1-.4-.2-.6-.3zm1.7 1l.6.3c-.2 0-.4-.1-.6-.3zm-3.4-2.1l.5.3c-.2 0-.4-.2-.5-.3zm-8-6.5zm-.1 64.1c-12-17.2-7.6-52-3.1-67.6v-.1c-3.5-4.2-7.8-11.7-10.2-18.7-1.7-5-4-8.8-6.4-11.8l-1.6-2-10.7 11.8c-1.5 2.1-3.3 1.8-4.1-.6l-7.1-17.3c-.3-.9-.3-1.9 0-2.7.3-1.1-.1-2.1.7-3l-2-.1c-1.3 0-2.5.1-3.7.3-1.7-.3-3.4-.5-5.1-.5-11.9 0-21.9 8.1-24.8 19.2-.5 1.8-.7 3.7-.8 5.6-1.2 3.6-4.2 7.7-11.5 8.4 1.3.4 2.2 1.9 2 3.6l-.5 2.8c-.3 2-1.2 2.4-2.2.9l1.6 8.6.2.9c.1 1.1.3 2.2.6 3.4 1 4 3.2 8.2 7.8 10.9.3.6 1 1.3 2 2.1 8.2 6.7 36 20.7 27.8 46.1h51.3c0-.1-.1-.1-.2-.2zM34.5 59.3c.5 0 1 .4 1 1 0 .5-.4 1-1 1-.5 0-1-.4-1-1s.4-1 1-1zm7.4 3.9c.5 0 1 .4 1 1 0 .5-.4 1-1 1-.5 0-1-.4-1-1 0-.5.5-1 1-1zm-1-8.5c-.5 0-1-.4-1-1 0-.5.4-1 1-1 .5 0 1 .4 1 1s-.5 1-1 1zm3.9-10.9c-.9 0-1.6-.7-1.6-1.6 0-.9.7-1.6 1.6-1.6.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6zm73.3 22.7c.1.1.2.2.4.3-.2-.1-.3-.2-.4-.3zm3.2 2.6l.5.3-.5-.3zm-1.6-1.3l.4.3c-.1 0-.3-.1-.4-.3z"/> <path fill="#C2C2C2" d="M114.9 127.8l.2.2H128V73.2l-1-.6-.6-.3-1.2-.7-.6-.3-1.2-.7-.5-.3-1.2-.8-.5-.3-1.2-.9-.4-.3-1.2-1c-.1-.1-.2-.2-.4-.3l-1.3-1.2c-.1-.1-.2-.1-.2-.2l-1.5-1.5c-1.5-1.6-3-3.3-4.4-5.1-4.6 15.4-13 52.7 4.3 69.1z"/> <path fill="#646464" d="M26 55.1l.4-2.8c.2-1.8-.6-3.2-2-3.6-.3-.1-.7-.2-1.1-.1-2 .1-2.7 1.9-1.6 3.8l1.8 3.3c.1.2.2.3.3.4 1 1.3 1.9 1 2.2-1z"/> <circle fill="#444" cx="44.8" cy="42.2" r="2"/> <circle fill="#CFD8DC" cx="34.5" cy="60.3" r="1"/> <circle fill="#CFD8DC" cx="40.9" cy="53.7" r="1"/> <circle fill="#CFD8DC" cx="41.9" cy="64.2" r="1"/> <path fill="#646464" d="M70.7 18.8c-.3.8-.3 1.8 0 2.7l8.1 19.3c.8 2.5 2.6 2.7 4.1.6l12.3-11.8 1.4-1.3c.3-.4.5-.9.6-1.3.4-1.2.3-2.4-.1-3.6-1.1-4.3-5.6-8.9-11.2-10.3-5.6-1.4-10.9-.2-13.6 2.7-.8.8-1.3 1.8-1.6 3z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-11" y="128"> <path fill="#FFCC80" d="M41.6 123.8s0 .1-.1.1l.3-.4c-.1.2-.1.2-.2.3z"/> <path fill="#FFFF8D" d="M0 0h128v128H0z"/> <path fill="#F4B400" d="M110.3 91.4l-.5-.5c.1.2.3.4.5.5zm-4.4-4.5l.4.5c-.1-.2-.3-.4-.4-.5zm9.8 9.5c.2.2.4.4.7.6-.3-.2-.5-.4-.7-.6zM104.3 85c.2.2.3.4.5.5-.2-.1-.4-.3-.5-.5zm3.7 4.1zm16.9 14l.9.6c-.3-.3-.6-.4-.9-.6zm-28.5-29l.1.2c-.1 0-.1-.1-.1-.2zm15.2 18.6c.2.2.4.4.7.6l-.7-.6zm10 8.2l.9.6-.9-.6zm-18.8-17.7l.4.5c-.1-.1-.3-.3-.4-.5zm-1.4-1.7c.1.1.1.2.2.2-.1 0-.1-.1-.2-.2zm12.2 13l.7.6c-.2-.1-.5-.4-.7-.6zm-15-16.8c.1.1.1.2.2.2l-.2-.2zm-1.2-1.8l.2.3c0-.1-.1-.2-.2-.3zm28.4 27.7l-.9-.6-2.4-1.5-.9-.6c-1-.7-2.1-1.4-3.1-2.2l-2.2-1.8c-.2-.2-.4-.4-.7-.6-.5-.4-1-.8-1.4-1.2l-.7-.6-1.3-1.2-.7-.6c-.5-.4-.9-.9-1.3-1.3l-.5-.5-1.8-1.8c-.6-.6-1.1-1.2-1.6-1.8l-.4-.5-1.2-1.3c-.2-.2-.3-.4-.5-.5l-1.1-1.3-.4-.5-1.2-1.5c-.1-.1-.1-.2-.2-.2-.9-1.2-1.8-2.4-2.6-3.6-.1-.1-.1-.2-.2-.2l-1-1.5-.2-.3c-.3-.5-.6-1-1-1.5l-.1-.2c-1.1-1.8-2-3.5-2.9-5.2-3.1-6-4.8-11.4-5.7-15.9-.2-.9-.3-1.7-.4-2.6L85 13l-8 10.2c-3.7-2.6-8.2-4.2-13.1-4.2s-9.4 1.5-13.1 4.1L42.7 13l-1.8 29-7.7 71.8h.2c-.1 1-.2 2-.2 3 0 4 .8 7.7 2.1 11.2H128v-23.1c-.7-.4-1.5-.8-2.2-1.3zM55 38.4c-.9 0-1.6-.7-1.6-1.6 0-.9.7-1.6 1.6-1.6.9 0 1.6.7 1.6 1.6 0 .8-.7 1.6-1.6 1.6zm17.9 0c-.9 0-1.6-.7-1.6-1.6 0-.9.7-1.6 1.6-1.6.9 0 1.6.7 1.6 1.6 0 .8-.7 1.6-1.6 1.6z"/> <circle fill="#444" cx="72.9" cy="36.7" r="2"/> <circle fill="#444" cx="55" cy="36.7" r="2"/> <path fill="#444" d="M61.6 39.5c-.5 1-.1 1.7 1 1.7h4.6c1.1 0 1.6-.8 1-1.7l-2.3-4c-.5-1-1.4-1-2 0l-2.3 4z"/> <path fill="#FF5722" d="M92.5 102.7c8.3 11.3 23.6 14.4 35.5 7.8v-5.6l-2.2-1.3-.9-.6-2.4-1.5-.9-.6c-1-.7-2.1-1.4-3.1-2.2l-2.2-1.8c-.2-.2-.4-.4-.7-.6-.5-.4-1-.8-1.4-1.2l-.7-.6-1.3-1.2-.7-.6c-.5-.4-.9-.9-1.3-1.3l-.5-.5-1.8-1.8c-.6-.6-1.1-1.2-1.6-1.8l-.4-.5-1.2-1.3c-.2-.2-.3-.4-.5-.5l-1.1-1.3-.4-.5-1.2-1.5c-.1-.1-.1-.2-.2-.2-.9-1.2-1.8-2.4-2.6-3.6-.1-.1-.1-.2-.2-.2l-1-1.5-.2-.3c-.3-.5-.6-1-1-1.5l-.1-.2c-1.1-1.8-2-3.5-2.9-5.2-7.7 9.4-8.4 23.4-.8 33.7z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-12" x="128" y="128"> <path fill="#B9F6CA" d="M0 0h128v128H0z"/> <path fill="#444" d="M50.4 75.7c-1.6-1.6-3.2-2.9-4.7-4-.9-.6-1-1.7-1.7-2.2-1.8-1-3.2-5.9-5.3-3.4l-.5.8-.4-.9c-1.3-1.2-1-.4-1.3-2.3-.5-4.2 1.2-7.2 5.1-7.8 1-.1 2-.1 2.9.2 9.5-1.8 13.7-7.4 15.2-10 4 5.7 14.3 11.4 38.3 7.8 2.8-4.7 4.5-10.2 4.5-16C102.4 20.8 88.6 7 71.6 7c-6.7 0-12.8 2.1-17.9 5.7L27.9 31C16.3 36.6 8.3 48.5 8.3 62.2c0 19.1 15.5 34.6 34.6 34.6 4.6 0 9-.9 13-2.5.2-8.4-1.4-14.5-5.5-18.6zm-5.9-21.6z"/> <path fill="#8D6E63" d="M73.7 122c6.1.5 13.4-.3 22-3.5-.1-.7-.3-1.4-.5-2.1-.3-1.3-3.8-21.4-4-28.1-.1-7.3.8-11.9 2-14.7h8.7l-2.5-10.1c-.2-2.4-.4-4.7-.7-6.6-.2-1.8-.3-2.3-.8-3.9-24 3.6-34.2-3.7-38.2-9.4-1.4 2.5-5.7 8.8-15.3 10.5-.9-.3-1.9-.3-2.9-.2-3.9.6-6.7 4.5-6.1 8.8.3 2 1.2 3.6 2.5 4.8.2.1 1.5.6 3.3 1.7.7.4 1.6.9 2.4 1.6 1.5 1.1 3.1 2.4 4.7 4 4 4.1 7.6 10.2 7.4 18.5-.1 4.9-1.6 10.6-5.1 17.2.1 0 7.3 10.2 23.1 11.5zM44.5 54.1z"/> <path fill="#FFCC80" d="M41.6 123.8s.1-.2.2-.3c-.1.2-.1.2-.2.3z"/> <circle fill="#444" cx="83.5" cy="63.1" r="2"/> <path fill="#0097A7" d="M73.7 122c-15.9-1.3-23-11.5-23-11.5-2.1 4-5.1 8.4-8.9 13.1l-.3.4c-.5.6-1.1 1.3-1.7 2-.5.6-1 1.3-1.6 2.1h59.7c-.7-3.2-1.5-6.4-2.1-9.5-8.7 3.1-16 3.9-22.1 3.4z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-13" x="256"> <path fill="#448AFF" d="M0 0h128v128H0z"/> <g fill="#00BFA5"> <path d="M73 18.7c-4.8 0-9.7.8-14 2.3-.1.1-.2.2-.4.3l-7.3 4.6c-.6.4-1.4.4-2 .1-.3-.2-.6-.4-.8-.7l-.7-1.1c-.6-1-.3-2.2.6-2.8l7.3-4.6c.4-.2.8-.3 1.2-.3-5.5-3-23.7-10.7-33.7 10.7-11.8 25.4 11 50.2-14.4 62.6 0 0 26.2 13.7 40.9-24.8 3.7 3.2 8.8 5.8 16 7.4-.6-5.6.8-9.8-2.1-12.8-1.3-1.4-2.7-1.5-4-2.4-.7-.5-1.4-.9-2-1.3-1.5-.9-2.6-1.3-2.8-1.4-1.1-1-1.9-2.4-2.1-4.1-.5-3.6-2.2-6.9 1.1-7.4.8-.1 1.6-.1 2.4.2 8-1.5 11.6-6.7 12.8-8.9 3.4 4.8 11.7 9.8 31.9 6.8.3 1.1.6 1.2.8 2.4l.5-1.3c-.1-13-13.2-23.5-29.2-23.5zM56.1 43.2zm5.3 46.5s6 8.6 19.4 9.7c5.1.4 11.3-.3 18.6-2.9-.1-.6-.3-1.2-.4-1.7-.2-1.1-3.2-18-3.4-23.6-.2-6.2.6-10 1.6-12.4h7.3l-2.1-8.5c-.1-2-.4-3.9-.6-5.6 0-.3-.1-.7-.2-1-.2-1.1-.4-2.3-.8-3.4-20.2 3-28.5-2-31.9-6.8-1.2 2.1-4.8 7.4-12.8 8.9-.8-.2-1.6-.3-2.4-.2-3.3.5-5.6 3.8-5.1 7.4.2 1.7 1 3.1 2.1 4.1.2.1 1.3.5 2.8 1.4.6.4 1.3.8 2 1.3 1.3.9 2.6 2 4 3.4 2.9 3 5.6 7.2 6.1 12.8.5 4.5-.6 10.2-4.2 17.1zm27.5-41.2c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3-1.3-.6-1.3-1.3.6-1.3 1.3-1.3zm-32.8-5.3c.1-.1 0-.1 0 0zm-2.4 57.7l.2-.2-.2.2z"/> <circle cx="88.9" cy="49.8" r="2"/> <path d="M80.8 99.3c-13.3-1.1-19.4-9.7-19.4-9.7-1.8 3.4-4.3 7.1-7.5 11l-.3.3c-.4.5-.9 1.1-1.4 1.7-.7.9-1.6 2.1-2.8 3.7-2.3 3.2-5.4 7.8-8.8 13.5-1.4 2.4-2.9 5.1-4.4 8 0 0 0 .1-.1.1h71.3c-.6-1.6-1.3-3.2-1.7-4.8-2.2-8.6-4.6-17.9-6.5-26.8-7.2 2.8-13.3 3.5-18.4 3zM55.7 16.7l-7.3 4.6c-1 .6-1.3 1.9-.6 2.8l.7 1.1c.2.3.5.6.8.7.6.3 1.4.3 2-.1l7.3-4.6.4-.3c.7-.7.8-1.7.3-2.5l-.7-1.1c-.4-.6-1-.9-1.6-1-.5 0-1 .1-1.3.4z"/> </g> <path fill="#444" d="M73 18.7c-4.8 0-9.7.8-14 2.3-.1.1-.2.2-.4.3l-7.3 4.6c-.6.4-1.4.4-2 .1-.3-.2-.6-.4-.8-.7l-.7-1.1c-.6-1-.3-2.2.6-2.8l7.3-4.6c.4-.2.8-.3 1.2-.3-5.5-3-23.7-10.7-33.7 10.7-11.8 25.4 11 50.2-14.4 62.6 0 0 26.2 13.7 40.9-24.8 3.7 3.2 8.8 5.8 16 7.4-.6-5.6.8-9.8-2.1-12.8-1.3-1.4-2.7-1.5-4-2.4-.7-.5-1.4-.9-2-1.3-1.5-.9-2.6-1.3-2.8-1.4-1.1-1-1.9-2.4-2.1-4.1-.5-3.6-2.2-6.9 1.1-7.4.8-.1 1.6-.1 2.4.2 8-1.5 11.6-6.7 12.8-8.9 3.4 4.8 11.7 9.8 31.9 6.8.3 1.1.6 1.2.8 2.4l.5-1.3c-.1-13-13.2-23.5-29.2-23.5zM56.1 43.2z"/> <path fill="#FFE0B2" d="M61.4 89.7s6 8.6 19.4 9.7c5.1.4 11.3-.3 18.6-2.9-.1-.6-.3-1.2-.4-1.7-.2-1.1-3.2-18-3.4-23.6-.2-6.2.6-10 1.6-12.4h7.3l-2.1-8.5c-.1-2-.4-3.9-.6-5.6 0-.3-.1-.7-.2-1-.2-1.1-.4-2.3-.8-3.4-20.2 3-28.5-2-31.9-6.8-1.2 2.1-4.8 7.4-12.8 8.9-.8-.2-1.6-.3-2.4-.2-3.3.5-5.6 3.8-5.1 7.4.2 1.7 1 3.1 2.1 4.1.2.1 1.3.5 2.8 1.4.6.4 1.3.8 2 1.3 1.3.9 2.6 2 4 3.4 2.9 3 5.6 7.2 6.1 12.8.5 4.5-.6 10.2-4.2 17.1zm27.5-41.2c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3-1.3-.6-1.3-1.3.6-1.3 1.3-1.3zm-32.8-5.3c.1-.1 0-.1 0 0z"/> <path fill="#FFCC80" d="M53.7 100.9l.2-.2-.2.2z"/> <circle fill="#444" cx="88.9" cy="49.8" r="2"/> <path fill="#FF5722" d="M80.8 99.3c-13.3-1.1-19.4-9.7-19.4-9.7-1.8 3.4-4.3 7.1-7.5 11l-.3.3c-.4.5-.9 1.1-1.4 1.7-.7.9-1.6 2.1-2.8 3.7-2.3 3.2-5.4 7.8-8.8 13.5-1.4 2.4-2.9 5.1-4.4 8 0 0 0 .1-.1.1h71.3c-.6-1.6-1.3-3.2-1.7-4.8-2.2-8.6-4.6-17.9-6.5-26.8-7.2 2.8-13.3 3.5-18.4 3z"/> <path fill="#00BFA5" d="M55.7 16.7l-7.3 4.6c-1 .6-1.3 1.9-.6 2.8l.7 1.1c.2.3.5.6.8.7.6.3 1.4.3 2-.1l7.3-4.6.4-.3c.7-.7.8-1.7.3-2.5l-.7-1.1c-.4-.6-1-.9-1.6-1-.5 0-1 .1-1.3.4z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-14" x="256" y="128"> <path fill="#B388FF" d="M0 0h128v128H0z"/> <path fill="#1C3AA9" d="M70.5 128h12.4c-5.1-15.8-6.6-23.9-7.2-28.4-1.9 8.8-4 19.3-5.2 28.4z"/> <path d="M92.9 32.8l-.2.1c.1 0 .2 0 .2-.1zm-1.2.5l-.7.1.7-.1zm.6-.2l-.3.1.3-.1zm-52 .3c-.2 0-.5 0-.7-.1.3 0 .5.1.7.1zm-.9-.2l-.5-.1.5.1zm-.7-.2c-.2-.1-.4-.2-.5-.3.1.1.3.2.5.3z" fill="none"/> <path fill="#2A56C6" d="M82.9 90.8v.2-.2z"/> <path fill="#FFE0B2" d="M31.2 47.2zM45.8 93c5.8 5.5 13.6 9.1 22.3 9.3 2.8-.1 5.4-.5 8-1.2l.8-3.8c4.3-19.3 9.7-37.4 15-52.9h6.9L94 36.2c-.2-1.2-.4-2.5-.7-3.6l-.4.3-.2.1-.4.2-.3.1-.3.1-.7.1H40.3c-.2 0-.5 0-.7-.1-.1 0-.1 0-.2-.1l-.5-.1-.2-.1c-.2-.1-.4-.2-.5-.3 0 0-.1 0-.1-.1-.1.2-.1.4-.1.7-1-.3-2-.4-3-.3-4.1.6-6.9 4.7-6.3 9.1.3 2 1.2 3.8 2.6 5 .3.1 1.6.7 3.4 1.7.8.4 1.6 1 2.5 1.6 1.5 1.1 3.2 2.5 4.9 4.1 0 0 16.3 12.3 3.4 38 .1.2.2.3.3.4zm34.1-51.9c.8 0 1.5.7 1.5 1.6 0 .9-.7 1.6-1.5 1.6s-1.5-.7-1.5-1.6.6-1.6 1.5-1.6z"/> <path fill="#2A56C6" d="M68.1 102.3c-8.7-.2-16.5-3.8-22.3-9.3-.1-.1-.2-.2-.4-.3-3-.2-7.6.2-10.8.6-4.6.6-9.6 1.3-15 2.4-3.6.7-8.1 1.9-19.7 5.3v27h71.4c1.3-9.1 2.9-18.1 4.7-26.9-2.5.7-5.1 1.1-7.9 1.2z"/> <path fill="#6D4C41" d="M61.8 9.8c-7.3 1.1-13.6 5.1-17.9 10.8h43.7C81.5 12.7 71.9 8.3 61.8 9.8z"/> <path fill="#E65100" d="M38.7 33l.2.1c.2.1.3.1.5.1.1 0 .1 0 .2.1l.7.1H91c.2 0 .5 0 .7-.1l.3-.1.3-.1c.1 0 .3-.1.4-.2l.2-.1.4-.3c1-.7 1.6-1.9 1.6-3.2v-4.8c0-2.2-1.8-4-4-4H40.4c-2.2 0-4 1.8-4 4v4.8c0 1.4.7 2.6 1.8 3.3 0 0 .1 0 .1.1s.2.2.4.3z"/> <ellipse fill="#444" cx="79.9" cy="42.7" rx="2" ry="2.2"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-15" y="256"> <path fill="#FF80AB" d="M0 0h128v128H0z"/> <path fill="#5D4037" d="M87.3 11.7c-7.6 0-14.1 4.9-16.4 11.7-2.8-1.6-5.9-2.7-9.1-3.1-13.9-2.1-26.9 7.1-31.1 21.1 5 .8 9.5 3.1 13.4 3.1 1.4-.6 3-.9 4.6-.9 1.1 0 2.2.2 3.3.5 10-1.3 15.2-5.2 17.9-9 .3.5.6 1 1 1.6v.1c2.1 3.1 6.6 7.7 14.7 9.2.9-.3 1.9-.4 3-.2 1.5.2 2.8-1.1 3.8-.1 7-2.2 12.2-8.8 12.2-16.5 0-9.7-7.8-17.5-17.3-17.5z"/> <path d="M70.9 36.6c-.4-.6-.8-1.2-1-1.6.2.5.5 1 1 1.6z" fill="none"/> <path fill="#5D4037" d="M85.6 45.9z"/> <path fill="#FFCC80" d="M48.6 63.8c5.6 0 10.1-4.5 10.1-10.1s-4.5-10.1-10.1-10.1-10.1 4.5-10.1 10.1c.1 5.5 4.6 10.1 10.1 10.1zm-1.7-10.5c0 .9-.7 1.6-1.6 1.6-.9 0-1.6-.7-1.6-1.6 0-.9.7-1.6 1.6-1.6.9-.1 1.6.7 1.6 1.6zm38.7-7.4z"/> <path fill="#F9A825" d="M35.6 117.3c0 2.5 2.1 4.6 4.6 4.6s4.6-2.1 4.6-4.6c0-1.7-.9-3.2-2.3-4-.8-.2-1.8-.3-2.7-.6-2.3.3-4.2 2.2-4.2 4.6z"/> <circle fill="#F9A825" cx="64.3" cy="117.1" r="4.6"/> <path fill="#F9A825" d="M83.4 117.3c0 2.5 2.1 4.6 4.6 4.6 1.5 0 2.8-.7 3.7-1.8l-.7-.9-.6-.8c-.6-.7-1.3-1.5-1.8-2.1l-.3-.4c-.4-.5-.8-.9-1.2-1.5-.3-.4-.6-.8-.9-1.3-1.7.8-2.8 2.4-2.8 4.2z"/> <path fill="#FFEE58" d="M91.6 119.8c-.8 1-2.1 1.7-3.5 1.7-2.4 0-4.4-2-4.4-4.4 0-1.8 1-3.3 2.5-4-3-3.9-5.3-7.5-7.2-11 .2.1-7.3 10.6-23.7 12-3.8.3-8 .1-12.8-.8 1.3.8 2.2 2.2 2.2 3.8 0 2.4-2 4.4-4.4 4.4s-4.4-2-4.4-4.4c0-2.3 1.8-4.2 4-4.4-2.4-.6-4.8-1.3-7.4-2.2-1.2 5.7-2.6 11.6-4.1 17.5h69c-1.4-2-2.6-3.8-3.7-5.3m-29.4-1.2c-2.4 0-4.4-2-4.4-4.4s2-4.4 4.4-4.4 4.4 2 4.4 4.4c0 2.4-2 4.4-4.4 4.4z"/> <path fill="#FFCC80" d="M92.4 45.6c-1-1-2.4-1.7-3.8-1.9-1-.2-2-.1-3 .2-8.1-1.5-12.6-6.1-14.7-9.2-.5-.7-.8-1.2-1.1-1.7-2.7 3.8-7.9 7.7-17.9 9l.9.3-9.4.4.6-.3c-3.9 0-8.3-.4-13.4-1.1-.5 1.7-.9 3.5-1.2 5.3-.2 1.8-.5 3.8-.6 6l-.3 2-2.3 9.4h9c1.2 3 2.1 7.7 1.9 15.3-.2 6.9-3.9 27.7-4.2 29-.1.7-.3 1.4-.5 2.1 2.6.9 5 2 7.3 2.5l2.7.5c4.8.9 9.2 1.4 13 1.1 16.4-1.3 24-12 24-12-9.8-18.4-4.6-30.7 2.1-37.5 1.6-1.7 3.3-3 4.9-4.1.9-.6 1.7-1.2 2.5-1.6 1.8-1.1 3.2-1.6 3.4-1.7 1.3-1.2 2.3-3 2.6-5 .3-2.6-.7-5.3-2.5-7zm-32.9 2.7c.5 1 .8 2 1 3.1l-1-3.1z"/> <path fill="#DB4437" d="M36.6 54.7c.5 6.2 5.7 11.1 12 11.1 6.7 0 12.1-5.4 12.1-12.1 0-5.5-3.7-10.2-8.8-11.6-1-.3-2.1-.5-3.3-.5-1.6 0-3.2.3-4.6.9-4.1 1.7-7.1 5.6-7.4 10.2h-7.7l-.1.9-.3 1.1h8.1zm12-11.1c5.6 0 10.1 4.5 10.1 10.1s-4.5 10.1-10.1 10.1-10.1-4.5-10.1-10.1c.1-5.6 4.6-10.1 10.1-10.1z"/> <circle fill="#444" cx="45.3" cy="53.3" r="2"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-16" x="128" y="256"> <path fill="#B388FF" d="M0 0h128v128H0z"/> <path fill="#444" d="M58.4 24c4.2 5.9 23.9 10.2 38.9 4.6-4.2-14-17.1-23.2-31.1-21.1-11.7 1.8-20.8 11.2-23.7 22.9 7 3.2 14.5-3.8 15.9-6.4z"/> <path fill="#689F38" d="M72.7 101.3C56.3 100 48.8 89.4 48.8 89.4c-2.2 4.2-5.2 8.7-9.2 13.5l-.3.4-1.7 2c-.9 1.1-2 2.6-3.4 4.5-2.8 3.9-6.6 9.5-10.8 16.6l-.8 1.4h80.1c-2.5-9.8-5.1-20.3-7.3-30.2-8.9 3.4-16.5 4.3-22.7 3.7z"/> <path fill="#FFCC80" d="M101.8 51.3l-2.6-10.4c-.2-2.5-.5-4.9-.7-6.9-.2-1.9-.6-3.6-1.2-5.3-24.8 3.7-35-2.5-39.1-8.4-1.5 2.6-5.8 8.4-15.6 10.2-.1.2-.1.5-.1.7-.9-.3-1.9-.4-3-.2-4.1.6-6.9 4.7-6.3 9.1.3 2 1.2 3.8 2.6 5 .3.1 1.6.7 3.4 1.7.8.4 1.6 1 2.5 1.6 1.5 1.1 3.2 2.5 4.9 4.1 6.6 6.8 12.1 18.6 2.4 37 0 0 7.4 10.6 23.8 11.9 6.3.5 13.8-.3 22.8-3.6l-.5-2.1c-.3-1.4-4-22.1-4.2-29-.2-7.6.7-12.3 1.9-15.3h9zM81.1 40.5c0-.9.7-1.6 1.6-1.6.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6-.9.1-1.6-.7-1.6-1.6zm-41.7 62.8s0 .1-.1.1l.3-.4c0 .1-.1.2-.2.3z"/> <circle fill="#444" cx="82.7" cy="40.5" r="2"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-2"> <path fill="#B9F6CA" d="M0 0h128v128H0z"/> <path fill="#FFCC80" d="M70.1 122.5l.6-.1c6.1-.8 12-2.4 17.7-4.8 1.2-.5 2.4-1.1 3.2-2.1 1.3-1.7-.1-5.6-.5-7.7-.7-3.8-1.3-7.7-1.9-11.5-.7-4.5-1.5-9.1-1.6-13.7-.2-7.6.7-12.3 1.9-15.3h9l-2.6-10.4c-.2-2.4-.4-4.8-.7-6.8-.2-1.9-.6-3.6-1.2-5.3-14.9 2.2-24.5.9-30.7-1.8l-23.1 4.5-.7.1h-.7c-.4-.1-.9-.2-1.2-.4-.4 0-.9 0-1.4.1-4.1.6-6.9 4.7-6.3 9.1.3 2 1.2 3.8 2.6 5 .3.1 1.6.7 3.4 1.7.8.4 1.6 1 2.5 1.6 1.5 1.1 3.2 2.5 4.9 4.1 5.8 5.9 8.4 13.8 7.4 22-.6 4.7-2.2 9.4-4.4 13.6-.5 1-1 1.6-1.1 2.8-.1 1.1-.1 2.3.1 3.4.4 2.3 1.5 4.4 3 6.2 2.6 3.1 6.4 5 10.4 5.8 3.8.4 7.6.3 11.4-.1zm9.5-67.6c.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6s-1.6-.7-1.6-1.6c-.1-.8.7-1.6 1.6-1.6zM128 97.7c-3.3 1.9-6.6 3.7-9.9 5.3-3.2 1.5-6.3 2.9-9.6 4.2-.9.4-2.1.5-2.9 1.1-1.1.8-1.9 2.5-2.3 3.7-.6 1.6-.6 3.4.3 4.8.8 1.2 2.1 2 3.5 2.6 5.9 2.9 12.2 5.1 18.6 6.5 1.4.3 2.3 1.8 2.4.1V97.9c-.1.1-.1-.1-.1-.2z"/> <path d="M38.9 47.4zm.7 0z" fill="none"/> <path fill="#444" d="M94.2 44.9c-.8-2.6-1.8-5-3.2-7.2l-7.2 1.4-20.4 4c6.3 2.7 15.9 4 30.8 1.8z"/> <path fill="#E65100" d="M38.9 48.4h.7c.2 0 .5 0 .7-.1l23.1-4.5 20.4-4 23.3-4.5c1.9-.4 3.2-2 2.9-3.6-.3-1.6-2.1-2.6-4.1-2.3l-19.6 3.8-1.3-6.8C83 15.5 70 8.7 55.9 11.5c-14 2.7-23.7 13.9-21.6 24.9h.1l1.7 9v.7c.2.8.7 1.4 1.4 1.9.5.1 1 .3 1.4.4z"/> <circle fill="#444" cx="79.6" cy="56.5" r="2"/> <path fill="#689F38" d="M128 128v-1.8L106.3 108l-.4.2-2.9 1.3c-3 1.3-6 2.6-9.2 3.8l-1.4.5c-9 3.3-16.5 4.1-22.8 3.6-16.4-1.3-23.8-11.9-23.8-11.9-2.2 4.2-5.2 8.7-9.2 13.5l-.3.4-1.7 2c-.9 1.1-2 2.6-3.4 4.5-.4.6-.9 1.3-1.4 2l98.2.1z"/> <path fill="#FFCC80" d="M36.3 119.3s.1-.2.2-.3c-.1.1-.2.2-.2.3z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-3" x="384"> <path fill="#80D8FF" d="M0 0h128v128H0z"/> <path fill="#5D4037" d="M53.7 68.3c.9-.1 1.7-.3 2-.9.1-.2.2-.4.2-.6.2-1-.2-2-.5-3-1.2-3.2-2-6.4-2.2-9.8-.3-3.9.4-7.8 1-11.6l12.7-8.1c.8-.5 1.8-1.5 2.7-1.7.9-.3 2.4.6 3.3.8 1.3.4 2.6.6 4 .9 5.4.9 10.9.7 16.2-.6 1.3-.3 2.7-1.1 4-1.3-.3-2.1-1.5-4.3-2.5-6.1-1-1.9-2.2-3.7-3.6-5.3-2.7-3.2-6-5.8-9.8-7.5-3.3-1.5-6.8-2.4-10.4-2.5 0 0-50.8-8.1-42.4 56.4l12.8.5 8.7.3c.9-.1 2.5.2 3.8.1z"/> <path d="M59.5 25.7l-.3-.4c0 .2.1.3.3.4zm-1-1.2c-.2-.2-.3-.4-.4-.6.1.2.2.4.4.6zm.4.6l-.3-.4.3.4zm1.1 1.2l-.4-.4c.2.1.3.3.4.4zM46.3 56.2zm.5.4l.3.3-.3-.3zm-.2-.2l.2.2-.2-.2zm-.2-.2l.1.1-.1-.1zm14.3-29.3l-.4-.4c.1.1.2.3.4.4zm8.6 4.7l-1-.3c.3 0 .6.2 1 .3zm1.3.3c-.4-.1-.8-.2-1.1-.3.3.1.7.2 1.1.3zm-23.4 25l.4.4c-.2-.1-.3-.3-.4-.4zm27-24.2l-.9-.2c.3.1.6.2.9.2zm-12.8-5.2l-.5-.4c.1.1.3.2.5.4zm6.7 3.7c-.3-.1-.6-.2-.9-.4.2.1.6.2.9.4zm-5.9-3.1l-.6-.5.6.5zm3.7 2.2c-1.4-.6-2.6-1.3-3.6-2.1 1 .7 2.2 1.4 3.6 2.1zm1.1.4l-.9-.4c.2.2.5.3.9.4zm20.1 2.7h-.8.8zm-3.2 0h1.4-1.4zm-3.9 0l1.9.1c-.6 0-1.1 0-1.7-.1H80zm2 0h1.6H82zm6.1-.1c.3 0 .7 0 1-.1h-.2c-.2.1-.5.1-.8.1zm6.2-.6l-.7.1c1.2-.1 2.4-.3 3.6-.5l-2.2.3c-.2.1-.5.1-.7.1zm-3.4.4c-.3 0-.6 0-.8.1.9-.1 1.9-.2 2.9-.3l-.8.1c-.5 0-.9 0-1.3.1zM51.1 61.9c.2.3.4.6.5 1-.2-.4-.3-.7-.5-1zm-3.5-4.6c.8.8 1.8 1.9 2.8 3.5-1-1.5-2-2.7-2.8-3.5zm2.9 3.6l.6.9c-.3-.3-.5-.6-.6-.9zm1.2 2.1l.6 1.1c-.3-.4-.4-.8-.6-1.1zm26.5-29.8l-.9-.1c-.2 0-.3 0-.5-.1l-.9-.1h-.2c1.3.2 2.6.3 4 .4-.3 0-.6 0-.9-.1-.2.1-.4.1-.6 0zm-3.8-.4l1.1.2-.9-.1c-.1-.1-.2-.1-.2-.1zm-3.7-.8c.7.2 1.5.4 2.3.5l-.9-.2-1.4-.3zM52.2 64.1c.6 1.2 1.1 2.6 1.5 4.1-.4-1.5-.9-2.9-1.5-4.1z" fill="none"/> <path fill="#E65100" d="M101.3 128h.3c-2.4-9.5-4.8-19.4-6.8-28.7-7.6 2.7-39.3.6-45.1-5.1-2.5 4.9-6 10.3-10.8 16.2H97l4.3 17.6z"/> <path fill="#2A56C6" d="M97.2 92.5v-.2.2z"/> <path fill="#00838F" d="M39.2 107.1l.3-.4-.3.3v.1z"/> <path fill="#EE8100" d="M101.6 128c-1.5-5.8-3-11.8-4.3-17.7H38.9c-.9 1.1-2.1 2.2-3.1 3.3-.2.2-.3.4-.5.5-4 4.6-7.5 9.2-10.4 13.8h76.7z"/> <path fill="#FFE0B2" d="M72.4 103.8c5.9-.2 14.8-1.8 22.4-4.5-.3-1.4-.6-2.7-.8-4.1-1.9-9.4-3.2-18.1-3.4-25-.5-19.6 6.6-20.2 6.6-20.2h2.1c0-4.2-.5-8.8-.9-12.3-.2-1.9-.6-3.6-1.2-5.3l-3.6.5-.6.1-2.9.3c-.3 0-.6 0-.9.1-.3 0-.7 0-1 .1-.3 0-.7 0-1 .1h-5.1c-.7 0-1.3 0-1.9-.1h-.3c-1.4-.1-2.8-.2-4-.4h-.2l-1.1-.2h-.2l-.9-.2c-.1 0-.2 0-.3-.1l-2.3-.5h-.1c-.4-.1-.8-.2-1.1-.3-.1 0-.1 0-.2-.1l-1-.3c-.1 0-.1 0-.2-.1-.3-.1-.6-.2-.9-.4-.1 0-.1 0-.2-.1l-.9-.4s-.1 0-.1-.1c-1.4-.6-2.6-1.3-3.6-2.1l-.1-.1-.6-.5-.2-.2-.5-.4-.2-.2-.4-.4-.2-.2-.4-.4-.2-.2-.3-.4-.2-.2-.3-.4-.1-.2c-.2-.2-.3-.4-.4-.6l-8 24.9-11.2-14.1c-4.1.6-6.9 4.7-6.3 9.1.3 2 1.2 3.8 2.6 5 .3.1 1.6.7 3.4 1.7.8.4 1.6 1 2.5 1.6 1.5 1.1 3.2 2.5 4.9 4.1h.1l.1.1.2.2.1.1.3.3.1.1.4.4c.8.8 1.8 1.9 2.8 3.5v.1l.6.9s0 .1.1.1c.2.3.4.6.5 1 0 0 0 .1.1.1l.6 1.1c.6 1.2 1.1 2.6 1.5 4.1 1.7 6.2 1.6 14.8-4 25.9 5.6 5.8 13.6 9.4 22.5 9.7z"/> <circle fill="#444" cx="84.2" cy="44.1" r="2"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-4" x="384" y="128"> <path fill="#84FFFF" d="M0 0h128v128H0z"/> <path fill="#444" d="M28 54.2c1-.2 1.5.5 2.8.8 1.3.3 2.7.2 4-.2 2.2-.7 4.1-2.1 6.1-3.4 12.6-8.2 28.9-10.4 43.2-5.8 3 1 6 2.3 8 4.7.9 1.1 1.6 2.4 2.5 3.6s2.1 2.2 3.5 2.4c5.2.8 4.9-8.6 4.9-11.8 0-21.3-17.3-38.6-38.6-38.6S25.8 23.2 25.8 44.5c0 3.2.2 7 1.4 10 .3-.1.6-.2.8-.3z"/> <path fill="#8D6E63" d="M44.3 103.5c0 .2-.1.4-.1.5-.5 3.9.3 7.9 2.3 11.3 2.1 3.7 5.4 6.6 9.2 8.3 3.1 1.4 6.5 2.1 10 2.1 5.3-.1 10.6-2 14.2-5.9 1.9-2.1 3.2-4.6 4.5-7.1.9-1.7 1.8-3.4 2.5-5.2.6-1.7.6-2.3-.5-3.6-2.2-2.6-4.1-5.7-4.9-9.1-.9-4.1.3-9.7 3.5-12.6 1.3-1.2 2.8-2.5 4.4-3.9l13.1-11c1.5-1.2 2.6-3 2.9-5.1.4-3.2-1.1-6.3-3.7-7.9-.5-.3-.9-.5-1.5-.7h-.1c-.2-.1-.5-.2-.7-.2h-.1c-.3-.1-.6-.1-.8-.2-1.4-.2-2.8 0-4 .5-.8-14-13.9-11-29.9-11-14.6 0-26.8-2.5-29.4 7.8-.2.9-.5 2-.8 3.1-1.2-.4-2.4-.6-3.8-.4-.3 0-.6.1-.9.2l-.3.1-.6.2-.3.1-.6.3-.2.1-.8.5c-2.3 1.7-3.6 4.5-3.2 7.6.3 2.1 1.3 3.8 2.8 5.1 0 0 10.9 9.3 11 9.3 4.6 3.9 8.2 10.7 8.6 16.7.1 1.8 0 3.7-.5 5.5-.1 1.5-1 3-1.3 4.6z"/> <path d="M100.4 53.6zm-.8-.3h-.1.1zm-70.5.3l-.3.1c.1 0 .2 0 .3-.1zm-.9.4l-.2.1s.1 0 .2-.1zm1.7-.7l-.3.1c.2 0 .3-.1.3-.1z" fill="none"/> <path fill="#8D6E63" d="M39.3 109.5c-.1.1-.1.2-.1.2l.5-.6c-.1.1-.2.3-.4.4z"/> <path fill="#FFEB3B" d="M62.8 128h6.8l-3.4-5zm-23.6-18.3c-.1.2-.2.4-.2.5-3.1.9-6 2.7-8.4 5.4l-.2.2s-.5.6-1.5 1.7c-.9 1.1-2.2 2.6-3.7 4.5-1.3 1.6-2.8 3.6-4.4 5.8h28.6l-10.2-18.1zm72.3 16.6c-1.3-2.2-2.3-3.9-3.1-5.1-.9-1.3-1.3-2-1.3-2l-.2-.3c-.6-.9-1.2-1.7-1.9-2.4-3.1-3.4-7-5.2-10.9-5.7l-.3.4L83.6 128h28.9c-.3-.6-.7-1.2-1-1.7z"/> <circle fill="#444" cx="79.5" cy="62.7" r="2"/> <circle fill="#444" cx="53.8" cy="62.8" r="2"/> <path fill="#F57F17" d="M65.7 122.3l.5-.4L44 103.5l-4.3 5.6-.5.6L49.4 128h13.4l3.4-5zm0 0l.5.7 3.4 5h14l10.1-16.8.3-.4-6.4-6.2-.4.3-21 17z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-5" x="384" y="256"> <path fill="#FFFF8D" d="M0 0h128v128H0z"/> <path fill="#C2C2C2" d="M51.7 31.4v-22s-19.6 2.5-15.8 29.9c11 0 14.8-4.3 15.8-7.9z"/> <path fill="#848484" d="M94.1 39.8c.1-1 0-2-.1-3 0-1-.1-1.9-.2-2.9-.2-1.8-.4-3.5-.8-5.2-.6-2.9-1.5-5.8-2.9-8.4-1.1-2.2-2.6-4.2-4.3-6-1.6-1.6-3.3-2.9-5.3-3.9-1.8-1-3.8-1.7-5.8-2.2-2-.5-4-.8-6-.9-1.9-.1-3.8-.1-5.7 0-1.7.1-3.3.3-5 .6-1.3.2-2.5.5-3.8.8l-2.2.6-.4.1v20.8c0 1-.1 1.8.4 2.7.2.3.5.6.6.9.3.9.7 1.8 1.2 2.7 1.1 1.8 2.7 3.4 4.7 4.3 2.4 1.1 5.1 1.4 7.8 1.6 4.8.3 9.6.4 14.3.3 2.2 0 4.3-.3 6.4-.9 1.2-.3 2.4-.6 3.6-1 .6-.2 1.2-.4 1.8-.5.6-.2 1.2-.5 1.7-.5z"/> <path fill="#FFE0B2" d="M66.8 116.8l17.9-8.7 3.1-8.2c-15.1-17 1.2-31.6 2.3-32.5h.1l13.2-11.1c1.5-1.2 2.5-3 2.8-5 .6-4.4-2.5-8.4-6.9-9.1-1.5-.2-3 0-4.3.6-.2-1-.5-1.9-.8-2.9-26.9 3.7-37.9-2.5-42.4-8.4-1.6 2.6-5.1 6.1-15.8 7.9-.2.9-.5 2-.8 3.1-1.2-.4-2.4-.6-3.8-.4-4.4.6-7.5 4.7-6.9 9.1.3 2 1.3 3.8 2.8 5l7.5 6.4c4.2 4.5 18.4 21.7 9 37l.7 3.7 4.7 4.6 17.6 8.9z"/> <path fill="#055524" d="M39.8 104.7zm54.3-.4l-.8 1.5-6.8 12.1V128H128v-2.3z"/> <path fill="#FFE0B2" d="M40.4 103.9c-.2.2-.3.4-.5.5 0 0-.1.1-.1.2v.1l.6-.8z"/> <circle fill="#444" cx="80" cy="51.7" r="2"/> <circle fill="#444" cx="54.3" cy="51.7" r="2"/> <path fill="#055524" d="M39.8 104.7c-3.2.9-6.1 2.7-8.6 5.5l-.2.2s-.5.6-1.5 1.7c-.9 1.1-2.2 2.6-3.7 4.5-2.3 2.9-5.1 6.7-8.3 11.4h31v-7.8l-8.7-15.5z"/> <path fill="#848484" d="M65.3 67.3s2.7 9.8 14.5 9.8c0 0 3.9-18.5-14.5-18.5v8.7z"/> <path fill="#C2C2C2" d="M65.3 67.3v-8.7C46.9 58.6 50.8 77 50.8 77c11.8 0 14.5-9.7 14.5-9.7z"/> <path fill="#A7FFEB" d="M80.9 128h5.6v-10.1zm-21 0h13.8l-6.9-10zm-11.5 0h4.3l-4.3-7.8z"/> <path fill="#1DE9B6" d="M66.8 118l-.5-.8.5-.4-22.9-17.3h-.1l-3.4 4.4-.6.8 8.6 15.5 4.3 7.8h7.2zm26.5-12.2l.8-1.5-6.4-4.4-20.9 16.9-.5.4.5.8 6.9 10h7.2l5.6-10.1z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-6" y="384"> <path fill="#FF8A80" d="M0 0h128v128H0z"/> <path fill="#F2A600" d="M30.3 43.7c3.1-.4 6.1 1 7.7 3.4 10.3-2 11-11.5 12.6-14.1 4.5 5.8 13.3 17.8 39.5 14.5 1.6-2.7 4.7-4.3 8-3.8.4 0 .7-1.9 1-1.8-.1-2.2-.3-4.4-.8-6.4v-.1C94.9 19.6 80.8 7.8 64 7.8c-15 0-27.8 9.4-32.8 22.6C29.8 34 29 38 28.9 42.1l.7 1.8.7-.2z"/> <path d="M89.1 102.8l.4-.3c-.1 0-.3.1-.4.3zm2.2-1.9l-.5.4c.2-.2.3-.3.5-.4zm-18 9.2c-.1 0-.2 0-.3.1.1-.1.2-.1.3-.1zm-2.4.4h-.2.2zm16.1-6.2l.3-.2-.3.2zm-9 4.5l.5-.2-.5.2zm4.9-2.1l.2-.1c-.1.1-.1.1-.2.1zm2-1.1l.5-.3-.5.3zm-4.6 2.3l.4-.2c-.1.1-.2.2-.4.2zm12.6-8.6zM30.3 41.7c-.3 0-.5.1-.7.1.2 0 .5 0 .7-.1zm35.9 69.2c-.6 0-1.2 0-1.9-.1.6 0 1.2.1 1.9.1z" fill="none"/> <path fill="#F2A600" d="M41.5 101.3l.8.7c-.3-.3-.5-.5-.8-.7zm1.4 1.1c.2.2.5.4.8.6-.3-.2-.6-.4-.8-.6zm1.3 1.1c.2.2.5.4.8.5-.2-.1-.5-.3-.8-.5zm54.1-68.1zM38.7 98.3c.4.4.8.8 1.1 1.3-.4-.4-.8-.8-1.1-1.3zm-7.6-67.9zm15.4 74.7l.5.3-.5-.3zm4.6 2.4l.3.1c-.1 0-.2 0-.3-.1zm-3.1-1.6l.5.3c-.2-.1-.4-.2-.5-.3zm13.6 4.6l-.9-.1.9.1zM88.9 67c-1.6 1.4-3.1 2.7-4.4 3.9-3.3 3.8-6.3 10.3-1 18.7 5.7-8.1 10.6-17.7 13.2-29.1L88.9 67zM41 100.8l-.8-.8.8.8zm8.5 6l.4.2c-.1-.1-.2-.2-.4-.2zm9.5 3.3h.1-.1zm-46.1 17.3c4.5-7.1 8.6-12.7 11.7-16.6 1.5-2 2.8-3.5 3.7-4.5 1-1.1 1.5-1.7 1.5-1.7l.2-.2c2.4-2.7 5.3-4.5 8.4-5.4.1-.2.2-.4.2-.5 0-.1 0-.2.1-.2 13.6-13.3 4.7-26.5-1.5-32.9l-4.4-3.8c-2.6 8.7-8.5 18.2-20.1 26.9-6.4 4.1-10.6 11.4-10.6 19.7 0 8.2 4.1 15.4 10.4 19.8l.4-.6z"/> <path fill="#FFE0B2" d="M67.1 110.9h-2 2zM38.8 98.1c-.4.3 2.1 5.6 2.5 5.9 1.8 1.8 4.1 2.2 6.3 3.5 4.8 2.7 10.2 3.6 15.6 4.2 5.7.6 11.5-.5 16.8-2.6 2.5-1 4.8-2.3 7-3.8 1.2-.8 2.2-1.6 3.3-2.6.4-.3 2.4-3.6 2.7-3.3-4-3.3-8-6.9-10.4-11.6-2.2-4.2-2.6-9.1-.5-13.4 1.7-3.3 4.5-5.6 7.3-7.9 2.2-1.8 4.3-3.6 6.5-5.5l4.7-3.9c1-.8 2.1-1.6 2.8-2.7 1.5-2 1.9-4.6 1.2-7-1.4-4.8-7.1-7.2-11.5-4.9-1 .5-1.9 1.3-2.6 2.2l-.5.7-1.1.1c-.8.1-1.6.2-2.4.2-2.6.2-5.3.3-7.9.1-6.8-.3-13.5-2.1-19.1-6-3.6-2.4-6.3-5.6-8.9-9-.5.9-.8 1.9-1.1 2.8-.5 1.4-1 2.7-1.6 4-1.7 3.3-4.5 5.8-8.2 6.9-.5.2-1.1.3-1.7.4-.3-.5-.7-.9-1.1-1.3-.9-.6-2.1-1.3-3.3-1.6-2.5-.7-5.2-.2-7.2 1.4-3.9 3.1-4 9.2-.1 12.5l10.5 8.9c2.4 2 4.3 4.8 5.9 7.4 2.1 3.5 3.4 7.6 3.2 11.7-.3 5.6-3.3 10.4-7.1 14.2-.1.1 13.6-13.3 0 0z"/> <path fill="#80DEEA" d="M93 99.4l-.2-.1-1.5 1.5-.5.4c-.4.4-.9.8-1.3 1.1l-.4.3c-.6.5-1.2.9-1.8 1.3l-.3.2c-.5.4-1.1.7-1.6 1l-.5.3-1.8 1-.2.1c-.7.4-1.4.7-2.1 1l-.4.2-1.8.7-.5.2c-.8.3-1.5.5-2.3.7l-2.4.6c-.1 0-.2 0-.3.1l-2.1.4h-.2c-1.5.2-3 .3-4.5.4h2-1.9c-.6 0-1.2 0-1.9-.1l-2.7-.3-.9-.1-1.6-.3h-.1c-2.7-.6-5.2-1.4-7.6-2.4l-.3-.1c-.4-.2-.8-.4-1.2-.5l-.4-.2c-.4-.2-.7-.4-1-.5l-.5-.3-1-.6-.5-.3c-.5-.3-1-.6-1.5-1-.3-.2-.5-.4-.8-.5l-.6-.5-.8-.6-.6-.5c-.3-.2-.5-.4-.8-.7l-.5-.5-.8-.8-.4-.4c-.4-.4-.8-.8-1.1-1.3-.1.2-.2.4-.2.5-3.1.9-6 2.7-8.4 5.4l-.2.2s-.5.6-1.5 1.7c-.9 1.1-2.2 2.6-3.7 4.5-3.1 3.9-7.2 9.5-11.7 16.6-.1.2-.2.4-.4.6H118c-2.7-5.4-5.1-9.8-7.1-13.1-1.3-2.2-2.3-3.9-3.1-5.1-.9-1.3-1.3-2-1.3-2l-.2-.3c-.6-.9-1.2-1.7-1.9-2.4-3.3-3.3-7.4-5.2-11.4-5.5z"/> <circle fill="#444" cx="78.9" cy="51.3" r="2"/> <circle fill="#444" cx="53.2" cy="51.3" r="2"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-7" x="128" y="384"> <path fill="#FFCC80" d="M41.6 123.8s0 .1-.1.1l.3-.4c-.1.2-.1.2-.2.3z"/> <path fill="#80D8FF" d="M0 0h128v128H0z"/> <path fill="#5D4037" d="M29.3 123.1c4.1-6.9 7.8-12.4 10.5-16.2 1.4-1.9 2.5-3.4 3.3-4.4l1.7-2s0-.1.1-.1l.3-.3C49 95.4 51.9 91 54.1 87c9.5-17.8 6.1-29.3-.3-35.9-1.6-1.6-3.2-2.9-4.7-4-.9-.6-1.7-1.1-2.4-1.6-1.8-1-3.1-1.6-3.3-1.7-1.3-1.2-2.2-2.9-2.5-4.9-.5-4.3 2.2-6.2 6.1-6.8 1-.1 2-.1 2.9.2 9.6-1.8 11.9-8 13.3-10.6 4 5.7 13.9 9.8 38 6.1C97.1 14.3 84.5 5.4 71 7.4c-4.4.7-8.3 2.4-11.8 4.9l-.1.1c-1.1.8-2.1 1.6-3 2.6l-35 30C12.9 49.8 7.3 58.8 7.3 69.1c0 2.7.4 5.3 1.1 7.8.3 4.9-.1 11.7-2.9 18.6-.2.5-.5 1-.7 1.6-1.2 3.2-1.9 6.6-1.9 10.2 0 8.2 3.5 15.6 9.1 20.7h14.5c1-1.7 1.9-3.4 2.8-4.9zm20.5-90.8z"/> <path fill="#FFCC80" d="M63.1 19.8c-1.4 2.6-5.7 8.8-15.3 10.6-.9-.3-1.9-.3-2.9-.2-3.9.6-6.7 4.5-6.1 8.8.3 2 1.2 3.7 2.5 4.9.2.1 1.5.6 3.3 1.7.7.4 1.6 1 2.4 1.6 1.5 1.1 3.1 2.4 4.7 4 6.4 6.6 11.8 18.1 2.3 35.9 0 0 7.3 15.5 23.2 16.9 6.1.5 13.3-5.6 22.1-8.8-.1-.7-.3-1.4-.5-2.1-.3-1.3-3.9-21.5-4.1-28.2-.2-7.4.7-11.9 1.9-14.8h8.8L103 39.7c-.2-2.4-.4-4.7-.7-6.7-.2-1.8-.6-3.5-1.1-5.2-24.2 3.7-34-2.3-38.1-8zm22.3 19.6c0-.9.7-1.6 1.6-1.6.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6-.9 0-1.6-.7-1.6-1.6zm-35.6-7.1zm-4.9 68.1s0 .1-.1.1l.3-.4-.2.3z"/> <circle fill="#444" cx="86.9" cy="39.4" r="2"/> <path fill="#00BFA5" d="M77.2 98.5C61.3 97.2 54.1 87 54.1 87c-2.2 4-5.1 8.4-8.9 13.1l-.3.4c-.5.7-1.1 1.3-1.7 2-.8 1-2 2.5-3.3 4.4-2.8 3.8-6.5 9.2-10.5 16.2-.9 1.6-1.8 3.2-2.8 4.9h80.8l-.3-1c-2.6-10.3-5.4-21.4-7.7-31.9-8.8 3.1-16.1 3.9-22.2 3.4z"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-8" x="256" y="384"> <path fill="#FFCC80" d="M41.6 123.8s.1-.2.2-.3c-.1.2-.1.2-.2.3z"/> <path fill="#B388FF" d="M0 0h128v128H0z"/> <path d="M64.1 34.5c-.1.1-.2.2-.3.2.1-.1.2-.2.3-.2zm.9-.7c-.1.1-.2.1-.2.2l.2-.2zm-1.9 1.3c-.1.1-.2.2-.4.2.2 0 .3-.1.4-.2zm-5.4 2.6l-.5.2c.2-.1.4-.2.5-.2zm2.8-1.1l-.2.1s.1-.1.2-.1zm-1.3.5l-.4.2c.1 0 .2-.1.4-.2zm8.8-6.3l-.2.3c.1-.1.2-.2.2-.3zm-1.9 2.1l-.3.2.3-.2zm1.4-1.4l-.3.3c.1-.2.2-.3.3-.3zm-.7.6l-.3.3c.2-.1.3-.2.3-.3zM62 35.8l-.3.2.3-.2zm5 47l-.3 1.6.3-1.6zM56.2 38.1l-.5.1c.1 0 .3 0 .5-.1zm10.4 46.5c-.1.5-.2 1.1-.4 1.6.2-.5.3-1 .4-1.6zm.6-3.6l-.2 1.6c.1-.5.1-1 .2-1.6zm-5.6-20.8c.1.1.2.3.4.4l-.4-.4zm7.5-30.9l-.6.9c.5-.7.9-1.3 1.2-1.8-.1.2-.3.5-.5.7 0 .1 0 .2-.1.2zM67.2 81c1-10.6-2.4-17.3-5.2-20.4 2.7 3.1 6.2 9.8 5.2 20.4zm-1 5.5c-.1.6-.3 1.1-.5 1.7.2-.6.4-1.2.5-1.7zm-5.6-27.4l.2.2c-.1 0-.2-.1-.2-.2zm-.3-.2s.1.1.2.1c-.1 0-.1 0-.2-.1zm-.2-.1zm-.1-.1zm1.7 38.2c-.1-.1-.2-.2-.4-.3l.1.1.3.2zm-.5-37.1l.3.3-.3-.3zm-.3-.4l.3.3c-.2-.1-.2-.2-.3-.3z" fill="none"/> <path fill="#2A56C6" d="M98.8 94.8v.2-.2z"/> <path fill="#FFE0B2" d="M2.8 109.6L0 110.8V128h15.5L2.8 109.6z"/> <path fill="#DD2C00" d="M91.9 128h5.6c-3.8-12-4.4-16-4.9-20.1-.1-.5-.5-2.4-.5-2.9-2.6.7-5.2 1.1-8 1.2-8.7-.2-16.5-3.8-22.3-9.3l-.2-.2-.1-.1c-2.9.2-7.6.2-10.8.6-4.6.6-9.6 1.3-15 2.4-4.7.9-11.2 2.7-33.3 9.3l.5.7L15.5 128h70.2"/> <path fill="#FFEB3B" d="M66.2 86.5c0-.1 0-.1.1-.2.1-.6.3-1.1.4-1.6v-.2l.3-1.6v-.1l.2-1.6c1-10.6-2.4-17.3-5.2-20.4-.1-.1-.2-.3-.4-.4l-.1-.1-.3-.3-.1-.1-.3-.3-.1-.1-.2-.2-.1-.1c-.1-.1-.1-.1-.2-.1 0 0-.1 0-.1-.1l-.1-.1s-.1 0-.1-.1c-1.6-1.7-3.3-3-4.9-4.1-.9-.6-1.7-1.2-2.5-1.6-1.8-1.1-3.2-1.6-3.4-1.7-1.3-1.2-2.3-3-2.6-5-.6-4.4.3-6.4 4.3-7.1 1-.2 2-.1 3 .2l.1-.7c.6-.1 1.1-.2 1.6-.4l.5-.1 1.1-.3.5-.2 1-.3.4-.2c.4-.1.7-.3 1.1-.5l.2-.1 1.2-.6.3-.2c.3-.1.5-.3.8-.5.1-.1.3-.2.4-.2.2-.1.4-.3.7-.4.1-.1.2-.2.3-.2l.7-.5c.1-.1.2-.1.2-.2.3-.2.5-.4.8-.7.1-.1.2-.1.2-.2l.5-.5.3-.3.4-.4.3-.3.3-.4c.1-.1.2-.2.2-.3.2-.2.3-.4.4-.6l.6-.9.1-.2c.2-.3.3-.5.5-.7 4.2 5.9 14.5 10.4 39.3 6.7-4.2-14-17.3-23.5-31.3-21.4-5.3.8-10.1 3.2-14 6.6l-.2.2c-.5.4-1 .9-1.4 1.4-5.3 4.8-23.3 19.8-52.2 26.5-3.9 0-7.4 1.6-9.9 4.2v19.3c.3.3.6.6.9.8l-.3.9S30.9 96.4 64 90.3l1.6-1.8c0-.1 0-.1.1-.2.2-.7.4-1.3.5-1.8z"/> <path fill="#FFE0B2" d="M84 106.2c2.8-.1 5.4-.5 8-1.2l.8-3.8c4.3-19.3 9.7-37.4 15-52.9h6.9l-4.8-8.2c-.2-1.9-.6-3.6-1.2-5.3-24.8 3.7-35-2.5-39.1-8.4-.3.5-.7 1.1-1.2 1.8l-.4.6-.2.3-.3.4-.3.3-.4.4-.3.3-.5.5s-.1 0-.2.1c-.3.2-.5.4-.8.7-.1.1-.2.1-.2.2-.2.2-.4.3-.7.5-.1.1-.2.2-.3.2-.2.1-.4.3-.7.4-.1.1-.2.2-.4.2l-.8.5-.3.2-1.2.6-.2.1-1.1.5-.4.2c-.3.1-.6.2-1 .3l-.5.2c-.3.1-.7.2-1.1.3l-.5.1-1.6.4c-.1.2-.1.5-.1.7-.9-.3-1.9-.4-3-.2-4.1.6-6.9 4.7-6.3 9.1.3 2 1.2 3.8 2.6 5 .3.1 1.6.7 3.4 1.7.8.4 1.6 1 2.5 1.6 1.5 1.1 3.2 2.5 4.9 4.1l.1.1.1.1.1.1s.1.1.2.1c0 0 .1 0 .1.1l.2.2.1.1.3.3.1.1.3.3.1.1s.2.3.4.4c2.7 3.1 7.2 9.8 6.2 20.4l-.2 1.6v.1l-.3 1.6v.2c-.1.5-.2 1.1-.4 1.6 0 .1 0 .1-.1.2-.1.6-.3 1.1-.5 1.7 0 .1 0 .1-.1.2-.8 2.6-1.8 5.3-3.3 8.3.1.1.2.2.4.3 5.7 5.6 13.5 9.1 22.2 9.3z"/> <path fill="#DD2C00" d="M85.6 128h5.1"/> <circle fill="#444" cx="95.8" cy="46.5" r="2"/> </svg> <svg viewBox="0 0 128 128" height="128" width="128" id="svg-9" x="384" y="384"> <path fill="#FFCC80" d="M41.6 123.8s0 .1-.1.1l.3-.4c-.1.2-.1.2-.2.3z"/> <path fill="#FFFF8D" d="M0 0h128v128H0z"/> <path fill="#C2C2C2" d="M83.2 26.6c.1-.9.2-1.8.2-2.7C83.4 13.5 75 5 64.6 5s-18.8 8.4-18.8 18.8c0 1.4.2 2.7.4 4 5.4-4 12.2-6.4 19.4-6.4 6.5.1 12.5 2 17.6 5.2z"/> <path fill="#848484" d="M41.4 58.4c9.6-1.9 10.3-10.7 11.7-13.2 4.2 5.4 12.4 16.6 36.8 13.5 1.5-2.5 4.4-6 7.4-5.6.3 0 .6.1 1 .2C98 42 92 32.1 83.1 26.5 78 23.3 72 21.4 65.6 21.4c-7.3 0-14 2.4-19.4 6.4-7.9 5.9-13.1 15.2-13.3 25.7.4-.1.9 1.7 1.4 1.7 2.8-.4 5.6 1 7.1 3.2z"/> <path fill="#FF5722" d="M109.6 121.5c-1.2-2-2.2-3.6-2.9-4.8l-1.2-1.8-.2-.3c-.5-.8-1.1-1.6-1.8-2.3-3.1-3.3-6.9-5.1-10.8-5.3 0 0 .1 0 .1.1l-.2-.1c-3.4 3.7-7.8 6.6-12.7 8.5V128h33.4c-1.4-2.5-2.6-4.7-3.7-6.5zM42 106l-.2.5c-2.9.8-5.6 2.5-7.8 5.1l-.2.2s-.5.6-1.4 1.6c-.9 1-2 2.4-3.5 4.2-2.1 2.6-4.7 6.1-7.5 10.4h28v-15.7c-2.8-1.7-5.3-3.8-7.4-6.3z"/> <path fill="#E0F7FA" d="M67.7 117.7c-6.8-.2-13.1-2.1-18.3-5.4V128h30.5v-12.6c-3.8 1.4-7.9 2.2-12.2 2.3z"/> <path fill="#FFE0B2" d="M42 106c2.1 2.4 4.6 4.5 7.4 6.3 5.2 3.3 11.5 5.3 18.3 5.4 4.3-.1 8.4-.9 12.1-2.3 5-1.9 9.3-4.8 12.7-8.5l.2.1s-.1 0-.1-.1c-15.7-12.3-12-21.7-7.8-26.6 1.3-1.1 2.6-2.3 4.1-3.6l12.2-10.3c1.4-1.2 2.4-2.8 2.7-4.8.5-3.8-1.9-7.3-5.4-8.2-.3-.1-.6-.2-1-.2-3.1-.4-5.9 1.1-7.4 3.6-24.4 3.1-32.7-8.1-36.8-13.5-1.5 2.4-2.1 11.3-11.7 13.2-1.6-2.3-4.3-3.6-7.2-3.2l-1.4.3c-3.4 1.1-5.5 4.5-5 8.1.3 1.9 1.3 3.6 2.6 4.7l10.2 8.7c5.8 6 14.1 18.3 1.4 30.7-.1.1-.1.2-.1.2zm37.6-45.3c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5c-.1-.9.6-1.5 1.5-1.5zm-24 0c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5c-.1-.9.6-1.5 1.5-1.5z"/> <circle fill="#444" cx="79.6" cy="62.2" r="2"/> <circle fill="#444" cx="55.6" cy="62.2" r="2"/> </svg> </defs></svg>'
};angular.module("material.svgAssetsCache",[]).run(["$templateCache",function(t){angular.forEach(e,function(e,i){t.put(i,e)})}])}(),SMS.CONTROLLERS.controller("Controller",Controller),Controller.$inject=["$rootScope","$state","$filter","$location","$anchorScroll","$mdDialog","$mdToast","SessionStorage","Common","ENV"],SMS.CONTROLLERS.controller("loginCtrl",loginCtrl),loginCtrl.$inject=["$rootScope","$state","$location","$filter","SessionStorage","loginService","ENV"],SMS.SERVICES.service("loginService",loginService),loginService.$inject=["Account","ENV"],SMS.CONTROLLERS.controller("mainCtrl",mainCtrl),mainCtrl.$inject=["$rootScope","$scope","$state","$mdDialog","$mdPanel","SessionStorage","mainService","loginService","ENV"],SMS.SERVICES.service("mainService",mainService),mainService.$inject=[],SMS.CONTROLLERS.controller("organizationAddCtrl",organizationAddCtrl),organizationAddCtrl.$inject=["$rootScope","$state","organizationService","$mdDialog","SessionStorage"],SMS.CONTROLLERS.controller("organizationEditCtrl",organizationEditCtrl),organizationEditCtrl.$inject=["$rootScope","$state","$stateParams","organizationService","$mdDialog","SessionStorage"],SMS.CONTROLLERS.controller("organizationListCtrl",organizationListCtrl),organizationListCtrl.$inject=["$rootScope","$state","organizationService","$q","downloadCommon","SessionStorage"],SMS.SERVICES.service("organizationService",organizationService),organizationService.$inject=["$rootScope","Organization","bootstrapTable"],SMS.CONTROLLERS.controller("deptAddCtrl",deptAddCtrl),deptAddCtrl.$inject=["$rootScope","$state","$stateParams","hospitalDeptService"],SMS.CONTROLLERS.controller("deptEditCtrl",deptEditCtrl),deptEditCtrl.$inject=["$rootScope","$state","$stateParams","hospitalDeptService"],SMS.CONTROLLERS.controller("deptListCtrl",deptListCtrl),deptListCtrl.$inject=["$rootScope","$state","$stateParams","hospitalDeptService","downloadCommon"],SMS.CONTROLLERS.controller("hospitalListCtrl",hospitalListCtrl),hospitalListCtrl.$inject=["$rootScope","$state","hospitalDeptService","$q","SessionStorage","Common","downloadCommon"],SMS.SERVICES.service("hospitalDeptService",hospitalDeptService),hospitalDeptService.$inject=["HospitalDept","bootstrapTable","$rootScope"],SMS.CONTROLLERS.controller("roleAddCtrl",roleAddCtrl),roleAddCtrl.$inject=["$rootScope","$state","roleService"],SMS.CONTROLLERS.controller("roleEditCtrl",roleEditCtrl),roleEditCtrl.$inject=["$rootScope","$state","roleService"],SMS.CONTROLLERS.controller("roleListCtrl",roleListCtrl),roleListCtrl.$inject=["$rootScope","$state","roleService","downloadCommon"],SMS.CONTROLLERS.controller("userAddCtrl",userAddCtrl),userAddCtrl.$inject=["$rootScope","$state","userService"],SMS.CONTROLLERS.controller("userEditCtrl",userEditCtrl),userEditCtrl.$inject=["$rootScope","$state","$mdDialog","$stateParams","userService"],SMS.CONTROLLERS.controller("userListCtrl",userListCtrl),userListCtrl.$inject=["$rootScope","$state","userService","downloadCommon"],SMS.SERVICES.service("userService",userService),userService.$inject=["$rootScope","$state","User","bootstrapTable"],SMS.CONTROLLERS.controller("doctorIndividualAddCtrl",doctorIndividualAddCtrl),doctorIndividualAddCtrl.$inject=["$rootScope","$state","doctorIndividualService","$mdDialog"],SMS.CONTROLLERS.controller("doctorIndividualEditCtrl",doctorIndividualEditCtrl),doctorIndividualEditCtrl.$inject=["$rootScope","$scope","$state","$stateParams","doctorIndividualService","$mdDialog"],SMS.CONTROLLERS.controller("doctorIndividualListCtrl",doctorIndividualListCtrl),doctorIndividualListCtrl.$inject=["$rootScope","$state","doctorIndividualService","downloadCommon","$mdDialog"],SMS.CONTROLLERS.controller("doctorIndividualSidebarCtrl",doctorIndividualSidebarCtrl),doctorIndividualSidebarCtrl.$inject=["$rootScope","$state"],SMS.SERVICES.service("doctorIndividualService",doctorIndividualService),doctorIndividualService.$inject=["Doctor","FamilyArchives","bootstrapTable","$rootScope","$filter"],SMS.CONTROLLERS.controller("doctorTeamAddCtrl",doctorTeamAddCtrl),doctorTeamAddCtrl.$inject=["$rootScope","$state","doctorTeamService"],SMS.CONTROLLERS.controller("doctorTeamEditCtrl",doctorTeamEditCtrl),doctorTeamEditCtrl.$inject=["$rootScope","$state","doctorTeamService"],SMS.CONTROLLERS.controller("doctorTeamListCtrl",doctorTeamListCtrl),doctorTeamListCtrl.$inject=["$rootScope","$state","doctorTeamService"],SMS.SERVICES.service("doctorTeamService",doctorTeamService),doctorTeamService.$inject=[],SMS.SERVICES.service("roleService",roleService),roleService.$inject=["$rootScope","Role","bootstrapTable"],SMS.CONTROLLERS.controller("fieldsListCtrl",fieldsListCtrl),fieldsListCtrl.$inject=["$rootScope","$state","fieldsService"],SMS.SERVICES.service("fieldsService",fieldsService),fieldsService.$inject=["$rootScope","$state","Fields","bootstrapTable"],SMS.CONTROLLERS.controller("templateListCtrl",templateListCtrl),templateListCtrl.$inject=["$rootScope","$state","templateService"],SMS.CONTROLLERS.controller("templatePreviewCtrl",templatePreviewCtrl),templatePreviewCtrl.$inject=["$rootScope","$state","$stateParams","templateService"],SMS.SERVICES.service("templateService",templateService),templateService.$inject=["$rootScope","Template","bootstrapTable"],SMS.CONTROLLERS.controller("contractDetailReportCtrl",contractDetailReportCtrl),contractDetailReportCtrl.$inject=["$rootScope","$state","contractReportService"],SMS.CONTROLLERS.controller("contractReportCtrl",contractReportCtrl),contractReportCtrl.$inject=["$rootScope","$state","contractReportService"],SMS.SERVICES.service("contractReportService",contractReportService),contractReportService.$inject=["Report","$rootScope","bootstrapTable"],SMS.CONTROLLERS.controller("followupTimesReportCtrl",followupTimesReportCtrl),followupTimesReportCtrl.$inject=["$rootScope","$state","followupTimesReportService","$filter"],SMS.SERVICES.service("followupTimesReportService",followupTimesReportService),followupTimesReportService.$inject=["Report"],SMS.CONTROLLERS.controller("keyPopulationDetailReportCtrl",keyPopulationDetailReportCtrl),keyPopulationDetailReportCtrl.$inject=["$rootScope","$state","keyPopulationReportService","$filter"],SMS.CONTROLLERS.controller("keyPopulationReportCtrl",keyPopulationReportCtrl),keyPopulationReportCtrl.$inject=["$rootScope","$state","keyPopulationReportService","contractReportService","$filter"],SMS.SERVICES.service("keyPopulationReportService",keyPopulationReportService),keyPopulationReportService.$inject=["Report","bootstrapTable","$rootScope"],SMS.CONTROLLERS.controller("familyArchivesAddCtrl",familyArchivesAddCtrl),familyArchivesAddCtrl.$inject=["$rootScope","$state","$mdPanel","$filter","$q","familyArchivesService"],SMS.CONTROLLERS.controller("familyArchivesEditCtrl",familyArchivesEditCtrl),familyArchivesEditCtrl.$inject=["$rootScope","$state","$mdPanel","$filter","$q","familyArchivesService"],SMS.CONTROLLERS.controller("familyArchivesListCtrl",familyArchivesListCtrl),familyArchivesListCtrl.$inject=["$rootScope","$state","familyArchivesService","downloadCommon"],SMS.CONTROLLERS.controller("familyArchivesSidebarCtrl",familyArchivesSidebarCtrl),familyArchivesSidebarCtrl.$inject=["$rootScope","$state","$scope","$stateParams","familyArchivesService"],SMS.CONTROLLERS.controller("familyFamilyMemberCtrl",familyFamilyMemberCtrl),familyFamilyMemberCtrl.$inject=["$rootScope","$state","$scope","$mdPanel","$q","familyArchivesService"],SMS.SERVICES.service("familyArchivesService",familyArchivesService),familyArchivesService.$inject=["$rootScope","$state","FamilyArchives","bootstrapTable"],SMS.CONTROLLERS.controller("familySignDoctorCtrl",familySignDoctorCtrl),familySignDoctorCtrl.$inject=["$rootScope","$state","$mdDialog","$mdPanel","familyArchivesService"],SMS.CONTROLLERS.controller("residentArchivesAddCtrl",residentArchivesAddCtrl),residentArchivesAddCtrl.$inject=["$rootScope","$state","residentArchivesService","$filter"],SMS.CONTROLLERS.controller("residentArchivesEditCtrl",residentArchivesEditCtrl),residentArchivesEditCtrl.$inject=["$rootScope","$state","$stateParams","residentArchivesService","$filter"],SMS.CONTROLLERS.controller("residentArchivesListCtrl",residentArchivesListCtrl),residentArchivesListCtrl.$inject=["$rootScope","$state","residentArchivesService","$q","downloadCommon"],SMS.CONTROLLERS.controller("residentArchivesSidebarCtrl",residentArchivesSidebarCtrl),residentArchivesSidebarCtrl.$inject=["$rootScope","$state","$stateParams","residentArchivesService"],SMS.CONTROLLERS.controller("residentBehaviorListCtrl",residentBehaviorListCtrl),residentBehaviorListCtrl.$inject=["$rootScope","$state","residentArchivesService"],SMS.CONTROLLERS.controller("residentMedicalListCtrl",residentMedicalListCtrl),residentMedicalListCtrl.$inject=["$rootScope","$state","residentArchivesService"],SMS.SERVICES.service("residentArchivesService",residentArchivesService),residentArchivesService.$inject=["$rootScope","$state","ResidentArchives","bootstrapTable"],SMS.CONTROLLERS.controller("diabetesHeadBarCtrl",diabetesHeadBarCtrl),diabetesHeadBarCtrl.$inject=["$rootScope","$state"],SMS.CONTROLLERS.controller("hypertensionHeadBarCtrl",hypertensionHeadBarCtrl),hypertensionHeadBarCtrl.$inject=["$rootScope","$state"],SMS.CONTROLLERS.controller("diabetesEditCtrl",diabetesEditCtrl),diabetesEditCtrl.$inject=["$rootScope","$state","$stateParams","diabetesService","$filter"],SMS.CONTROLLERS.controller("diabetesListCtrl",diabetesListCtrl),diabetesListCtrl.$inject=["$rootScope","$state","$mdPanel","diabetesService","$filter"],SMS.CONTROLLERS.controller("diabetesSidebarCtrl",diabetesSidebarCtrl),diabetesSidebarCtrl.$inject=["$rootScope","$state","diabetesService"],SMS.SERVICES.service("diabetesService",diabetesService),diabetesService.$inject=["$rootScope","Diabetes","bootstrapTable"],SMS.CONTROLLERS.controller("hypertensionEditCtrl",hypertensionEditCtrl),hypertensionEditCtrl.$inject=["$rootScope","$state","$filter","hypertensionService"],SMS.CONTROLLERS.controller("hypertensionListCtrl",hypertensionListCtrl),hypertensionListCtrl.$inject=["$rootScope","$state","$mdPanel","hypertensionService","$filter"],SMS.CONTROLLERS.controller("hypertensionSidebarCtrl",hypertensionSidebarCtrl),hypertensionSidebarCtrl.$inject=["$rootScope","$state","hypertensionService"],SMS.SERVICES.service("hypertensionService",hypertensionService),hypertensionService.$inject=["$rootScope","$filter","$state","Hypertension","bootstrapTable"],SMS.CONTROLLERS.controller("doctorIndividualSignRecordCtrl",doctorIndividualSignRecordCtrl),doctorIndividualSignRecordCtrl.$inject=["$rootScope","$state","familyArchivesService"],SMS.CONTROLLERS.controller("signedFamilyListCtrl",signedFamilyListCtrl),signedFamilyListCtrl.$inject=["$rootScope","$scope","$state","doctorIndividualService","$mdDialog","$filter","$mdPanel"],SMS.CONTROLLERS.controller("physicalExaminationEditCtrl",physicalExaminationEditCtrl),physicalExaminationEditCtrl.$inject=["$rootScope","$state","$location","$anchorScroll","physicalExaminationService","residentArchivesService","$filter"],SMS.CONTROLLERS.controller("residentExaminationListCtrl",residentExaminationListCtrl),residentExaminationListCtrl.$inject=["$state","$stateParams","physicalExaminationService"],SMS.SERVICES.service("physicalExaminationService",physicalExaminationService),physicalExaminationService.$inject=["$rootScope","PhysicalExamination","bootstrapTable"],SMS.CONTROLLERS.controller("physicalIdentificationEditCtrl",physicalIdentificationEditCtrl),physicalIdentificationEditCtrl.$inject=["$rootScope","$state","$stateParams","$mdDialog","physicalIdentificationService"],SMS.CONTROLLERS.controller("residentIdentificationListCtrl",residentIdentificationListCtrl),residentIdentificationListCtrl.$inject=["$rootScope","$state","$stateParams","residentArchivesService","physicalIdentificationService"],SMS.SERVICES.service("physicalIdentificationService",physicalIdentificationService),physicalIdentificationService.$inject=["$rootScope","$state","ResidentArchives","bootstrapTable"],SMS.CONTROLLERS.controller("diabetesBloodGlucoseEditCtrl",diabetesBloodGlucoseEditCtrl),diabetesBloodGlucoseEditCtrl.$inject=["$rootScope","$state","$filter","diabetesBloodGlucoseRecordService"],SMS.CONTROLLERS.controller("diabetesBloodGlucoseListCtrl",diabetesBloodGlucoseListCtrl),diabetesBloodGlucoseListCtrl.$inject=["$rootScope","$state","diabetesBloodGlucoseRecordService"],SMS.CONTROLLERS.controller("diabetesBloodGlucoseReportCtrl",diabetesBloodGlucoseReportCtrl),diabetesBloodGlucoseReportCtrl.$inject=["$rootScope","$state","diabetesBloodGlucoseRecordService"],SMS.CONTROLLERS.service("diabetesBloodGlucoseRecordService",diabetesBloodGlucoseRecordService),diabetesBloodGlucoseRecordService.$inject=["Diabetes","bootstrapTable","$rootScope","$state"],SMS.CONTROLLERS.controller("diabetesFollowupEditCtrl",diabetesFollowupEditCtrl),diabetesFollowupEditCtrl.$inject=["$rootScope","$state","$stateParams","diabetesFollowupRecordService","SessionStorage"],SMS.CONTROLLERS.controller("diabetesFollowupListCtrl",diabetesFollowupListCtrl),diabetesFollowupListCtrl.$inject=["$rootScope","$state","$stateParams","diabetesFollowupRecordService"],SMS.CONTROLLERS.service("diabetesFollowupRecordService",diabetesFollowupRecordService),diabetesFollowupRecordService.$inject=["$rootScope","$state","Diabetes","bootstrapTable"],SMS.CONTROLLERS.controller("hypertensionBloodPressureEditCtrl",hypertensionBloodPressureEditCtrl),hypertensionBloodPressureEditCtrl.$inject=["$rootScope","$state","$stateParams","hypertensionBloodPressureService","$filter"],SMS.CONTROLLERS.controller("hypertensionBloodPressureListCtrl",hypertensionBloodPressureListCtrl),hypertensionBloodPressureListCtrl.$inject=["$rootScope","$state","hypertensionBloodPressureService","$stateParams"],SMS.CONTROLLERS.controller("hypertensionBloodPressureReportCtrl",hypertensionBloodPressureReportCtrl),hypertensionBloodPressureReportCtrl.$inject=["$rootScope","$state","$stateParams","hypertensionBloodPressureService"],SMS.CONTROLLERS.service("hypertensionBloodPressureService",hypertensionBloodPressureService),hypertensionBloodPressureService.$inject=["Hypertension","bootstrapTable","$rootScope"],SMS.CONTROLLERS.controller("hypertensionEvaluationEditCtrl",hypertensionEvaluationEditCtrl),hypertensionEvaluationEditCtrl.$inject=["$rootScope","$state","$filter","hypertensionEvaluationRecordService"],SMS.CONTROLLERS.controller("hypertensionEvaluationListCtrl",hypertensionEvaluationListCtrl),hypertensionEvaluationListCtrl.$inject=["$rootScope","$state","$stateParams","hypertensionEvaluationRecordService","bootstrapTable"],SMS.CONTROLLERS.service("hypertensionEvaluationRecordService",hypertensionEvaluationRecordService),hypertensionEvaluationRecordService.$inject=["$rootScope","Hypertension"],SMS.CONTROLLERS.controller("hypertensionFollowupEditCtrl",hypertensionFollowupEditCtrl),hypertensionFollowupEditCtrl.$inject=["$rootScope","$state","$stateParams","hypertensionFollowupRecordService","SessionStorage"],SMS.CONTROLLERS.controller("hypertensionFollowupListCtrl",hypertensionFollowupListCtrl),hypertensionFollowupListCtrl.$inject=["$rootScope","$state","$stateParams","hypertensionFollowupRecordService"],SMS.CONTROLLERS.service("hypertensionFollowupRecordService",hypertensionFollowupRecordService),hypertensionFollowupRecordService.$inject=["$rootScope","$state","Hypertension","bootstrapTable"];